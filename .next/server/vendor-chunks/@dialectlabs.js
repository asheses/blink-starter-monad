"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@dialectlabs";
exports.ids = ["vendor-chunks/@dialectlabs"];
exports.modules = {

/***/ "(ssr)/./node_modules/@dialectlabs/blinks/dist/index.css":
/*!*********************************************************!*\
  !*** ./node_modules/@dialectlabs/blinks/dist/index.css ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"57417252f0d8\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGRpYWxlY3RsYWJzL2JsaW5rcy9kaXN0L2luZGV4LmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL2JsaW5rLXN0YXJ0ZXItbW9uYWQvLi9ub2RlX21vZHVsZXMvQGRpYWxlY3RsYWJzL2JsaW5rcy9kaXN0L2luZGV4LmNzcz9kMTU0Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiNTc0MTcyNTJmMGQ4XCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@dialectlabs/blinks/dist/index.css\n");

/***/ }),

/***/ "(ssr)/./node_modules/@dialectlabs/blinks-core/dist/chunk-7PJOXIA7.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@dialectlabs/blinks-core/dist/chunk-7PJOXIA7.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchBlink: () => (/* binding */ fetchBlink),\n/* harmony export */   fetchBlinkDataTable: () => (/* binding */ fetchBlinkDataTable),\n/* harmony export */   fetchBlinkList: () => (/* binding */ fetchBlinkList2),\n/* harmony export */   fetchBlinkList2: () => (/* binding */ fetchBlinkList),\n/* harmony export */   fetchBlinkPreview: () => (/* binding */ fetchBlinkPreview),\n/* harmony export */   fetchMetadata: () => (/* binding */ fetchMetadata),\n/* harmony export */   useAction: () => (/* binding */ useAction),\n/* harmony export */   useBlink: () => (/* binding */ useBlink),\n/* harmony export */   useBlink2: () => (/* binding */ useBlink2),\n/* harmony export */   useBlinkApiUrl: () => (/* binding */ useBlinkApiUrl),\n/* harmony export */   useBlinkDataTable: () => (/* binding */ useBlinkDataTable),\n/* harmony export */   useBlinkList: () => (/* binding */ useBlinkList2),\n/* harmony export */   useBlinkList2: () => (/* binding */ useBlinkList),\n/* harmony export */   useBlinkPreview: () => (/* binding */ useBlinkPreview),\n/* harmony export */   useBlinksRegistryInterval: () => (/* binding */ useBlinksRegistryInterval),\n/* harmony export */   useMetadata: () => (/* binding */ useMetadata)\n/* harmony export */ });\n/* harmony import */ var _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-ZIGSGW2L.js */ \"(ssr)/./node_modules/@dialectlabs/blinks-core/dist/chunk-ZIGSGW2L.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n\n\n// src/service-api/useBlink.ts\n\n\n// src/hooks/useBlink.ts\n\n\n// src/hooks/useBlinkApiUrl.ts\n\nfunction useBlinkApiUrl(url) {\n  const [apiUrl, setApiUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n  const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    let ignore = false;\n    if (!url) {\n      setApiUrl(null);\n      return;\n    }\n    setIsLoading(true);\n    (0,_chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.unfurlUrlToBlinkApiUrl)(new URL(url)).then((apiUrl2) => {\n      if (ignore) {\n        return;\n      }\n      setIsLoading(false);\n      setApiUrl(apiUrl2);\n    }).catch((e) => {\n      console.error(\n        \"[@dialectlabs/blinks-core] Failed to unfurl blink URL\",\n        e\n      );\n      if (!ignore) {\n        setApiUrl(null);\n      }\n    }).finally(() => {\n      if (!ignore) {\n        setIsLoading(false);\n      }\n    });\n    return () => {\n      ignore = true;\n    };\n  }, [url]);\n  return { actionApiUrl: apiUrl, blinkApiUrl: apiUrl, isUrlLoading: isLoading };\n}\n\n// src/hooks/useBlinksRegistryInterval.ts\n\nfunction useBlinksRegistryInterval() {\n  const [isRegistryLoaded, setRegistryLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const registry = _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.BlinksRegistry.getInstance();\n    registry.init().then(() => {\n      setRegistryLoaded(true);\n    });\n    return () => {\n      registry.stopRefresh();\n    };\n  }, [isRegistryLoaded]);\n  return { isRegistryLoaded };\n}\n\n// src/hooks/useBlink.ts\nfunction useBlink2({\n  url,\n  supportStrategy = _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.defaultBlinkSupportStrategy\n}) {\n  const { isRegistryLoaded } = useBlinksRegistryInterval();\n  const {\n    blink: blinkJson,\n    isLoading,\n    metadata,\n    refresh,\n    blinkApiUrl,\n    originalBlinkApiUrl\n  } = useBlink({ url: url.toString() });\n  const blink = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => isRegistryLoaded && blinkApiUrl && blinkJson && metadata ? _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.BlinkInstance.hydrate(\n      blinkApiUrl,\n      blinkJson,\n      metadata,\n      supportStrategy\n    ) : null,\n    [blinkApiUrl, blinkJson, metadata, supportStrategy, isRegistryLoaded]\n  );\n  return {\n    blink,\n    blinkJson,\n    metadata,\n    blinkApiUrl,\n    originalBlinkApiUrl,\n    isLoading: isLoading || !isRegistryLoaded,\n    refresh\n  };\n}\nfunction useAction({\n  url,\n  supportStrategy = _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.defaultBlinkSupportStrategy\n}) {\n  const { isRegistryLoaded } = useBlinksRegistryInterval();\n  const { blinkApiUrl, isUrlLoading } = useBlinkApiUrl(url);\n  const [blink, setBlink] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n  const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const [hasFetched, setHasFetched] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const fetchAction = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    if (!blinkApiUrl) {\n      return () => {\n      };\n    }\n    let ignore = false;\n    setIsLoading(true);\n    setHasFetched(false);\n    _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.BlinkInstance.fetch(blinkApiUrl, supportStrategy).then((action) => {\n      if (!ignore) {\n        setIsLoading(false);\n        setBlink(action);\n        setHasFetched(true);\n      }\n    }).catch((e) => {\n      if (!ignore) {\n        console.error(\"[@dialectlabs/blinks-core] Failed to fetch action\", e);\n        setBlink(null);\n      }\n    }).finally(() => {\n      if (!ignore) {\n        setIsLoading(false);\n      }\n    });\n    return () => {\n      ignore = true;\n    };\n  }, [blinkApiUrl, supportStrategy]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (!isRegistryLoaded) {\n      return;\n    }\n    const cleanup = fetchAction();\n    return () => {\n      cleanup();\n    };\n  }, [blinkApiUrl, isRegistryLoaded]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (!blink || !hasFetched) {\n      return;\n    }\n    try {\n      const updated = blink.withUpdate({\n        supportStrategy\n      });\n      setBlink(updated);\n    } catch (e) {\n      console.error(\"[@dialectlabs/blinks-core] Failed to update action\", e);\n    }\n  }, [supportStrategy, hasFetched]);\n  return {\n    // NOTE: this will be removed in the nearest future\n    action: blink,\n    blink,\n    isLoading: !isRegistryLoaded || isUrlLoading || isLoading,\n    refresh: fetchAction\n  };\n}\n\n// src/hooks/useBlinkList.ts\n\nvar useBlinkList = ({ id, wallet }) => {\n  const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const [data, setData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)();\n  const refetch = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    let ignore = false;\n    setLoading(true);\n    fetchBlinkList(id, wallet).then((data2) => {\n      if (!ignore) {\n        setData(data2);\n      }\n    }).finally(() => {\n      if (!ignore) {\n        setLoading(false);\n      }\n    });\n    return () => {\n      ignore = true;\n    };\n  }, [id, wallet]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const cancel = refetch();\n    return () => {\n      cancel();\n    };\n  }, [refetch]);\n  return {\n    loading,\n    refetch,\n    data: data?.entries ?? []\n  };\n};\nasync function fetchBlinkList(id, wallet) {\n  try {\n    const urlObj = new URL(\n      `https://registry.dial.to/v1/private/blink-lists/${id}`\n    );\n    if (wallet) {\n      urlObj.searchParams.append(\"account\", wallet);\n    }\n    const response = await fetch(urlObj, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        ..._chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.clientKey && { [_chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.BLINK_CLIENT_KEY_HEADER]: _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.clientKey }\n      }\n    });\n    if (!response.ok) {\n      console.error(\n        `[@dialectlabs/blinks] Failed to fetch blink list, response status: ${response.status}`\n      );\n      return {\n        entries: []\n      };\n    }\n    return await response.json();\n  } catch (e) {\n    console.error(`[@dialectlabs/blinks] Failed to fetch blink list`, e);\n    return {\n      entries: []\n    };\n  }\n}\n\n// src/hooks/useMetadata.ts\n\nvar useMetadata = ({ url, wallet }) => {\n  const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const [data, setData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)();\n  const refetch = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => {\n    let ignore = false;\n    setLoading(true);\n    fetchMetadata(url, wallet).then((data2) => {\n      if (!ignore) {\n        setData(data2);\n      }\n    }).finally(() => {\n      if (!ignore) {\n        setLoading(false);\n      }\n    });\n    return () => {\n      ignore = true;\n    };\n  }, [url, wallet]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const cancel = refetch();\n    return () => {\n      cancel();\n    };\n  }, [refetch]);\n  return {\n    loading,\n    refetch,\n    data\n  };\n};\nasync function fetchMetadata(url, wallet) {\n  try {\n    const urlObj = new URL(url);\n    if (wallet) {\n      urlObj.searchParams.append(\"account\", wallet);\n    }\n    const { url: proxyUrl, headers: proxyHeaders } = (0,_chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.proxifyMetadata)(\n      urlObj.toString()\n    );\n    const response = await fetch(proxyUrl, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        ...proxyHeaders\n      }\n    });\n    if (!response.ok) {\n      console.error(\n        `[@dialectlabs/blinks] Failed to fetch metadata, response status: ${response.status}`\n      );\n      return {\n        rows: []\n      };\n    }\n    return await response.json();\n  } catch (e) {\n    console.error(`[@dialectlabs/blinks] Failed to fetch metadata`, e);\n    return {\n      rows: []\n    };\n  }\n}\n\n// src/service-api/useBlink.ts\nvar useBlink = ({ url }) => {\n  const [blinkData, setBlinkData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n  const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const { blinkApiUrl, isUrlLoading } = useBlinkApiUrl(url);\n  const loadBlink = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    async ({ abortController } = {}) => {\n      if (!url || !blinkApiUrl) {\n        return;\n      }\n      setIsLoading(true);\n      try {\n        const blinkData2 = await fetchBlink(blinkApiUrl);\n        if (!abortController?.signal.aborted) {\n          setBlinkData(blinkData2);\n          setIsLoading(false);\n        }\n      } catch {\n        if (!abortController?.signal.aborted) {\n          console.error(\n            \"[@dialectlabs/blinks-core] Failed to fetch blink\",\n            blinkApiUrl\n          );\n          setBlinkData(null);\n          setIsLoading(false);\n        }\n      }\n    },\n    [url, blinkApiUrl]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const abortController = new AbortController();\n    loadBlink({ abortController });\n    return () => {\n      abortController.abort();\n    };\n  }, [loadBlink]);\n  return {\n    // raw blink data\n    blink: blinkData?.blink ?? null,\n    blinkApiUrl: blinkData?.url ?? null,\n    originalBlinkApiUrl: blinkApiUrl,\n    // blink metadata, such as blockchain and solana actions version (if specified in blink response)\n    metadata: blinkData?.metadata ?? null,\n    isLoading: isLoading || isUrlLoading,\n    refresh: loadBlink\n  };\n};\nvar fetchBlink = async (apiUrl, options = {}) => {\n  let url;\n  if ((0,_chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.shouldIgnoreProxy)(new URL(apiUrl)) || (0,_chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.shouldPreserveOriginal)(new URL(apiUrl))) {\n    url = new URL(apiUrl);\n  } else {\n    url = new URL(`https://api.dial.to/v1/blink`);\n    url.searchParams.append(\"apiUrl\", apiUrl);\n  }\n  const response = await fetch(url, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      ..._chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.clientKey && { [_chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.BLINK_CLIENT_KEY_HEADER]: _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.clientKey }\n    },\n    signal: options.abortController?.signal\n  });\n  if (!response.ok) {\n    throw new Error(\"Failed to fetch blink\");\n  }\n  const blink = await response.json();\n  const metadata = (0,_chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.getBlinkSupportabilityMetadata)(response);\n  return { blink, metadata, url: url.toString() };\n};\n\n// src/service-api/useBlinkDataTable.ts\n\nvar useBlinkDataTable = ({\n  blinkApiUrl,\n  wallet\n}) => {\n  const [isLoading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const [data, setData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n  const loadBlinkDataTable = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    async (options = {}) => {\n      if (!blinkApiUrl) {\n        return;\n      }\n      setLoading(true);\n      try {\n        const data2 = await fetchBlinkDataTable(blinkApiUrl, wallet, options);\n        if (!options.abortController?.signal.aborted) {\n          setData(data2);\n          setLoading(false);\n        }\n      } catch {\n        if (!options.abortController?.signal.aborted) {\n          console.error(\n            \"[@dialectlabs/blinks-core] Failed to fetch blink data table\",\n            blinkApiUrl\n          );\n          setData(null);\n          setLoading(false);\n        }\n      }\n    },\n    [blinkApiUrl, wallet]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const abortController = new AbortController();\n    loadBlinkDataTable({ abortController });\n    return () => {\n      abortController.abort();\n    };\n  }, [loadBlinkDataTable]);\n  return {\n    data,\n    isLoading,\n    refresh: loadBlinkDataTable\n  };\n};\nasync function fetchBlinkDataTable(blinkApiUrl, wallet, options = {}) {\n  const url = new URL(\"https://api.dial.to/v1/blink-data-table\");\n  url.searchParams.append(\"apiUrl\", blinkApiUrl);\n  if (wallet) {\n    url.searchParams.append(\"account\", wallet);\n  }\n  const response = await fetch(url, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      ..._chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.clientKey && { [_chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.BLINK_CLIENT_KEY_HEADER]: _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.clientKey }\n    },\n    signal: options.abortController?.signal\n  });\n  if (!response.ok) {\n    throw new Error(`Failed to fetch blink data table, url: ${blinkApiUrl}`);\n  }\n  return response.json();\n}\n\n// src/service-api/useBlinkList.ts\n\nvar useBlinkList2 = ({\n  id,\n  wallet\n}) => {\n  const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const [data, setData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n  const loadBlinkList = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    async (options = {}) => {\n      if (!id) {\n        return;\n      }\n      setLoading(true);\n      try {\n        const data2 = await fetchBlinkList2(id, wallet, options);\n        if (!options.abortController?.signal.aborted) {\n          setData(data2);\n          setLoading(false);\n        }\n      } catch {\n        if (!options.abortController?.signal.aborted) {\n          console.error(\n            `[@dialectlabs/blinks-core] Failed to fetch blink list: ${id}`\n          );\n          setData(null);\n          setLoading(false);\n        }\n      }\n    },\n    [id, wallet]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const abortController = new AbortController();\n    loadBlinkList({ abortController });\n    return () => {\n      abortController.abort();\n    };\n  }, [loadBlinkList]);\n  return {\n    loading,\n    refresh: loadBlinkList,\n    data\n  };\n};\nasync function fetchBlinkList2(id, wallet, options = {}) {\n  const urlObj = new URL(`https://api.dial.to/v1/blink-lists/${id}`);\n  if (wallet) {\n    urlObj.searchParams.append(\"account\", wallet);\n  }\n  const response = await fetch(urlObj, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      ..._chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.clientKey && { [_chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.BLINK_CLIENT_KEY_HEADER]: _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.clientKey }\n    },\n    signal: options.abortController?.signal\n  });\n  if (!response.ok) {\n    throw new Error(`Failed to fetch blink list: ${id}`);\n  }\n  return response.json();\n}\n\n// src/service-api/useBlinkPreview.ts\n\nvar useBlinkPreview = ({\n  blinkApiUrl\n}) => {\n  const [isLoading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const [preview, setPreview] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n  const loadBlinkPreview = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    async (options = {}) => {\n      if (!blinkApiUrl) {\n        return;\n      }\n      setLoading(true);\n      try {\n        const data = await fetchBlinkPreview(blinkApiUrl, options);\n        if (!options.abortController?.signal.aborted) {\n          setPreview(data);\n          setLoading(false);\n        }\n      } catch {\n        if (!options.abortController?.signal.aborted) {\n          console.error(\n            \"[@dialectlabs/blinks-core] Failed to fetch blink preview\",\n            blinkApiUrl\n          );\n          setPreview(null);\n          setLoading(false);\n        }\n      }\n    },\n    [blinkApiUrl]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const abortController = new AbortController();\n    loadBlinkPreview({ abortController });\n    return () => {\n      abortController.abort();\n    };\n  }, [loadBlinkPreview]);\n  return {\n    preview,\n    isLoading,\n    refresh: loadBlinkPreview\n  };\n};\nasync function fetchBlinkPreview(blinkApiUrl, options = {}) {\n  const url = new URL(\"https://api.dial.to/v1/blink-preview\");\n  url.searchParams.append(\"apiUrl\", blinkApiUrl);\n  const response = await fetch(url, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      ..._chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.clientKey && { [_chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.BLINK_CLIENT_KEY_HEADER]: _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_0__.clientKey }\n    },\n    signal: options.abortController?.signal\n  });\n  if (!response.ok) {\n    throw new Error(`Failed to fetch blink preview, url: ${blinkApiUrl}`);\n  }\n  return response.json();\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGRpYWxlY3RsYWJzL2JsaW5rcy1jb3JlL2Rpc3QvY2h1bmstN1BKT1hJQTcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBVzZCOztBQUU3QjtBQUNvRzs7QUFFcEc7QUFDNkY7O0FBRTdGO0FBQzRDO0FBQzVDO0FBQ0EsOEJBQThCLCtDQUFRO0FBQ3RDLG9DQUFvQywrQ0FBUTtBQUM1QyxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSwwRUFBc0I7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILFdBQVc7QUFDWDs7QUFFQTtBQUN1RTtBQUN2RTtBQUNBLGdEQUFnRCwrQ0FBUztBQUN6RCxFQUFFLGdEQUFVO0FBQ1oscUJBQXFCLDhEQUFjO0FBQ25DO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILFdBQVc7QUFDWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMkVBQTJCO0FBQy9DLENBQUM7QUFDRCxVQUFVLG1CQUFtQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksYUFBYSxxQkFBcUI7QUFDdEMsZ0JBQWdCLDhDQUFPO0FBQ3ZCLHFFQUFxRSw2REFBYTtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyRUFBMkI7QUFDL0MsQ0FBQztBQUNELFVBQVUsbUJBQW1CO0FBQzdCLFVBQVUsNEJBQTRCO0FBQ3RDLDRCQUE0QiwrQ0FBUztBQUNyQyxv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REFBVTtBQUNaO0FBQ0Esb0JBQW9CLGlCQUFpQjtBQUNyQztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVEO0FBQ3ZELCtEQUErRCxHQUFHO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyx5REFBUyxNQUFNLENBQUMsdUVBQXVCLEdBQUcseURBQVM7QUFDNUQsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0EsbURBQW1ELEdBQUc7QUFDdEQ7QUFDQTtBQUNBOztBQUVBO0FBQ29HO0FBQ3BHO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0NBQWtDLCtDQUFTO0FBQzNDLGdDQUFnQywrQ0FBUztBQUN6QywyQkFBMkIsa0RBQVk7QUFDdkMsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsRUFBRSxnREFBVTtBQUNaO0FBQ0EsdUJBQXVCLGlCQUFpQjtBQUN4QztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBEO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMseURBQVMsTUFBTSxDQUFDLHVFQUF1QixHQUFHLHlEQUFTO0FBQzVELEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBLDJEQUEyRCxZQUFZO0FBQ3ZFO0FBQ0E7QUFDQTs7QUFtQkUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibGluay1zdGFydGVyLW1vbmFkLy4vbm9kZV9tb2R1bGVzL0BkaWFsZWN0bGFicy9ibGlua3MtY29yZS9kaXN0L2NodW5rLTdQSk9YSUE3LmpzP2Y2OGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQkxJTktfQ0xJRU5UX0tFWV9IRUFERVIsXG4gIEJsaW5rSW5zdGFuY2UsXG4gIEJsaW5rc1JlZ2lzdHJ5LFxuICBjbGllbnRLZXksXG4gIGRlZmF1bHRCbGlua1N1cHBvcnRTdHJhdGVneSxcbiAgZ2V0QmxpbmtTdXBwb3J0YWJpbGl0eU1ldGFkYXRhLFxuICBwcm94aWZ5TWV0YWRhdGEsXG4gIHNob3VsZElnbm9yZVByb3h5LFxuICBzaG91bGRQcmVzZXJ2ZU9yaWdpbmFsLFxuICB1bmZ1cmxVcmxUb0JsaW5rQXBpVXJsXG59IGZyb20gXCIuL2NodW5rLVpJR1NHVzJMLmpzXCI7XG5cbi8vIHNyYy9zZXJ2aWNlLWFwaS91c2VCbGluay50c1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgYXMgdXNlQ2FsbGJhY2s0LCB1c2VFZmZlY3QgYXMgdXNlRWZmZWN0NiwgdXNlU3RhdGUgYXMgdXNlU3RhdGU2IH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9ob29rcy91c2VCbGluay50c1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCBhcyB1c2VFZmZlY3QzLCB1c2VNZW1vLCB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTMgfSBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL2hvb2tzL3VzZUJsaW5rQXBpVXJsLnRzXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VCbGlua0FwaVVybCh1cmwpIHtcbiAgY29uc3QgW2FwaVVybCwgc2V0QXBpVXJsXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBpZ25vcmUgPSBmYWxzZTtcbiAgICBpZiAoIXVybCkge1xuICAgICAgc2V0QXBpVXJsKG51bGwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgdW5mdXJsVXJsVG9CbGlua0FwaVVybChuZXcgVVJMKHVybCkpLnRoZW4oKGFwaVVybDIpID0+IHtcbiAgICAgIGlmIChpZ25vcmUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIHNldEFwaVVybChhcGlVcmwyKTtcbiAgICB9KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgXCJbQGRpYWxlY3RsYWJzL2JsaW5rcy1jb3JlXSBGYWlsZWQgdG8gdW5mdXJsIGJsaW5rIFVSTFwiLFxuICAgICAgICBlXG4gICAgICApO1xuICAgICAgaWYgKCFpZ25vcmUpIHtcbiAgICAgICAgc2V0QXBpVXJsKG51bGwpO1xuICAgICAgfVxuICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgaWYgKCFpZ25vcmUpIHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWdub3JlID0gdHJ1ZTtcbiAgICB9O1xuICB9LCBbdXJsXSk7XG4gIHJldHVybiB7IGFjdGlvbkFwaVVybDogYXBpVXJsLCBibGlua0FwaVVybDogYXBpVXJsLCBpc1VybExvYWRpbmc6IGlzTG9hZGluZyB9O1xufVxuXG4vLyBzcmMvaG9va3MvdXNlQmxpbmtzUmVnaXN0cnlJbnRlcnZhbC50c1xuaW1wb3J0IHsgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdDIsIHVzZVN0YXRlIGFzIHVzZVN0YXRlMiB9IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gdXNlQmxpbmtzUmVnaXN0cnlJbnRlcnZhbCgpIHtcbiAgY29uc3QgW2lzUmVnaXN0cnlMb2FkZWQsIHNldFJlZ2lzdHJ5TG9hZGVkXSA9IHVzZVN0YXRlMihmYWxzZSk7XG4gIHVzZUVmZmVjdDIoKCkgPT4ge1xuICAgIGNvbnN0IHJlZ2lzdHJ5ID0gQmxpbmtzUmVnaXN0cnkuZ2V0SW5zdGFuY2UoKTtcbiAgICByZWdpc3RyeS5pbml0KCkudGhlbigoKSA9PiB7XG4gICAgICBzZXRSZWdpc3RyeUxvYWRlZCh0cnVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcmVnaXN0cnkuc3RvcFJlZnJlc2goKTtcbiAgICB9O1xuICB9LCBbaXNSZWdpc3RyeUxvYWRlZF0pO1xuICByZXR1cm4geyBpc1JlZ2lzdHJ5TG9hZGVkIH07XG59XG5cbi8vIHNyYy9ob29rcy91c2VCbGluay50c1xuZnVuY3Rpb24gdXNlQmxpbmsyKHtcbiAgdXJsLFxuICBzdXBwb3J0U3RyYXRlZ3kgPSBkZWZhdWx0QmxpbmtTdXBwb3J0U3RyYXRlZ3lcbn0pIHtcbiAgY29uc3QgeyBpc1JlZ2lzdHJ5TG9hZGVkIH0gPSB1c2VCbGlua3NSZWdpc3RyeUludGVydmFsKCk7XG4gIGNvbnN0IHtcbiAgICBibGluazogYmxpbmtKc29uLFxuICAgIGlzTG9hZGluZyxcbiAgICBtZXRhZGF0YSxcbiAgICByZWZyZXNoLFxuICAgIGJsaW5rQXBpVXJsLFxuICAgIG9yaWdpbmFsQmxpbmtBcGlVcmxcbiAgfSA9IHVzZUJsaW5rKHsgdXJsOiB1cmwudG9TdHJpbmcoKSB9KTtcbiAgY29uc3QgYmxpbmsgPSB1c2VNZW1vKFxuICAgICgpID0+IGlzUmVnaXN0cnlMb2FkZWQgJiYgYmxpbmtBcGlVcmwgJiYgYmxpbmtKc29uICYmIG1ldGFkYXRhID8gQmxpbmtJbnN0YW5jZS5oeWRyYXRlKFxuICAgICAgYmxpbmtBcGlVcmwsXG4gICAgICBibGlua0pzb24sXG4gICAgICBtZXRhZGF0YSxcbiAgICAgIHN1cHBvcnRTdHJhdGVneVxuICAgICkgOiBudWxsLFxuICAgIFtibGlua0FwaVVybCwgYmxpbmtKc29uLCBtZXRhZGF0YSwgc3VwcG9ydFN0cmF0ZWd5LCBpc1JlZ2lzdHJ5TG9hZGVkXVxuICApO1xuICByZXR1cm4ge1xuICAgIGJsaW5rLFxuICAgIGJsaW5rSnNvbixcbiAgICBtZXRhZGF0YSxcbiAgICBibGlua0FwaVVybCxcbiAgICBvcmlnaW5hbEJsaW5rQXBpVXJsLFxuICAgIGlzTG9hZGluZzogaXNMb2FkaW5nIHx8ICFpc1JlZ2lzdHJ5TG9hZGVkLFxuICAgIHJlZnJlc2hcbiAgfTtcbn1cbmZ1bmN0aW9uIHVzZUFjdGlvbih7XG4gIHVybCxcbiAgc3VwcG9ydFN0cmF0ZWd5ID0gZGVmYXVsdEJsaW5rU3VwcG9ydFN0cmF0ZWd5XG59KSB7XG4gIGNvbnN0IHsgaXNSZWdpc3RyeUxvYWRlZCB9ID0gdXNlQmxpbmtzUmVnaXN0cnlJbnRlcnZhbCgpO1xuICBjb25zdCB7IGJsaW5rQXBpVXJsLCBpc1VybExvYWRpbmcgfSA9IHVzZUJsaW5rQXBpVXJsKHVybCk7XG4gIGNvbnN0IFtibGluaywgc2V0QmxpbmtdID0gdXNlU3RhdGUzKG51bGwpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUzKGZhbHNlKTtcbiAgY29uc3QgW2hhc0ZldGNoZWQsIHNldEhhc0ZldGNoZWRdID0gdXNlU3RhdGUzKGZhbHNlKTtcbiAgY29uc3QgZmV0Y2hBY3Rpb24gPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKCFibGlua0FwaVVybCkge1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgIH07XG4gICAgfVxuICAgIGxldCBpZ25vcmUgPSBmYWxzZTtcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgc2V0SGFzRmV0Y2hlZChmYWxzZSk7XG4gICAgQmxpbmtJbnN0YW5jZS5mZXRjaChibGlua0FwaVVybCwgc3VwcG9ydFN0cmF0ZWd5KS50aGVuKChhY3Rpb24pID0+IHtcbiAgICAgIGlmICghaWdub3JlKSB7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHNldEJsaW5rKGFjdGlvbik7XG4gICAgICAgIHNldEhhc0ZldGNoZWQodHJ1ZSk7XG4gICAgICB9XG4gICAgfSkuY2F0Y2goKGUpID0+IHtcbiAgICAgIGlmICghaWdub3JlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbQGRpYWxlY3RsYWJzL2JsaW5rcy1jb3JlXSBGYWlsZWQgdG8gZmV0Y2ggYWN0aW9uXCIsIGUpO1xuICAgICAgICBzZXRCbGluayhudWxsKTtcbiAgICAgIH1cbiAgICB9KS5maW5hbGx5KCgpID0+IHtcbiAgICAgIGlmICghaWdub3JlKSB7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlnbm9yZSA9IHRydWU7XG4gICAgfTtcbiAgfSwgW2JsaW5rQXBpVXJsLCBzdXBwb3J0U3RyYXRlZ3ldKTtcbiAgdXNlRWZmZWN0MygoKSA9PiB7XG4gICAgaWYgKCFpc1JlZ2lzdHJ5TG9hZGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNsZWFudXAgPSBmZXRjaEFjdGlvbigpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjbGVhbnVwKCk7XG4gICAgfTtcbiAgfSwgW2JsaW5rQXBpVXJsLCBpc1JlZ2lzdHJ5TG9hZGVkXSk7XG4gIHVzZUVmZmVjdDMoKCkgPT4ge1xuICAgIGlmICghYmxpbmsgfHwgIWhhc0ZldGNoZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVwZGF0ZWQgPSBibGluay53aXRoVXBkYXRlKHtcbiAgICAgICAgc3VwcG9ydFN0cmF0ZWd5XG4gICAgICB9KTtcbiAgICAgIHNldEJsaW5rKHVwZGF0ZWQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbQGRpYWxlY3RsYWJzL2JsaW5rcy1jb3JlXSBGYWlsZWQgdG8gdXBkYXRlIGFjdGlvblwiLCBlKTtcbiAgICB9XG4gIH0sIFtzdXBwb3J0U3RyYXRlZ3ksIGhhc0ZldGNoZWRdKTtcbiAgcmV0dXJuIHtcbiAgICAvLyBOT1RFOiB0aGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmVhcmVzdCBmdXR1cmVcbiAgICBhY3Rpb246IGJsaW5rLFxuICAgIGJsaW5rLFxuICAgIGlzTG9hZGluZzogIWlzUmVnaXN0cnlMb2FkZWQgfHwgaXNVcmxMb2FkaW5nIHx8IGlzTG9hZGluZyxcbiAgICByZWZyZXNoOiBmZXRjaEFjdGlvblxuICB9O1xufVxuXG4vLyBzcmMvaG9va3MvdXNlQmxpbmtMaXN0LnRzXG5pbXBvcnQgeyB1c2VDYWxsYmFjayBhcyB1c2VDYWxsYmFjazIsIHVzZUVmZmVjdCBhcyB1c2VFZmZlY3Q0LCB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTQgfSBmcm9tIFwicmVhY3RcIjtcbnZhciB1c2VCbGlua0xpc3QgPSAoeyBpZCwgd2FsbGV0IH0pID0+IHtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGU0KGZhbHNlKTtcbiAgY29uc3QgW2RhdGEsIHNldERhdGFdID0gdXNlU3RhdGU0KCk7XG4gIGNvbnN0IHJlZmV0Y2ggPSB1c2VDYWxsYmFjazIoKCkgPT4ge1xuICAgIGxldCBpZ25vcmUgPSBmYWxzZTtcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIGZldGNoQmxpbmtMaXN0KGlkLCB3YWxsZXQpLnRoZW4oKGRhdGEyKSA9PiB7XG4gICAgICBpZiAoIWlnbm9yZSkge1xuICAgICAgICBzZXREYXRhKGRhdGEyKTtcbiAgICAgIH1cbiAgICB9KS5maW5hbGx5KCgpID0+IHtcbiAgICAgIGlmICghaWdub3JlKSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZ25vcmUgPSB0cnVlO1xuICAgIH07XG4gIH0sIFtpZCwgd2FsbGV0XSk7XG4gIHVzZUVmZmVjdDQoKCkgPT4ge1xuICAgIGNvbnN0IGNhbmNlbCA9IHJlZmV0Y2goKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2FuY2VsKCk7XG4gICAgfTtcbiAgfSwgW3JlZmV0Y2hdKTtcbiAgcmV0dXJuIHtcbiAgICBsb2FkaW5nLFxuICAgIHJlZmV0Y2gsXG4gICAgZGF0YTogZGF0YT8uZW50cmllcyA/PyBbXVxuICB9O1xufTtcbmFzeW5jIGZ1bmN0aW9uIGZldGNoQmxpbmtMaXN0KGlkLCB3YWxsZXQpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1cmxPYmogPSBuZXcgVVJMKFxuICAgICAgYGh0dHBzOi8vcmVnaXN0cnkuZGlhbC50by92MS9wcml2YXRlL2JsaW5rLWxpc3RzLyR7aWR9YFxuICAgICk7XG4gICAgaWYgKHdhbGxldCkge1xuICAgICAgdXJsT2JqLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJhY2NvdW50XCIsIHdhbGxldCk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsT2JqLCB7XG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEFjY2VwdDogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIC4uLmNsaWVudEtleSAmJiB7IFtCTElOS19DTElFTlRfS0VZX0hFQURFUl06IGNsaWVudEtleSB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgYFtAZGlhbGVjdGxhYnMvYmxpbmtzXSBGYWlsZWQgdG8gZmV0Y2ggYmxpbmsgbGlzdCwgcmVzcG9uc2Ugc3RhdHVzOiAke3Jlc3BvbnNlLnN0YXR1c31gXG4gICAgICApO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZW50cmllczogW11cbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGBbQGRpYWxlY3RsYWJzL2JsaW5rc10gRmFpbGVkIHRvIGZldGNoIGJsaW5rIGxpc3RgLCBlKTtcbiAgICByZXR1cm4ge1xuICAgICAgZW50cmllczogW11cbiAgICB9O1xuICB9XG59XG5cbi8vIHNyYy9ob29rcy91c2VNZXRhZGF0YS50c1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgYXMgdXNlQ2FsbGJhY2szLCB1c2VFZmZlY3QgYXMgdXNlRWZmZWN0NSwgdXNlU3RhdGUgYXMgdXNlU3RhdGU1IH0gZnJvbSBcInJlYWN0XCI7XG52YXIgdXNlTWV0YWRhdGEgPSAoeyB1cmwsIHdhbGxldCB9KSA9PiB7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlNShmYWxzZSk7XG4gIGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IHVzZVN0YXRlNSgpO1xuICBjb25zdCByZWZldGNoID0gdXNlQ2FsbGJhY2szKCgpID0+IHtcbiAgICBsZXQgaWdub3JlID0gZmFsc2U7XG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBmZXRjaE1ldGFkYXRhKHVybCwgd2FsbGV0KS50aGVuKChkYXRhMikgPT4ge1xuICAgICAgaWYgKCFpZ25vcmUpIHtcbiAgICAgICAgc2V0RGF0YShkYXRhMik7XG4gICAgICB9XG4gICAgfSkuZmluYWxseSgoKSA9PiB7XG4gICAgICBpZiAoIWlnbm9yZSkge1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWdub3JlID0gdHJ1ZTtcbiAgICB9O1xuICB9LCBbdXJsLCB3YWxsZXRdKTtcbiAgdXNlRWZmZWN0NSgoKSA9PiB7XG4gICAgY29uc3QgY2FuY2VsID0gcmVmZXRjaCgpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjYW5jZWwoKTtcbiAgICB9O1xuICB9LCBbcmVmZXRjaF0pO1xuICByZXR1cm4ge1xuICAgIGxvYWRpbmcsXG4gICAgcmVmZXRjaCxcbiAgICBkYXRhXG4gIH07XG59O1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hNZXRhZGF0YSh1cmwsIHdhbGxldCkge1xuICB0cnkge1xuICAgIGNvbnN0IHVybE9iaiA9IG5ldyBVUkwodXJsKTtcbiAgICBpZiAod2FsbGV0KSB7XG4gICAgICB1cmxPYmouc2VhcmNoUGFyYW1zLmFwcGVuZChcImFjY291bnRcIiwgd2FsbGV0KTtcbiAgICB9XG4gICAgY29uc3QgeyB1cmw6IHByb3h5VXJsLCBoZWFkZXJzOiBwcm94eUhlYWRlcnMgfSA9IHByb3hpZnlNZXRhZGF0YShcbiAgICAgIHVybE9iai50b1N0cmluZygpXG4gICAgKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHByb3h5VXJsLCB7XG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIEFjY2VwdDogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIC4uLnByb3h5SGVhZGVyc1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIGBbQGRpYWxlY3RsYWJzL2JsaW5rc10gRmFpbGVkIHRvIGZldGNoIG1ldGFkYXRhLCByZXNwb25zZSBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWBcbiAgICAgICk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByb3dzOiBbXVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoYFtAZGlhbGVjdGxhYnMvYmxpbmtzXSBGYWlsZWQgdG8gZmV0Y2ggbWV0YWRhdGFgLCBlKTtcbiAgICByZXR1cm4ge1xuICAgICAgcm93czogW11cbiAgICB9O1xuICB9XG59XG5cbi8vIHNyYy9zZXJ2aWNlLWFwaS91c2VCbGluay50c1xudmFyIHVzZUJsaW5rID0gKHsgdXJsIH0pID0+IHtcbiAgY29uc3QgW2JsaW5rRGF0YSwgc2V0QmxpbmtEYXRhXSA9IHVzZVN0YXRlNihudWxsKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlNihmYWxzZSk7XG4gIGNvbnN0IHsgYmxpbmtBcGlVcmwsIGlzVXJsTG9hZGluZyB9ID0gdXNlQmxpbmtBcGlVcmwodXJsKTtcbiAgY29uc3QgbG9hZEJsaW5rID0gdXNlQ2FsbGJhY2s0KFxuICAgIGFzeW5jICh7IGFib3J0Q29udHJvbGxlciB9ID0ge30pID0+IHtcbiAgICAgIGlmICghdXJsIHx8ICFibGlua0FwaVVybCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBibGlua0RhdGEyID0gYXdhaXQgZmV0Y2hCbGluayhibGlua0FwaVVybCk7XG4gICAgICAgIGlmICghYWJvcnRDb250cm9sbGVyPy5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgIHNldEJsaW5rRGF0YShibGlua0RhdGEyKTtcbiAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgaWYgKCFhYm9ydENvbnRyb2xsZXI/LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiW0BkaWFsZWN0bGFicy9ibGlua3MtY29yZV0gRmFpbGVkIHRvIGZldGNoIGJsaW5rXCIsXG4gICAgICAgICAgICBibGlua0FwaVVybFxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0QmxpbmtEYXRhKG51bGwpO1xuICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIFt1cmwsIGJsaW5rQXBpVXJsXVxuICApO1xuICB1c2VFZmZlY3Q2KCgpID0+IHtcbiAgICBjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgbG9hZEJsaW5rKHsgYWJvcnRDb250cm9sbGVyIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICB9O1xuICB9LCBbbG9hZEJsaW5rXSk7XG4gIHJldHVybiB7XG4gICAgLy8gcmF3IGJsaW5rIGRhdGFcbiAgICBibGluazogYmxpbmtEYXRhPy5ibGluayA/PyBudWxsLFxuICAgIGJsaW5rQXBpVXJsOiBibGlua0RhdGE/LnVybCA/PyBudWxsLFxuICAgIG9yaWdpbmFsQmxpbmtBcGlVcmw6IGJsaW5rQXBpVXJsLFxuICAgIC8vIGJsaW5rIG1ldGFkYXRhLCBzdWNoIGFzIGJsb2NrY2hhaW4gYW5kIHNvbGFuYSBhY3Rpb25zIHZlcnNpb24gKGlmIHNwZWNpZmllZCBpbiBibGluayByZXNwb25zZSlcbiAgICBtZXRhZGF0YTogYmxpbmtEYXRhPy5tZXRhZGF0YSA/PyBudWxsLFxuICAgIGlzTG9hZGluZzogaXNMb2FkaW5nIHx8IGlzVXJsTG9hZGluZyxcbiAgICByZWZyZXNoOiBsb2FkQmxpbmtcbiAgfTtcbn07XG52YXIgZmV0Y2hCbGluayA9IGFzeW5jIChhcGlVcmwsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICBsZXQgdXJsO1xuICBpZiAoc2hvdWxkSWdub3JlUHJveHkobmV3IFVSTChhcGlVcmwpKSB8fCBzaG91bGRQcmVzZXJ2ZU9yaWdpbmFsKG5ldyBVUkwoYXBpVXJsKSkpIHtcbiAgICB1cmwgPSBuZXcgVVJMKGFwaVVybCk7XG4gIH0gZWxzZSB7XG4gICAgdXJsID0gbmV3IFVSTChgaHR0cHM6Ly9hcGkuZGlhbC50by92MS9ibGlua2ApO1xuICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwiYXBpVXJsXCIsIGFwaVVybCk7XG4gIH1cbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgaGVhZGVyczoge1xuICAgICAgQWNjZXB0OiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIC4uLmNsaWVudEtleSAmJiB7IFtCTElOS19DTElFTlRfS0VZX0hFQURFUl06IGNsaWVudEtleSB9XG4gICAgfSxcbiAgICBzaWduYWw6IG9wdGlvbnMuYWJvcnRDb250cm9sbGVyPy5zaWduYWxcbiAgfSk7XG4gIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggYmxpbmtcIik7XG4gIH1cbiAgY29uc3QgYmxpbmsgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIGNvbnN0IG1ldGFkYXRhID0gZ2V0QmxpbmtTdXBwb3J0YWJpbGl0eU1ldGFkYXRhKHJlc3BvbnNlKTtcbiAgcmV0dXJuIHsgYmxpbmssIG1ldGFkYXRhLCB1cmw6IHVybC50b1N0cmluZygpIH07XG59O1xuXG4vLyBzcmMvc2VydmljZS1hcGkvdXNlQmxpbmtEYXRhVGFibGUudHNcbmltcG9ydCB7IHVzZUNhbGxiYWNrIGFzIHVzZUNhbGxiYWNrNSwgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdDcsIHVzZVN0YXRlIGFzIHVzZVN0YXRlNyB9IGZyb20gXCJyZWFjdFwiO1xudmFyIHVzZUJsaW5rRGF0YVRhYmxlID0gKHtcbiAgYmxpbmtBcGlVcmwsXG4gIHdhbGxldFxufSkgPT4ge1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlNyhmYWxzZSk7XG4gIGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IHVzZVN0YXRlNyhudWxsKTtcbiAgY29uc3QgbG9hZEJsaW5rRGF0YVRhYmxlID0gdXNlQ2FsbGJhY2s1KFxuICAgIGFzeW5jIChvcHRpb25zID0ge30pID0+IHtcbiAgICAgIGlmICghYmxpbmtBcGlVcmwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGEyID0gYXdhaXQgZmV0Y2hCbGlua0RhdGFUYWJsZShibGlua0FwaVVybCwgd2FsbGV0LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKCFvcHRpb25zLmFib3J0Q29udHJvbGxlcj8uc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICBzZXREYXRhKGRhdGEyKTtcbiAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIGlmICghb3B0aW9ucy5hYm9ydENvbnRyb2xsZXI/LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiW0BkaWFsZWN0bGFicy9ibGlua3MtY29yZV0gRmFpbGVkIHRvIGZldGNoIGJsaW5rIGRhdGEgdGFibGVcIixcbiAgICAgICAgICAgIGJsaW5rQXBpVXJsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXREYXRhKG51bGwpO1xuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBbYmxpbmtBcGlVcmwsIHdhbGxldF1cbiAgKTtcbiAgdXNlRWZmZWN0NygoKSA9PiB7XG4gICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGxvYWRCbGlua0RhdGFUYWJsZSh7IGFib3J0Q29udHJvbGxlciB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgYWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG4gICAgfTtcbiAgfSwgW2xvYWRCbGlua0RhdGFUYWJsZV0pO1xuICByZXR1cm4ge1xuICAgIGRhdGEsXG4gICAgaXNMb2FkaW5nLFxuICAgIHJlZnJlc2g6IGxvYWRCbGlua0RhdGFUYWJsZVxuICB9O1xufTtcbmFzeW5jIGZ1bmN0aW9uIGZldGNoQmxpbmtEYXRhVGFibGUoYmxpbmtBcGlVcmwsIHdhbGxldCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHVybCA9IG5ldyBVUkwoXCJodHRwczovL2FwaS5kaWFsLnRvL3YxL2JsaW5rLWRhdGEtdGFibGVcIik7XG4gIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwiYXBpVXJsXCIsIGJsaW5rQXBpVXJsKTtcbiAgaWYgKHdhbGxldCkge1xuICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwiYWNjb3VudFwiLCB3YWxsZXQpO1xuICB9XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIEFjY2VwdDogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAuLi5jbGllbnRLZXkgJiYgeyBbQkxJTktfQ0xJRU5UX0tFWV9IRUFERVJdOiBjbGllbnRLZXkgfVxuICAgIH0sXG4gICAgc2lnbmFsOiBvcHRpb25zLmFib3J0Q29udHJvbGxlcj8uc2lnbmFsXG4gIH0pO1xuICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggYmxpbmsgZGF0YSB0YWJsZSwgdXJsOiAke2JsaW5rQXBpVXJsfWApO1xuICB9XG4gIHJldHVybiByZXNwb25zZS5qc29uKCk7XG59XG5cbi8vIHNyYy9zZXJ2aWNlLWFwaS91c2VCbGlua0xpc3QudHNcbmltcG9ydCB7IHVzZUNhbGxiYWNrIGFzIHVzZUNhbGxiYWNrNiwgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdDgsIHVzZVN0YXRlIGFzIHVzZVN0YXRlOCB9IGZyb20gXCJyZWFjdFwiO1xudmFyIHVzZUJsaW5rTGlzdDIgPSAoe1xuICBpZCxcbiAgd2FsbGV0XG59KSA9PiB7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlOChmYWxzZSk7XG4gIGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IHVzZVN0YXRlOChudWxsKTtcbiAgY29uc3QgbG9hZEJsaW5rTGlzdCA9IHVzZUNhbGxiYWNrNihcbiAgICBhc3luYyAob3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICBpZiAoIWlkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkYXRhMiA9IGF3YWl0IGZldGNoQmxpbmtMaXN0MihpZCwgd2FsbGV0LCBvcHRpb25zKTtcbiAgICAgICAgaWYgKCFvcHRpb25zLmFib3J0Q29udHJvbGxlcj8uc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICBzZXREYXRhKGRhdGEyKTtcbiAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIGlmICghb3B0aW9ucy5hYm9ydENvbnRyb2xsZXI/LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIGBbQGRpYWxlY3RsYWJzL2JsaW5rcy1jb3JlXSBGYWlsZWQgdG8gZmV0Y2ggYmxpbmsgbGlzdDogJHtpZH1gXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXREYXRhKG51bGwpO1xuICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBbaWQsIHdhbGxldF1cbiAgKTtcbiAgdXNlRWZmZWN0OCgoKSA9PiB7XG4gICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGxvYWRCbGlua0xpc3QoeyBhYm9ydENvbnRyb2xsZXIgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgIH07XG4gIH0sIFtsb2FkQmxpbmtMaXN0XSk7XG4gIHJldHVybiB7XG4gICAgbG9hZGluZyxcbiAgICByZWZyZXNoOiBsb2FkQmxpbmtMaXN0LFxuICAgIGRhdGFcbiAgfTtcbn07XG5hc3luYyBmdW5jdGlvbiBmZXRjaEJsaW5rTGlzdDIoaWQsIHdhbGxldCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHVybE9iaiA9IG5ldyBVUkwoYGh0dHBzOi8vYXBpLmRpYWwudG8vdjEvYmxpbmstbGlzdHMvJHtpZH1gKTtcbiAgaWYgKHdhbGxldCkge1xuICAgIHVybE9iai5zZWFyY2hQYXJhbXMuYXBwZW5kKFwiYWNjb3VudFwiLCB3YWxsZXQpO1xuICB9XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsT2JqLCB7XG4gICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIEFjY2VwdDogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAuLi5jbGllbnRLZXkgJiYgeyBbQkxJTktfQ0xJRU5UX0tFWV9IRUFERVJdOiBjbGllbnRLZXkgfVxuICAgIH0sXG4gICAgc2lnbmFsOiBvcHRpb25zLmFib3J0Q29udHJvbGxlcj8uc2lnbmFsXG4gIH0pO1xuICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggYmxpbmsgbGlzdDogJHtpZH1gKTtcbiAgfVxuICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xufVxuXG4vLyBzcmMvc2VydmljZS1hcGkvdXNlQmxpbmtQcmV2aWV3LnRzXG5pbXBvcnQgeyB1c2VDYWxsYmFjayBhcyB1c2VDYWxsYmFjazcsIHVzZUVmZmVjdCBhcyB1c2VFZmZlY3Q5LCB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTkgfSBmcm9tIFwicmVhY3RcIjtcbnZhciB1c2VCbGlua1ByZXZpZXcgPSAoe1xuICBibGlua0FwaVVybFxufSkgPT4ge1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlOShmYWxzZSk7XG4gIGNvbnN0IFtwcmV2aWV3LCBzZXRQcmV2aWV3XSA9IHVzZVN0YXRlOShudWxsKTtcbiAgY29uc3QgbG9hZEJsaW5rUHJldmlldyA9IHVzZUNhbGxiYWNrNyhcbiAgICBhc3luYyAob3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICBpZiAoIWJsaW5rQXBpVXJsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgZmV0Y2hCbGlua1ByZXZpZXcoYmxpbmtBcGlVcmwsIG9wdGlvbnMpO1xuICAgICAgICBpZiAoIW9wdGlvbnMuYWJvcnRDb250cm9sbGVyPy5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgIHNldFByZXZpZXcoZGF0YSk7XG4gICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICBpZiAoIW9wdGlvbnMuYWJvcnRDb250cm9sbGVyPy5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIltAZGlhbGVjdGxhYnMvYmxpbmtzLWNvcmVdIEZhaWxlZCB0byBmZXRjaCBibGluayBwcmV2aWV3XCIsXG4gICAgICAgICAgICBibGlua0FwaVVybFxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0UHJldmlldyhudWxsKTtcbiAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgW2JsaW5rQXBpVXJsXVxuICApO1xuICB1c2VFZmZlY3Q5KCgpID0+IHtcbiAgICBjb25zdCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgbG9hZEJsaW5rUHJldmlldyh7IGFib3J0Q29udHJvbGxlciB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgYWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG4gICAgfTtcbiAgfSwgW2xvYWRCbGlua1ByZXZpZXddKTtcbiAgcmV0dXJuIHtcbiAgICBwcmV2aWV3LFxuICAgIGlzTG9hZGluZyxcbiAgICByZWZyZXNoOiBsb2FkQmxpbmtQcmV2aWV3XG4gIH07XG59O1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hCbGlua1ByZXZpZXcoYmxpbmtBcGlVcmwsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB1cmwgPSBuZXcgVVJMKFwiaHR0cHM6Ly9hcGkuZGlhbC50by92MS9ibGluay1wcmV2aWV3XCIpO1xuICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcImFwaVVybFwiLCBibGlua0FwaVVybCk7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIEFjY2VwdDogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAuLi5jbGllbnRLZXkgJiYgeyBbQkxJTktfQ0xJRU5UX0tFWV9IRUFERVJdOiBjbGllbnRLZXkgfVxuICAgIH0sXG4gICAgc2lnbmFsOiBvcHRpb25zLmFib3J0Q29udHJvbGxlcj8uc2lnbmFsXG4gIH0pO1xuICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggYmxpbmsgcHJldmlldywgdXJsOiAke2JsaW5rQXBpVXJsfWApO1xuICB9XG4gIHJldHVybiByZXNwb25zZS5qc29uKCk7XG59XG5cbmV4cG9ydCB7XG4gIHVzZUJsaW5rLFxuICBmZXRjaEJsaW5rLFxuICB1c2VCbGlua0RhdGFUYWJsZSxcbiAgZmV0Y2hCbGlua0RhdGFUYWJsZSxcbiAgdXNlQmxpbmtMaXN0MiBhcyB1c2VCbGlua0xpc3QsXG4gIGZldGNoQmxpbmtMaXN0MiBhcyBmZXRjaEJsaW5rTGlzdCxcbiAgdXNlQmxpbmtQcmV2aWV3LFxuICBmZXRjaEJsaW5rUHJldmlldyxcbiAgdXNlQmxpbmtBcGlVcmwsXG4gIHVzZUJsaW5rc1JlZ2lzdHJ5SW50ZXJ2YWwsXG4gIHVzZUJsaW5rMixcbiAgdXNlQWN0aW9uLFxuICB1c2VCbGlua0xpc3QgYXMgdXNlQmxpbmtMaXN0MixcbiAgZmV0Y2hCbGlua0xpc3QgYXMgZmV0Y2hCbGlua0xpc3QyLFxuICB1c2VNZXRhZGF0YSxcbiAgZmV0Y2hNZXRhZGF0YVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@dialectlabs/blinks-core/dist/chunk-7PJOXIA7.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@dialectlabs/blinks-core/dist/chunk-ZIGSGW2L.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@dialectlabs/blinks-core/dist/chunk-ZIGSGW2L.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractActionComponent: () => (/* binding */ AbstractActionComponent),\n/* harmony export */   BASELINE_ACTION_VERSION: () => (/* binding */ BASELINE_ACTION_VERSION),\n/* harmony export */   BASELINE_BLINK_BLOCKCHAIN_IDS: () => (/* binding */ BASELINE_BLINK_BLOCKCHAIN_IDS),\n/* harmony export */   BLINK_CLIENT_KEY_HEADER: () => (/* binding */ BLINK_CLIENT_KEY_HEADER),\n/* harmony export */   BlinkInstance: () => (/* binding */ BlinkInstance6),\n/* harmony export */   BlinksRegistry: () => (/* binding */ BlinksRegistry),\n/* harmony export */   BlinksURLMapper: () => (/* binding */ BlinksURLMapper),\n/* harmony export */   BlockchainIds: () => (/* binding */ BlockchainIds),\n/* harmony export */   ButtonActionComponent: () => (/* binding */ ButtonActionComponent),\n/* harmony export */   DEFAULT_SUPPORTED_BLOCKCHAIN_IDS: () => (/* binding */ DEFAULT_SUPPORTED_BLOCKCHAIN_IDS),\n/* harmony export */   EMPTY_OBJECT: () => (/* binding */ EMPTY_OBJECT),\n/* harmony export */   FormActionComponent: () => (/* binding */ FormActionComponent),\n/* harmony export */   MAX_SUPPORTED_ACTION_VERSION: () => (/* binding */ MAX_SUPPORTED_ACTION_VERSION),\n/* harmony export */   MultiValueActionComponent: () => (/* binding */ MultiValueActionComponent),\n/* harmony export */   SOLANA_ACTION_PREFIX: () => (/* binding */ SOLANA_ACTION_PREFIX),\n/* harmony export */   SignMessageVerificationErrorType: () => (/* binding */ SignMessageVerificationErrorType),\n/* harmony export */   SingleValueActionComponent: () => (/* binding */ SingleValueActionComponent),\n/* harmony export */   checkSecurity: () => (/* binding */ checkSecurity),\n/* harmony export */   clientKey: () => (/* binding */ clientKey),\n/* harmony export */   createSignMessageText: () => (/* binding */ createSignMessageText),\n/* harmony export */   defaultBlinkSupportStrategy: () => (/* binding */ defaultBlinkSupportStrategy),\n/* harmony export */   fetchBlinksRegistryConfig: () => (/* binding */ fetchBlinksRegistryConfig),\n/* harmony export */   getBlinkSupportabilityMetadata: () => (/* binding */ getBlinkSupportabilityMetadata),\n/* harmony export */   getExtendedBlinkState: () => (/* binding */ getExtendedBlinkState),\n/* harmony export */   getExtendedInterstitialState: () => (/* binding */ getExtendedInterstitialState),\n/* harmony export */   getExtendedWebsiteState: () => (/* binding */ getExtendedWebsiteState),\n/* harmony export */   isBlockchainSupported: () => (/* binding */ isBlockchainSupported),\n/* harmony export */   isInterstitial: () => (/* binding */ isInterstitial),\n/* harmony export */   isParameterSelectable: () => (/* binding */ isParameterSelectable),\n/* harmony export */   isPatternAllowed: () => (/* binding */ isPatternAllowed),\n/* harmony export */   isProxified: () => (/* binding */ isProxified),\n/* harmony export */   isVersionSupported: () => (/* binding */ isVersionSupported),\n/* harmony export */   mergeBlinkStates: () => (/* binding */ mergeBlinkStates),\n/* harmony export */   parseSignMessageText: () => (/* binding */ parseSignMessageText),\n/* harmony export */   proxify: () => (/* binding */ proxify),\n/* harmony export */   proxifyImage: () => (/* binding */ proxifyImage),\n/* harmony export */   proxifyMetadata: () => (/* binding */ proxifyMetadata),\n/* harmony export */   setClientKey: () => (/* binding */ setClientKey),\n/* harmony export */   setProxyUrl: () => (/* binding */ setProxyUrl),\n/* harmony export */   shouldIgnoreProxy: () => (/* binding */ shouldIgnoreProxy),\n/* harmony export */   shouldPreserveOriginal: () => (/* binding */ shouldPreserveOriginal),\n/* harmony export */   unfurlUrlToBlinkApiUrl: () => (/* binding */ unfurlUrlToBlinkApiUrl),\n/* harmony export */   verifySignMessageData: () => (/* binding */ verifySignMessageData)\n/* harmony export */ });\n/* harmony import */ var nanoid_non_secure__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nanoid/non-secure */ \"(ssr)/./node_modules/@dialectlabs/blinks-core/node_modules/nanoid/non-secure/index.js\");\n// src/utils/caip-2.ts\nvar BlockchainIds = {\n  SOLANA_MAINNET: \"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\",\n  SOLANA_DEVNET: \"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1\",\n  SOLANA_TESTNET: \"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3\",\n  ETHEREUM_MAINNET: \"eip155:1\",\n  ETHEREUM_SEPOLIA: \"eip155:11155111\",\n  MONAD_DEVNET: \"eip155:20143\"\n};\nvar BlockchainNames = {\n  [BlockchainIds.SOLANA_MAINNET]: \"Solana Mainnet\",\n  [BlockchainIds.SOLANA_DEVNET]: \"Solana Devnet\",\n  [BlockchainIds.SOLANA_TESTNET]: \"Solana Testnet\",\n  [BlockchainIds.ETHEREUM_MAINNET]: \"Ethereum Mainnet\",\n  [BlockchainIds.ETHEREUM_SEPOLIA]: \"Ethereum Sepolia\",\n  [BlockchainIds.MONAD_DEVNET]: \"Monad Devnet\"\n};\nfunction getShortBlockchainName(id) {\n  const blockchainName = BlockchainNames[id];\n  if (!blockchainName) {\n    const [chainId, reference] = id.split(\":\");\n    if (chainId && reference) {\n      const truncatedReference = reference.length > 3 ? reference.slice(0, 3) + \"...\" : reference;\n      return `${chainId}:${truncatedReference}`;\n    } else {\n      return id.length > 8 ? id.slice(0, 8) + \"...\" : id;\n    }\n  }\n  return blockchainName;\n}\n\n// src/utils/client-key.ts\nvar BLINK_CLIENT_KEY_HEADER = \"x-blink-client-key\";\nvar clientKey = null;\nfunction setClientKey(key) {\n  if (!key) {\n    console.warn(\"[@dialectlabs/blinks] client key is not set\");\n    clientKey = null;\n    return;\n  }\n  clientKey = key;\n}\n\n// src/utils/constants.ts\nvar SOLANA_ACTION_PREFIX = /^(solana-action:|solana:|blink:|evm:|evm-action:)/;\nvar EMPTY_OBJECT = Object.freeze({});\n\n// src/utils/interstitial-url.ts\nfunction isInterstitial(url) {\n  try {\n    const urlObj = new URL(url);\n    const actionUrl = urlObj.searchParams.get(\"action\");\n    if (!actionUrl) {\n      return { isInterstitial: false };\n    }\n    const urlDecodedActionUrl = decodeURIComponent(actionUrl);\n    if (!SOLANA_ACTION_PREFIX.test(urlDecodedActionUrl)) {\n      return { isInterstitial: false };\n    }\n    const decodedActionUrl = urlDecodedActionUrl.replace(\n      SOLANA_ACTION_PREFIX,\n      \"\"\n    );\n    const decodedActionUrlObj = new URL(decodedActionUrl);\n    return {\n      isInterstitial: true,\n      decodedActionUrl: decodedActionUrlObj.toString()\n    };\n  } catch (e) {\n    console.error(\n      `[@dialectlabs/blinks] Failed to check if URL is interstitial: ${url}`,\n      e\n    );\n    return { isInterstitial: false };\n  }\n}\n\n// src/utils/proxify.ts\nvar proxyUrl = \"https://proxy.dial.to\";\nfunction setProxyUrl(url) {\n  if (!url) {\n    console.warn(\n      \"[@dialectlabs/blinks-core] Proxy URL is not set, proxy will be disabled\"\n    );\n    proxyUrl = null;\n    return;\n  }\n  try {\n    new URL(url);\n  } catch (e) {\n    console.warn(\"[@dialectlabs/blinks-core] Invalid proxy URL\", e);\n    return;\n  }\n  proxyUrl = url;\n}\nfunction proxify(url) {\n  return createProxifiedUrl(url);\n}\nfunction proxifyImage(url) {\n  return createProxifiedUrl(url, \"image\");\n}\nfunction proxifyMetadata(url) {\n  return createProxifiedUrl(url, \"metadata\");\n}\nfunction isProxified(url) {\n  return proxyUrl ? url.startsWith(proxyUrl) : false;\n}\nfunction createProxifiedUrl(url, endpoint) {\n  const incomingUrl = new URL(url);\n  if (!proxyUrl || shouldIgnoreProxy(incomingUrl)) {\n    return {\n      url: incomingUrl,\n      headers: {}\n    };\n  }\n  if (shouldPreserveOriginal(incomingUrl)) {\n    return {\n      url: incomingUrl,\n      headers: getProxifiedHeaders()\n    };\n  }\n  const proxifiedUrl = endpoint ? new URL(endpoint, proxyUrl) : new URL(proxyUrl);\n  proxifiedUrl.searchParams.set(\"url\", url);\n  return {\n    url: proxifiedUrl,\n    headers: getProxifiedHeaders()\n  };\n}\nfunction getProxifiedHeaders() {\n  return {\n    ...clientKey && { [BLINK_CLIENT_KEY_HEADER]: clientKey }\n  };\n}\nfunction shouldIgnoreProxy(url) {\n  return url.hostname === \"localhost\" || url.hostname === \"127.0.0.1\";\n}\nfunction shouldPreserveOriginal(url) {\n  return url.hostname === \"api.dial.to\";\n}\n\n// src/utils/security.ts\nvar checkSecurity = (state, securityLevel) => {\n  switch (securityLevel) {\n    case \"only-trusted\":\n      return state === \"trusted\";\n    case \"non-malicious\":\n      return state !== \"malicious\";\n    case \"all\":\n      return true;\n  }\n};\nvar isUrlSameOrigin = (origin, url) => {\n  if (!url.startsWith(\"http\")) {\n    return true;\n  }\n  const urlObj = new URL(url);\n  return urlObj.origin === origin;\n};\n\n// src/utils/supportability.ts\nvar getBlinkSupportabilityMetadata = (response) => {\n  const blockchainIds = response.headers.get(\"x-blockchain-ids\")?.split(\",\").map((id) => id.trim());\n  const version = response.headers.get(\"x-action-version\")?.trim();\n  return {\n    blockchainIds,\n    version\n  };\n};\n\n// src/utils/url-mapper.ts\nvar BlinksURLMapper = class {\n  config;\n  constructor(config) {\n    this.config = config;\n  }\n  mapUrl(url) {\n    const urlObj = typeof url === \"string\" ? new URL(url) : url;\n    const queryParams = urlObj.search;\n    for (const action of this.config.rules) {\n      if (this.isExactMatch(action.pathPattern, urlObj)) {\n        return `${action.apiPath}${queryParams}`;\n      }\n      const match = this.matchPattern(action.pathPattern, urlObj);\n      if (match) {\n        return this.constructMappedUrl(\n          action.apiPath,\n          match,\n          queryParams,\n          urlObj.origin\n        );\n      }\n    }\n    return null;\n  }\n  // Helper method to check for exact match\n  isExactMatch(pattern, urlObj) {\n    return pattern === `${urlObj.origin}${urlObj.pathname}`;\n  }\n  // Helper method to match the URL with the pattern\n  matchPattern(pattern, urlObj) {\n    const fullPattern = new RegExp(\n      `^${pattern.replace(/\\*\\*/g, \"(.*)\").replace(/\\/(\\*)/g, \"/([^/]+)\")}$`\n    );\n    const urlToMatch = pattern.startsWith(\"http\") ? urlObj.toString() : urlObj.pathname;\n    return urlToMatch.match(fullPattern);\n  }\n  // Helper method to construct the mapped URL\n  constructMappedUrl(apiPath, match, queryParams, origin) {\n    let mappedPath = apiPath;\n    match.slice(1).forEach((group) => {\n      mappedPath = mappedPath.replace(/\\*+/, group);\n    });\n    if (apiPath.startsWith(\"http\")) {\n      const mappedUrl = new URL(mappedPath);\n      return `${mappedUrl.origin}${mappedUrl.pathname}${queryParams}`;\n    }\n    return `${origin}${mappedPath}${queryParams}`;\n  }\n};\nasync function unfurlUrlToBlinkApiUrl(actionUrl) {\n  const url = new URL(actionUrl);\n  const strUrl = actionUrl.toString();\n  if (SOLANA_ACTION_PREFIX.test(strUrl)) {\n    return strUrl.replace(SOLANA_ACTION_PREFIX, \"\");\n  }\n  const interstitialData = isInterstitial(url);\n  if (interstitialData.isInterstitial) {\n    return interstitialData.decodedActionUrl;\n  }\n  const actionsJsonUrl = url.origin + \"/actions.json\";\n  const { url: proxyUrl2, headers: proxyHeaders } = proxify(actionsJsonUrl);\n  const actionsJson = await fetch(proxyUrl2, {\n    headers: {\n      ...proxyHeaders\n    }\n  }).then((res) => res.json());\n  const actionsUrlMapper = new BlinksURLMapper(actionsJson);\n  return actionsUrlMapper.mapUrl(url);\n}\n\n// package.json\nvar package_default = {\n  name: \"@dialectlabs/blinks-core\",\n  version: \"0.20.7\",\n  license: \"Apache-2.0\",\n  private: false,\n  sideEffects: true,\n  type: \"module\",\n  repository: {\n    type: \"git\",\n    url: \"https://github.com/dialectlabs/blinks\"\n  },\n  scripts: {\n    build: \"tsup-node\",\n    dev: \"tsup-node --watch\"\n  },\n  main: \"dist/index.cjs\",\n  module: \"dist/index.js\",\n  types: \"dist/index.d.ts\",\n  exports: {\n    \"./api\": {\n      import: \"./dist/service-api/index.js\",\n      require: \"./dist/service-api/index.cjs\",\n      types: \"./dist/service-api/index.d.ts\"\n    },\n    \"./solana\": {\n      import: \"./dist/solana/index.js\",\n      require: \"./dist/solana/index.cjs\",\n      types: \"./dist/solana/index.d.ts\"\n    },\n    \".\": {\n      import: \"./dist/index.js\",\n      require: \"./dist/index.cjs\",\n      types: \"./dist/index.d.ts\"\n    }\n  },\n  files: [\n    \"dist\"\n  ],\n  devDependencies: {\n    \"@solana/actions-spec\": \"~2.4.2\",\n    \"@types/react\": \"^18.3.3\",\n    \"@types/react-dom\": \"^18.3.0\",\n    \"@typescript-eslint/eslint-plugin\": \"^7.16.1\",\n    \"@typescript-eslint/parser\": \"^7.16.1\",\n    autoprefixer: \"^10.4.19\",\n    eslint: \"^8.57.0\",\n    \"eslint-config-prettier\": \"^9.1.0\",\n    \"eslint-plugin-react\": \"^7.34.4\",\n    \"eslint-plugin-react-hooks\": \"^4.6.2\",\n    postcss: \"^8.4.39\",\n    \"postcss-prefix-selector\": \"^1.16.1\",\n    prettier: \"^3.3.3\",\n    \"prettier-plugin-organize-imports\": \"^4.0.0\",\n    \"prettier-plugin-tailwindcss\": \"^0.6.5\",\n    tailwindcss: \"^3.4.3\",\n    tsup: \"^8.2.0\",\n    typescript: \"^5.5.3\"\n  },\n  peerDependencies: {\n    react: \">=18\",\n    \"@solana/web3.js\": \"^1.95.3\"\n  },\n  dependencies: {\n    nanoid: \"^5.0.9\"\n  },\n  peerDependenciesMeta: {\n    \"@solana/web3.js\": {\n      optional: true\n    }\n  }\n};\n\n// src/utils/dependency-versions.ts\nvar pkg = package_default;\nvar ACTIONS_SPEC_VERSION = pkg.devDependencies[\"@solana/actions-spec\"].replace(/[^\\d.]/g, \"\");\n\n// src/api/BlinkInstance/blink-supportability.ts\nvar MAX_SUPPORTED_ACTION_VERSION = ACTIONS_SPEC_VERSION;\nvar DEFAULT_SUPPORTED_BLOCKCHAIN_IDS = [\n  BlockchainIds.SOLANA_MAINNET,\n  BlockchainIds.SOLANA_DEVNET\n];\nvar BASELINE_ACTION_VERSION = \"2.2\";\nvar BASELINE_BLINK_BLOCKCHAIN_IDS = [BlockchainIds.SOLANA_MAINNET];\nvar defaultBlinkSupportStrategy = async (blink, adapter) => {\n  const { version: actionSpecVersion, blockchainIds: blinkBlockchainIds } = blink.metadata;\n  if (!actionSpecVersion || !blinkBlockchainIds || blinkBlockchainIds.length === 0) {\n    return {\n      isSupported: false,\n      message: \"Blink compatibility metadata is not set. Please contact the blink provider.\"\n    };\n  }\n  const supportedActionVersion = MAX_SUPPORTED_ACTION_VERSION;\n  const supportedBlockchainIds = adapter.metadata.supportedBlockchainIds;\n  const versionSupported = isVersionSupported({\n    actionVersion: actionSpecVersion,\n    supportedActionVersion\n  });\n  const blockchainSupported = isBlockchainSupported({\n    actionBlockchainIds: blinkBlockchainIds,\n    supportedBlockchainIds\n  });\n  const notSupportedBlockchainIds = blinkBlockchainIds.filter(\n    (id) => !supportedBlockchainIds.includes(id)\n  );\n  const notSupportedActionBlockchainNames = notSupportedBlockchainIds.map(\n    getShortBlockchainName\n  );\n  if (!versionSupported && !blockchainSupported) {\n    const blockchainMessage = notSupportedActionBlockchainNames.length === 1 ? `blockchain ${notSupportedActionBlockchainNames[0]}` : `blockchains ${notSupportedActionBlockchainNames.join(\", \")}`;\n    return {\n      isSupported: false,\n      message: `Action version ${actionSpecVersion} and ${blockchainMessage} are not supported by your Blink client.`\n    };\n  }\n  if (!versionSupported) {\n    return {\n      isSupported: false,\n      message: `Action version ${actionSpecVersion} is not supported by your Blink client.`\n    };\n  }\n  if (!blockchainSupported) {\n    const blockchainMessage = notSupportedActionBlockchainNames.length === 1 ? `Action blockchain ${notSupportedActionBlockchainNames[0]} is not supported by your Blink client.` : `Action blockchains ${notSupportedActionBlockchainNames.join(\", \")} are not supported by your Blink client.`;\n    return {\n      isSupported: false,\n      message: blockchainMessage\n    };\n  }\n  return {\n    isSupported: true\n  };\n};\nfunction isVersionSupported({\n  supportedActionVersion,\n  actionVersion\n}) {\n  return compareSemverIgnoringPatch(actionVersion, supportedActionVersion) <= 0;\n}\nfunction compareSemverIgnoringPatch(v1, v2) {\n  const [major1, minor1] = v1.split(\".\").map(Number);\n  const [major2, minor2] = v2.split(\".\").map(Number);\n  if (major1 !== major2) {\n    return major1 - major2;\n  } else if (minor1 !== minor2) {\n    return minor1 - minor2;\n  }\n  return 0;\n}\nfunction isBlockchainSupported({\n  supportedBlockchainIds,\n  actionBlockchainIds\n}) {\n  if (actionBlockchainIds.length === 0 || supportedBlockchainIds.length === 0) {\n    return false;\n  }\n  const sanitizedSupportedBlockchainIds = supportedBlockchainIds.map(\n    (it) => it.trim()\n  );\n  const sanitizedActionBlockchainIds = actionBlockchainIds.map(\n    (it) => it.trim()\n  );\n  return sanitizedActionBlockchainIds.every(\n    (chain) => sanitizedSupportedBlockchainIds.includes(chain)\n  );\n}\n\n// src/api/BlinkInstance/BlinkInstance.ts\n\n\n// src/api/BlinkInstance/action-components/AbstractActionComponent.ts\nvar AbstractActionComponent = class {\n  constructor(_parent, _label, _href, _type, _parameters) {\n    this._parent = _parent;\n    this._label = _label;\n    this._href = _href;\n    this._type = _type;\n    this._parameters = _parameters;\n  }\n  get parent() {\n    return this._parent;\n  }\n  get label() {\n    return this._label;\n  }\n  get parameters() {\n    return this._parameters ?? [];\n  }\n  get type() {\n    return this._type;\n  }\n  async post(account) {\n    const { url: proxyUrl2, headers: proxyHeaders } = proxify(this.href);\n    const response = await fetch(proxyUrl2, {\n      method: \"POST\",\n      body: JSON.stringify(this.buildBody(account)),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...proxyHeaders\n      }\n    });\n    if (!response.ok) {\n      const error = await response.json();\n      console.error(\n        `[@dialectlabs/blinks] Failed to execute action ${proxyUrl2}, href ${this.href}, reason: ${error.message}`\n      );\n      throw {\n        message: error.message\n      };\n    }\n    return await response.json();\n  }\n};\n\n// src/api/BlinkInstance/action-components/ButtonActionComponent.ts\nvar ButtonActionComponent = class extends AbstractActionComponent {\n  constructor(_parent, _label, _href, _type, _parameters, _parentComponent) {\n    super(_parent, _label, _href, _type, _parameters);\n    this._parent = _parent;\n    this._label = _label;\n    this._href = _href;\n    this._type = _type;\n    this._parameters = _parameters;\n    this._parentComponent = _parentComponent;\n  }\n  get parentComponent() {\n    return this._parentComponent ?? null;\n  }\n  buildBody(account) {\n    return { account, type: this.type };\n  }\n  get href() {\n    return this._href;\n  }\n};\n\n// src/api/BlinkInstance/action-components/SingleValueActionComponent.ts\nvar SingleValueActionComponent = class extends AbstractActionComponent {\n  constructor(_parent, _label, _href, _type, _parameters, _parentComponent) {\n    super(_parent, _label, _href, _type, _parameters);\n    this._parent = _parent;\n    this._label = _label;\n    this._href = _href;\n    this._type = _type;\n    this._parameters = _parameters;\n    this._parentComponent = _parentComponent;\n  }\n  parameterValue = null;\n  get parentComponent() {\n    return this._parentComponent ?? null;\n  }\n  buildBody(account) {\n    if (this._href.indexOf(`{${this.parameter.name}}`) > -1 || this.parameterValue === null) {\n      return { account, type: this.type };\n    }\n    return {\n      account,\n      type: this.type,\n      data: {\n        [this.parameter.name]: this.parameterValue\n      }\n    };\n  }\n  get parameter() {\n    const [param] = this.parameters;\n    return param;\n  }\n  setValue(value) {\n    this.parameterValue = value;\n  }\n  get href() {\n    return this._href.replace(\n      `{${this.parameter.name}}`,\n      encodeURIComponent(this.parameterValue?.toString().trim() ?? \"\")\n    );\n  }\n  toButtonActionComponent() {\n    return new ButtonActionComponent(\n      this._parent,\n      this._label,\n      this._href,\n      this._type,\n      void 0,\n      this\n    );\n  }\n};\n\n// src/api/BlinkInstance/action-components/FormActionComponent.ts\nvar FormActionComponent = class extends AbstractActionComponent {\n  constructor(_parent, _label, _href, _type, _parameters, _parentComponent) {\n    super(_parent, _label, _href, _type, _parameters);\n    this._parent = _parent;\n    this._label = _label;\n    this._href = _href;\n    this._type = _type;\n    this._parameters = _parameters;\n    this._parentComponent = _parentComponent;\n  }\n  parameterValues = {};\n  get parentComponent() {\n    return this._parentComponent ?? null;\n  }\n  // any, since we don't know the parameter names on the client level\n  buildBody(account) {\n    const paramNames = Object.keys(this.parameterValues);\n    const bodyParams = [];\n    paramNames.forEach((paramName) => {\n      if (this._href.indexOf(`{${paramName}}`) === -1) {\n        bodyParams.push(paramName);\n      }\n    });\n    if (bodyParams.length > 0) {\n      return {\n        account,\n        type: this.type,\n        data: Object.fromEntries(\n          paramNames.filter((name) => bodyParams.includes(name)).map((paramName) => [paramName, this.parameterValues[paramName]])\n        )\n      };\n    }\n    return { account, type: this.type };\n  }\n  get href() {\n    const replacedHref = this.parameters.reduce((href, param) => {\n      const value = this.parameterValues[param.name];\n      if (!value) {\n        return href;\n      }\n      return href.replace(\n        `{${param.name}}`,\n        encodeURIComponent(\n          typeof value === \"string\" ? value : value?.join(\",\")\n        )\n      );\n    }, this._href);\n    return replacedHref.replaceAll(/={[^}]+}&/g, \"=&\").replaceAll(/={[^}]+}/g, \"=\");\n  }\n  setValue(value, name) {\n    this.parameterValues[name] = value;\n  }\n  toButtonActionComponent() {\n    return new ButtonActionComponent(\n      this._parent,\n      this._label,\n      this.href,\n      this._type,\n      void 0,\n      this\n    );\n  }\n  toInputActionComponent(paramName) {\n    const parameter = this.parameters.find((param) => param.name === paramName);\n    if (!parameter) {\n      throw new Error(`Input Parameter ${paramName} not found`);\n    }\n    return new SingleValueActionComponent(\n      this._parent,\n      this._label,\n      this._href,\n      this._type,\n      [parameter],\n      this\n    );\n  }\n};\n\n// src/api/BlinkInstance/action-components/MultiValueActionComponent.ts\nvar MultiValueActionComponent = class extends AbstractActionComponent {\n  constructor(_parent, _label, _href, _type, _parameters, _parentComponent) {\n    super(_parent, _label, _href, _type, _parameters);\n    this._parent = _parent;\n    this._label = _label;\n    this._href = _href;\n    this._type = _type;\n    this._parameters = _parameters;\n    this._parentComponent = _parentComponent;\n  }\n  parameterValue = [];\n  get parentComponent() {\n    return this._parentComponent ?? null;\n  }\n  // any, since we don't know the parameter names on the client level\n  buildBody(account) {\n    if (this._href.indexOf(`{${this.parameter.name}}`) > -1) {\n      return { account, type: this.type };\n    }\n    return {\n      account,\n      type: this.type,\n      data: {\n        [this.parameter.name]: this.isMultiOptions ? this.parameterValue : this.parameterValue[0]\n      }\n    };\n  }\n  get isMultiOptions() {\n    return this.parameter.type === \"checkbox\";\n  }\n  get parameter() {\n    const [param] = this.parameters;\n    return param;\n  }\n  setValue(value) {\n    this.parameterValue = typeof value === \"string\" ? [value] : value;\n  }\n  get href() {\n    return this._href.replace(\n      `{${this.parameter.name}}`,\n      encodeURIComponent(this.parameterValue.join(\",\"))\n    );\n  }\n  toButtonActionComponent() {\n    return new ButtonActionComponent(\n      this._parent,\n      this._label,\n      this._href,\n      this._type,\n      void 0,\n      this\n    );\n  }\n};\n\n// src/api/BlinkInstance/action-components/guards.ts\nvar isPatternAllowed = (parameter) => {\n  return parameter.type !== \"select\" && parameter.type !== \"radio\" && parameter.type !== \"checkbox\";\n};\nvar isParameterSelectable = (parameter) => {\n  return parameter.type === \"select\" || parameter.type === \"radio\" || parameter.type === \"checkbox\";\n};\n\n// src/api/BlinkInstance/BlinkInstance.ts\nvar MULTI_VALUE_TYPES = [\"checkbox\"];\nvar EXPERIMENTAL_LIVE_DATA_DEFAULT_DELAY_MS = 1e3;\nvar BlinkInstance6 = class _BlinkInstance {\n  constructor(_url, _data, _metadata, _supportStrategy, _chainMetadata = { isChained: false }, _id, _experimental) {\n    this._url = _url;\n    this._data = _data;\n    this._metadata = _metadata;\n    this._supportStrategy = _supportStrategy;\n    this._chainMetadata = _chainMetadata;\n    this._id = _id;\n    this._experimental = _experimental;\n    if (_data.type === \"completed\" || !_data.links?.actions) {\n      this._actions = [\n        new ButtonActionComponent(this, _data.label, _url, \"transaction\")\n      ];\n      return;\n    }\n    const urlObj = new URL(_url);\n    this._actions = _data.links.actions.map((action) => {\n      const href = action.href.startsWith(\"http\") ? action.href : urlObj.origin + action.href;\n      return componentFactory(\n        this,\n        action.label,\n        href,\n        action.type ?? \"transaction\",\n        action.parameters\n      );\n    });\n  }\n  _actions;\n  // this API MAY change in the future\n  get liveData_experimental() {\n    const liveData = this._experimental?.liveData;\n    if (!liveData) {\n      return null;\n    }\n    return {\n      enabled: liveData.enabled,\n      delayMs: liveData.delayMs ? Math.max(liveData.delayMs, EXPERIMENTAL_LIVE_DATA_DEFAULT_DELAY_MS) : EXPERIMENTAL_LIVE_DATA_DEFAULT_DELAY_MS\n    };\n  }\n  get id() {\n    return this._id;\n  }\n  get data() {\n    return this._data;\n  }\n  get supportStrategy() {\n    return this._supportStrategy;\n  }\n  get isChained() {\n    return this._chainMetadata.isChained;\n  }\n  get isInline() {\n    return this._chainMetadata.isChained ? this._chainMetadata.isInline : false;\n  }\n  get type() {\n    return this._data.type;\n  }\n  get url() {\n    return this._url;\n  }\n  get icon() {\n    if (this._data.icon.startsWith(\"data:\") || isProxified(this._data.icon) || !this._data.icon) {\n      return this._data.icon;\n    }\n    return proxifyImage(this._data.icon).url.toString();\n  }\n  get title() {\n    return this._data.title;\n  }\n  get description() {\n    return this._data.description;\n  }\n  get disabled() {\n    return this._data.disabled ?? false;\n  }\n  get actions() {\n    return this._actions;\n  }\n  get error() {\n    return this._data.error?.message ?? null;\n  }\n  get message() {\n    return this._data.message ?? null;\n  }\n  get metadata() {\n    return {\n      blockchainIds: this._metadata.blockchainIds ?? BASELINE_BLINK_BLOCKCHAIN_IDS,\n      version: this._metadata.version ?? BASELINE_ACTION_VERSION\n    };\n  }\n  async isSupported(adapter) {\n    try {\n      return await this._supportStrategy(this, adapter);\n    } catch (e) {\n      console.error(\n        `[@dialectlabs/blinks] Failed to check supportability for action ${this.url}`,\n        e\n      );\n      return {\n        isSupported: false,\n        message: \"Failed to check supportability, please contact your Blink client provider.\"\n      };\n    }\n  }\n  async chain(next, chainData, lifecycleData) {\n    const id = (0,nanoid_non_secure__WEBPACK_IMPORTED_MODULE_0__.nanoid)();\n    if (next.type === \"inline\") {\n      return new _BlinkInstance(\n        this.url,\n        lifecycleData ? mergeLifecycleData(next.action, lifecycleData) : next.action,\n        this.metadata,\n        this._supportStrategy,\n        {\n          isChained: true,\n          isInline: true\n        },\n        id\n      );\n    }\n    const baseUrlObj = new URL(this.url);\n    if (!isUrlSameOrigin(baseUrlObj.origin, next.href)) {\n      console.error(\n        `Chained action is not the same origin as the current action. Original: ${this.url}, chained: ${next.href}`\n      );\n      return null;\n    }\n    const href = next.href.startsWith(\"http\") ? next.href : baseUrlObj.origin + next.href;\n    const { url: proxyUrl2, headers: proxyHeaders } = proxify(href);\n    const response = await fetch(proxyUrl2, {\n      method: \"POST\",\n      body: JSON.stringify(chainData),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        ...proxyHeaders\n      }\n    });\n    if (!response.ok) {\n      console.error(\n        `Failed to fetch chained action ${proxyUrl2}, action url: ${next.href}`\n      );\n      return null;\n    }\n    const data = await response.json();\n    const metadata = getBlinkSupportabilityMetadata(response);\n    return new _BlinkInstance(\n      href,\n      lifecycleData ? mergeLifecycleData(data, lifecycleData) : data,\n      metadata,\n      this._supportStrategy,\n      {\n        isChained: true,\n        isInline: false\n      },\n      id\n    );\n  }\n  safeInlineChain(lifecycleData) {\n    if (!lifecycleData) {\n      return this;\n    }\n    const id = (0,nanoid_non_secure__WEBPACK_IMPORTED_MODULE_0__.nanoid)();\n    return new _BlinkInstance(\n      this.url,\n      mergeLifecycleData(this._data, lifecycleData),\n      this.metadata,\n      this._supportStrategy,\n      {\n        isChained: true,\n        isInline: true\n      },\n      id\n    );\n  }\n  // be sure to use this only if the action is valid\n  static hydrate(url, data, metadata, supportStrategy) {\n    const id = (0,nanoid_non_secure__WEBPACK_IMPORTED_MODULE_0__.nanoid)();\n    return new _BlinkInstance(\n      url,\n      data,\n      metadata,\n      supportStrategy,\n      { isChained: false },\n      id\n    );\n  }\n  static async _fetch(apiUrl, supportStrategy = defaultBlinkSupportStrategy, chainMetadata, id) {\n    const { url: proxyUrl2, headers: proxyHeaders } = proxify(apiUrl);\n    const response = await fetch(proxyUrl2, {\n      headers: {\n        Accept: \"application/json\",\n        ...proxyHeaders\n      }\n    });\n    if (!response.ok) {\n      throw new Error(\n        `Failed to fetch action ${proxyUrl2}, action url: ${apiUrl}`\n      );\n    }\n    const data = await response.json();\n    const metadata = getBlinkSupportabilityMetadata(response);\n    return new _BlinkInstance(\n      apiUrl,\n      { ...data, type: \"action\" },\n      metadata,\n      supportStrategy,\n      chainMetadata,\n      id,\n      data.dialectExperimental\n    );\n  }\n  static async fetch(apiUrl, supportStrategy = defaultBlinkSupportStrategy) {\n    const id = (0,nanoid_non_secure__WEBPACK_IMPORTED_MODULE_0__.nanoid)();\n    return _BlinkInstance._fetch(\n      apiUrl,\n      supportStrategy,\n      {\n        isChained: false\n      },\n      id\n    );\n  }\n  refresh() {\n    return _BlinkInstance._fetch(\n      this.url,\n      this._supportStrategy,\n      this._chainMetadata,\n      this._id\n    );\n  }\n  withUpdate(update) {\n    return new _BlinkInstance(\n      this._url,\n      this._data,\n      this._metadata,\n      update.supportStrategy ?? this._supportStrategy,\n      this._chainMetadata,\n      this._id,\n      this._experimental\n    );\n  }\n};\nvar componentFactory = (parent, label, href, type, parameters) => {\n  if (!parameters?.length) {\n    return new ButtonActionComponent(parent, label, href, type);\n  }\n  if (parameters.length > 1) {\n    return new FormActionComponent(parent, label, href, type, parameters);\n  }\n  const [parameter] = parameters;\n  if (!parameter.type) {\n    return new SingleValueActionComponent(\n      parent,\n      label,\n      href,\n      type,\n      parameters\n    );\n  }\n  if (MULTI_VALUE_TYPES.includes(parameter.type)) {\n    return new MultiValueActionComponent(parent, label, href, type, parameters);\n  }\n  return new SingleValueActionComponent(parent, label, href, type, parameters);\n};\nvar mergeLifecycleData = (action, lifecycleData) => {\n  const links = [];\n  if (action.type !== \"completed\" && action.links) {\n    links.push(...action.links.actions ?? []);\n  }\n  if (lifecycleData.links?.actions) {\n    links.push(...lifecycleData.links.actions);\n  }\n  return {\n    ...action,\n    type: \"action\",\n    // if lifecycle data present, we are not in a completed state\n    message: lifecycleData.message ?? action.message,\n    links: links.length > 0 ? { actions: links } : void 0\n  };\n};\n\n// src/api/BlinkInstance/sign-message-data.ts\nvar SignMessageVerificationErrorType = /* @__PURE__ */ ((SignMessageVerificationErrorType2) => {\n  SignMessageVerificationErrorType2[\"ADDRESS_MISMATCH\"] = \"ADDRESS_MISMATCH\";\n  SignMessageVerificationErrorType2[\"DOMAIN_MISMATCH\"] = \"DOMAIN_MISMATCH\";\n  SignMessageVerificationErrorType2[\"CHAIN_ID_MISMATCH\"] = \"CHAIN_ID_MISMATCH\";\n  SignMessageVerificationErrorType2[\"ISSUED_TOO_FAR_IN_THE_PAST\"] = \"ISSUED_TOO_FAR_IN_THE_PAST\";\n  SignMessageVerificationErrorType2[\"ISSUED_TOO_FAR_IN_THE_FUTURE\"] = \"ISSUED_TOO_FAR_IN_THE_FUTURE\";\n  SignMessageVerificationErrorType2[\"INVALID_DATA\"] = \"INVALID_DATA\";\n  return SignMessageVerificationErrorType2;\n})(SignMessageVerificationErrorType || {});\nvar DOMAIN = \"(?<domain>[^\\\\n]+?) wants you to sign a message with your account:\\\\n\";\nvar ADDRESS = \"(?<address>[^\\\\n]+)(?:\\\\n|$)\";\nvar STATEMENT = \"(?:\\\\n(?<statement>[\\\\S\\\\s]*?)(?:\\\\n|$))\";\nvar CHAIN_ID = \"(?:\\\\nChain ID: (?<chainId>[^\\\\n]+))?\";\nvar NONCE = \"\\\\nNonce: (?<nonce>[^\\\\n]+)\";\nvar ISSUED_AT = \"\\\\nIssued At: (?<issuedAt>[^\\\\n]+)\";\nvar FIELDS = `${CHAIN_ID}${NONCE}${ISSUED_AT}`;\nvar MESSAGE = new RegExp(`^${DOMAIN}${ADDRESS}${STATEMENT}${FIELDS}\\\\n*$`);\nfunction createSignMessageText(input) {\n  let message = `${input.domain} wants you to sign a message with your account:\n`;\n  message += `${input.address}`;\n  message += `\n\n${input.statement}`;\n  const fields = [];\n  if (input.chainId) {\n    fields.push(`Chain ID: ${input.chainId}`);\n  }\n  fields.push(`Nonce: ${input.nonce}`);\n  fields.push(`Issued At: ${input.issuedAt}`);\n  message += `\n\n${fields.join(\"\\n\")}`;\n  return message;\n}\nfunction parseSignMessageText(text) {\n  const match = MESSAGE.exec(text);\n  if (!match) return null;\n  const groups = match.groups;\n  if (!groups) return null;\n  return {\n    domain: groups.domain,\n    address: groups.address,\n    statement: groups.statement,\n    nonce: groups.nonce,\n    chainId: groups.chainId,\n    issuedAt: groups.issuedAt\n  };\n}\nfunction verifySignMessageData(data, opts) {\n  if (!data.address || !data.domain || !data.issuedAt || !data.nonce || !data.statement) {\n    return [\"INVALID_DATA\" /* INVALID_DATA */];\n  }\n  try {\n    const {\n      expectedAddress,\n      expectedChainIds,\n      issuedAtThreshold,\n      expectedDomains\n    } = opts;\n    const errors = [];\n    const now = Date.now();\n    if (expectedAddress && data.address !== expectedAddress) {\n      errors.push(\"ADDRESS_MISMATCH\" /* ADDRESS_MISMATCH */);\n    }\n    if (expectedDomains) {\n      const expectedDomainsNormalized = expectedDomains.map(normalizeDomain);\n      const normalizedDomain = normalizeDomain(data.domain);\n      if (!expectedDomainsNormalized.includes(normalizedDomain)) {\n        errors.push(\"DOMAIN_MISMATCH\" /* DOMAIN_MISMATCH */);\n      }\n    }\n    if (expectedChainIds && data.chainId && !expectedChainIds.includes(data.chainId)) {\n      errors.push(\"CHAIN_ID_MISMATCH\" /* CHAIN_ID_MISMATCH */);\n    }\n    if (issuedAtThreshold !== void 0) {\n      const iat = Date.parse(data.issuedAt);\n      if (Math.abs(iat - now) > issuedAtThreshold) {\n        if (iat < now) {\n          errors.push(\n            \"ISSUED_TOO_FAR_IN_THE_PAST\" /* ISSUED_TOO_FAR_IN_THE_PAST */\n          );\n        } else {\n          errors.push(\n            \"ISSUED_TOO_FAR_IN_THE_FUTURE\" /* ISSUED_TOO_FAR_IN_THE_FUTURE */\n          );\n        }\n      }\n    }\n    return errors;\n  } catch (e) {\n    return [\"INVALID_DATA\" /* INVALID_DATA */];\n  }\n}\nfunction normalizeDomain(domain) {\n  return domain.replace(/^www\\./, \"\");\n}\n\n// src/api/BlinksRegistry.ts\nvar DEFAULT_REFRESH_INTERVAL = 10 * 60 * 1e3;\nvar BlinksRegistry = class _BlinksRegistry {\n  static instance = null;\n  blinksByHost;\n  websitesByHost;\n  interstitialsByHost;\n  intervalId = null;\n  constructor(config) {\n    this.blinksByHost = config ? Object.fromEntries(\n      config.actions.map((action) => [action.host, action])\n    ) : {};\n    this.websitesByHost = config ? Object.fromEntries(\n      config.websites.map((website) => [website.host, website])\n    ) : {};\n    this.interstitialsByHost = config ? Object.fromEntries(\n      config.interstitials.map((interstitial) => [\n        interstitial.host,\n        interstitial\n      ])\n    ) : {};\n  }\n  static getInstance(config) {\n    if (this.instance === null || config) {\n      this.instance = new _BlinksRegistry(config);\n    }\n    return this.instance;\n  }\n  async init() {\n    if (this.intervalId !== null) {\n      return;\n    }\n    await this.refresh();\n    this.intervalId = setInterval(\n      () => this.refresh(),\n      DEFAULT_REFRESH_INTERVAL\n    );\n  }\n  stopRefresh() {\n    if (this.intervalId !== null) {\n      clearInterval(this.intervalId);\n      this.intervalId = null;\n    }\n  }\n  async refresh() {\n    const config = await fetchBlinksRegistryConfig();\n    this.blinksByHost = Object.fromEntries(\n      config.actions.map((action) => [action.host, action])\n    );\n    this.websitesByHost = Object.fromEntries(\n      config.websites.map((website) => [website.host, website])\n    );\n    this.interstitialsByHost = Object.fromEntries(\n      config.interstitials.map((interstitial) => [\n        interstitial.host,\n        interstitial\n      ])\n    );\n  }\n  lookup(url, type = \"action\") {\n    if (type === \"action\" || type === \"blink\") {\n      return this.lookupBlink(url);\n    }\n    if (type === \"website\") {\n      return this.lookupWebsite(url);\n    }\n    if (type === \"interstitial\") {\n      return this.lookupInterstitial(url);\n    }\n    return null;\n  }\n  lookupBlink(url) {\n    try {\n      const urlObj = new URL(url);\n      const host = urlObj.host;\n      return this.blinksByHost[host] ?? null;\n    } catch (e) {\n      console.error(\n        `[@dialectlabs/blinks] Failed to lookup action for URL: ${url}`,\n        e\n      );\n      return null;\n    }\n  }\n  lookupWebsite(url) {\n    try {\n      const urlObj = new URL(url);\n      const host = urlObj.host;\n      return this.websitesByHost[host] ?? null;\n    } catch (e) {\n      console.error(\n        `[@dialectlabs/blinks] Failed to lookup website for URL: ${url}`,\n        e\n      );\n      return null;\n    }\n  }\n  lookupInterstitial(url) {\n    try {\n      const urlObj = new URL(url);\n      const host = urlObj.host;\n      return this.interstitialsByHost[host] ?? null;\n    } catch (e) {\n      console.error(\n        `[@dialectlabs/blinks] Failed to lookup interstitial for URL: ${url}`,\n        e\n      );\n      return null;\n    }\n  }\n};\nvar mergeBlinkStates = (...states) => {\n  if (states.includes(\"malicious\")) {\n    return \"malicious\";\n  }\n  if (states.includes(\"unknown\")) {\n    return \"unknown\";\n  }\n  return \"trusted\";\n};\nvar getExtendedBlinkState = (blinkOrUrl) => {\n  return BlinksRegistry.getInstance().lookup(\n    typeof blinkOrUrl === \"string\" ? blinkOrUrl : blinkOrUrl.url,\n    \"blink\"\n  )?.state ?? \"unknown\";\n};\nvar getExtendedWebsiteState = (url) => {\n  return BlinksRegistry.getInstance().lookup(url, \"website\")?.state ?? \"unknown\";\n};\nvar getExtendedInterstitialState = (url) => {\n  return BlinksRegistry.getInstance().lookup(url, \"interstitial\")?.state ?? \"unknown\";\n};\nasync function fetchBlinksRegistryConfig() {\n  try {\n    const response = await fetch(\"https://actions-registry.dial.to/all\");\n    if (!response.ok) {\n      console.error(\n        \"[@dialectlabs/blinks] Failed to fetch actions registry config\",\n        await response.json()\n      );\n      return { actions: [], interstitials: [], websites: [] };\n    }\n    return await response.json();\n  } catch (e) {\n    console.error(\n      \"[@dialectlabs/blinks] Failed to fetch actions registry config\",\n      e\n    );\n    return { actions: [], interstitials: [], websites: [] };\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGRpYWxlY3RsYWJzL2JsaW5rcy1jb3JlL2Rpc3QvY2h1bmstWklHU0dXMkwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVEsR0FBRyxtQkFBbUI7QUFDOUMsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUNBQW1DOztBQUVuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsdUVBQXVFLElBQUk7QUFDM0U7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixlQUFlLEVBQUUsWUFBWTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsY0FBYyxFQUFFLGdCQUFnQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsZ0VBQWdFO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsZ0JBQWdCLGlCQUFpQixFQUFFLG1CQUFtQixFQUFFLFlBQVk7QUFDcEU7QUFDQSxjQUFjLE9BQU8sRUFBRSxXQUFXLEVBQUUsWUFBWTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsd0NBQXdDO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGdFQUFnRTtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZGQUE2RixxQ0FBcUMsbUJBQW1CLDZDQUE2QztBQUNsTTtBQUNBO0FBQ0EsaUNBQWlDLG1CQUFtQixNQUFNLG1CQUFtQjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLG1CQUFtQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQSxvR0FBb0csc0NBQXNDLGdFQUFnRSw4Q0FBOEM7QUFDeFA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzJDOztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0NBQXdDO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxVQUFVLFNBQVMsVUFBVSxZQUFZLGNBQWM7QUFDakg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixFQUFFLHFCQUFxQjtBQUNwRCxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxFQUFFLHFCQUFxQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsRUFBRSxXQUFXO0FBQzVDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLEVBQUUsWUFBWTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxzQ0FBc0MsR0FBRyxHQUFHLHlCQUF5QixHQUFHLEdBQUc7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxXQUFXO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixFQUFFLHFCQUFxQjtBQUNwRCxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxFQUFFLHFCQUFxQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLGtCQUFrQjtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLGtFQUFrRSxJQUFJO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsbUVBQW1FLElBQUk7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSx3RUFBd0UsSUFBSTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUE4Q0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibGluay1zdGFydGVyLW1vbmFkLy4vbm9kZV9tb2R1bGVzL0BkaWFsZWN0bGFicy9ibGlua3MtY29yZS9kaXN0L2NodW5rLVpJR1NHVzJMLmpzPzA2NzMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3V0aWxzL2NhaXAtMi50c1xudmFyIEJsb2NrY2hhaW5JZHMgPSB7XG4gIFNPTEFOQV9NQUlOTkVUOiBcInNvbGFuYTo1ZXlrdDRVc0Z2OFA4TkpkVFJFcFkxdnpxS3FaS3ZkcFwiLFxuICBTT0xBTkFfREVWTkVUOiBcInNvbGFuYTpFdFdUUkFCWmFZcTZpTWZlWUtvdVJ1MTY2VlUyeHFhMVwiLFxuICBTT0xBTkFfVEVTVE5FVDogXCJzb2xhbmE6NHVoY1ZKeVU5cEprdlF5Uzg4dVJEaXN3SFhTQ2tZM1wiLFxuICBFVEhFUkVVTV9NQUlOTkVUOiBcImVpcDE1NToxXCIsXG4gIEVUSEVSRVVNX1NFUE9MSUE6IFwiZWlwMTU1OjExMTU1MTExXCIsXG4gIE1PTkFEX0RFVk5FVDogXCJlaXAxNTU6MjAxNDNcIlxufTtcbnZhciBCbG9ja2NoYWluTmFtZXMgPSB7XG4gIFtCbG9ja2NoYWluSWRzLlNPTEFOQV9NQUlOTkVUXTogXCJTb2xhbmEgTWFpbm5ldFwiLFxuICBbQmxvY2tjaGFpbklkcy5TT0xBTkFfREVWTkVUXTogXCJTb2xhbmEgRGV2bmV0XCIsXG4gIFtCbG9ja2NoYWluSWRzLlNPTEFOQV9URVNUTkVUXTogXCJTb2xhbmEgVGVzdG5ldFwiLFxuICBbQmxvY2tjaGFpbklkcy5FVEhFUkVVTV9NQUlOTkVUXTogXCJFdGhlcmV1bSBNYWlubmV0XCIsXG4gIFtCbG9ja2NoYWluSWRzLkVUSEVSRVVNX1NFUE9MSUFdOiBcIkV0aGVyZXVtIFNlcG9saWFcIixcbiAgW0Jsb2NrY2hhaW5JZHMuTU9OQURfREVWTkVUXTogXCJNb25hZCBEZXZuZXRcIlxufTtcbmZ1bmN0aW9uIGdldFNob3J0QmxvY2tjaGFpbk5hbWUoaWQpIHtcbiAgY29uc3QgYmxvY2tjaGFpbk5hbWUgPSBCbG9ja2NoYWluTmFtZXNbaWRdO1xuICBpZiAoIWJsb2NrY2hhaW5OYW1lKSB7XG4gICAgY29uc3QgW2NoYWluSWQsIHJlZmVyZW5jZV0gPSBpZC5zcGxpdChcIjpcIik7XG4gICAgaWYgKGNoYWluSWQgJiYgcmVmZXJlbmNlKSB7XG4gICAgICBjb25zdCB0cnVuY2F0ZWRSZWZlcmVuY2UgPSByZWZlcmVuY2UubGVuZ3RoID4gMyA/IHJlZmVyZW5jZS5zbGljZSgwLCAzKSArIFwiLi4uXCIgOiByZWZlcmVuY2U7XG4gICAgICByZXR1cm4gYCR7Y2hhaW5JZH06JHt0cnVuY2F0ZWRSZWZlcmVuY2V9YDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGlkLmxlbmd0aCA+IDggPyBpZC5zbGljZSgwLCA4KSArIFwiLi4uXCIgOiBpZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGJsb2NrY2hhaW5OYW1lO1xufVxuXG4vLyBzcmMvdXRpbHMvY2xpZW50LWtleS50c1xudmFyIEJMSU5LX0NMSUVOVF9LRVlfSEVBREVSID0gXCJ4LWJsaW5rLWNsaWVudC1rZXlcIjtcbnZhciBjbGllbnRLZXkgPSBudWxsO1xuZnVuY3Rpb24gc2V0Q2xpZW50S2V5KGtleSkge1xuICBpZiAoIWtleSkge1xuICAgIGNvbnNvbGUud2FybihcIltAZGlhbGVjdGxhYnMvYmxpbmtzXSBjbGllbnQga2V5IGlzIG5vdCBzZXRcIik7XG4gICAgY2xpZW50S2V5ID0gbnVsbDtcbiAgICByZXR1cm47XG4gIH1cbiAgY2xpZW50S2V5ID0ga2V5O1xufVxuXG4vLyBzcmMvdXRpbHMvY29uc3RhbnRzLnRzXG52YXIgU09MQU5BX0FDVElPTl9QUkVGSVggPSAvXihzb2xhbmEtYWN0aW9uOnxzb2xhbmE6fGJsaW5rOnxldm06fGV2bS1hY3Rpb246KS87XG52YXIgRU1QVFlfT0JKRUNUID0gT2JqZWN0LmZyZWV6ZSh7fSk7XG5cbi8vIHNyYy91dGlscy9pbnRlcnN0aXRpYWwtdXJsLnRzXG5mdW5jdGlvbiBpc0ludGVyc3RpdGlhbCh1cmwpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1cmxPYmogPSBuZXcgVVJMKHVybCk7XG4gICAgY29uc3QgYWN0aW9uVXJsID0gdXJsT2JqLnNlYXJjaFBhcmFtcy5nZXQoXCJhY3Rpb25cIik7XG4gICAgaWYgKCFhY3Rpb25VcmwpIHtcbiAgICAgIHJldHVybiB7IGlzSW50ZXJzdGl0aWFsOiBmYWxzZSB9O1xuICAgIH1cbiAgICBjb25zdCB1cmxEZWNvZGVkQWN0aW9uVXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KGFjdGlvblVybCk7XG4gICAgaWYgKCFTT0xBTkFfQUNUSU9OX1BSRUZJWC50ZXN0KHVybERlY29kZWRBY3Rpb25VcmwpKSB7XG4gICAgICByZXR1cm4geyBpc0ludGVyc3RpdGlhbDogZmFsc2UgfTtcbiAgICB9XG4gICAgY29uc3QgZGVjb2RlZEFjdGlvblVybCA9IHVybERlY29kZWRBY3Rpb25VcmwucmVwbGFjZShcbiAgICAgIFNPTEFOQV9BQ1RJT05fUFJFRklYLFxuICAgICAgXCJcIlxuICAgICk7XG4gICAgY29uc3QgZGVjb2RlZEFjdGlvblVybE9iaiA9IG5ldyBVUkwoZGVjb2RlZEFjdGlvblVybCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlzSW50ZXJzdGl0aWFsOiB0cnVlLFxuICAgICAgZGVjb2RlZEFjdGlvblVybDogZGVjb2RlZEFjdGlvblVybE9iai50b1N0cmluZygpXG4gICAgfTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBgW0BkaWFsZWN0bGFicy9ibGlua3NdIEZhaWxlZCB0byBjaGVjayBpZiBVUkwgaXMgaW50ZXJzdGl0aWFsOiAke3VybH1gLFxuICAgICAgZVxuICAgICk7XG4gICAgcmV0dXJuIHsgaXNJbnRlcnN0aXRpYWw6IGZhbHNlIH07XG4gIH1cbn1cblxuLy8gc3JjL3V0aWxzL3Byb3hpZnkudHNcbnZhciBwcm94eVVybCA9IFwiaHR0cHM6Ly9wcm94eS5kaWFsLnRvXCI7XG5mdW5jdGlvbiBzZXRQcm94eVVybCh1cmwpIHtcbiAgaWYgKCF1cmwpIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBcIltAZGlhbGVjdGxhYnMvYmxpbmtzLWNvcmVdIFByb3h5IFVSTCBpcyBub3Qgc2V0LCBwcm94eSB3aWxsIGJlIGRpc2FibGVkXCJcbiAgICApO1xuICAgIHByb3h5VXJsID0gbnVsbDtcbiAgICByZXR1cm47XG4gIH1cbiAgdHJ5IHtcbiAgICBuZXcgVVJMKHVybCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLndhcm4oXCJbQGRpYWxlY3RsYWJzL2JsaW5rcy1jb3JlXSBJbnZhbGlkIHByb3h5IFVSTFwiLCBlKTtcbiAgICByZXR1cm47XG4gIH1cbiAgcHJveHlVcmwgPSB1cmw7XG59XG5mdW5jdGlvbiBwcm94aWZ5KHVybCkge1xuICByZXR1cm4gY3JlYXRlUHJveGlmaWVkVXJsKHVybCk7XG59XG5mdW5jdGlvbiBwcm94aWZ5SW1hZ2UodXJsKSB7XG4gIHJldHVybiBjcmVhdGVQcm94aWZpZWRVcmwodXJsLCBcImltYWdlXCIpO1xufVxuZnVuY3Rpb24gcHJveGlmeU1ldGFkYXRhKHVybCkge1xuICByZXR1cm4gY3JlYXRlUHJveGlmaWVkVXJsKHVybCwgXCJtZXRhZGF0YVwiKTtcbn1cbmZ1bmN0aW9uIGlzUHJveGlmaWVkKHVybCkge1xuICByZXR1cm4gcHJveHlVcmwgPyB1cmwuc3RhcnRzV2l0aChwcm94eVVybCkgOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVByb3hpZmllZFVybCh1cmwsIGVuZHBvaW50KSB7XG4gIGNvbnN0IGluY29taW5nVXJsID0gbmV3IFVSTCh1cmwpO1xuICBpZiAoIXByb3h5VXJsIHx8IHNob3VsZElnbm9yZVByb3h5KGluY29taW5nVXJsKSkge1xuICAgIHJldHVybiB7XG4gICAgICB1cmw6IGluY29taW5nVXJsLFxuICAgICAgaGVhZGVyczoge31cbiAgICB9O1xuICB9XG4gIGlmIChzaG91bGRQcmVzZXJ2ZU9yaWdpbmFsKGluY29taW5nVXJsKSkge1xuICAgIHJldHVybiB7XG4gICAgICB1cmw6IGluY29taW5nVXJsLFxuICAgICAgaGVhZGVyczogZ2V0UHJveGlmaWVkSGVhZGVycygpXG4gICAgfTtcbiAgfVxuICBjb25zdCBwcm94aWZpZWRVcmwgPSBlbmRwb2ludCA/IG5ldyBVUkwoZW5kcG9pbnQsIHByb3h5VXJsKSA6IG5ldyBVUkwocHJveHlVcmwpO1xuICBwcm94aWZpZWRVcmwuc2VhcmNoUGFyYW1zLnNldChcInVybFwiLCB1cmwpO1xuICByZXR1cm4ge1xuICAgIHVybDogcHJveGlmaWVkVXJsLFxuICAgIGhlYWRlcnM6IGdldFByb3hpZmllZEhlYWRlcnMoKVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0UHJveGlmaWVkSGVhZGVycygpIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5jbGllbnRLZXkgJiYgeyBbQkxJTktfQ0xJRU5UX0tFWV9IRUFERVJdOiBjbGllbnRLZXkgfVxuICB9O1xufVxuZnVuY3Rpb24gc2hvdWxkSWdub3JlUHJveHkodXJsKSB7XG4gIHJldHVybiB1cmwuaG9zdG5hbWUgPT09IFwibG9jYWxob3N0XCIgfHwgdXJsLmhvc3RuYW1lID09PSBcIjEyNy4wLjAuMVwiO1xufVxuZnVuY3Rpb24gc2hvdWxkUHJlc2VydmVPcmlnaW5hbCh1cmwpIHtcbiAgcmV0dXJuIHVybC5ob3N0bmFtZSA9PT0gXCJhcGkuZGlhbC50b1wiO1xufVxuXG4vLyBzcmMvdXRpbHMvc2VjdXJpdHkudHNcbnZhciBjaGVja1NlY3VyaXR5ID0gKHN0YXRlLCBzZWN1cml0eUxldmVsKSA9PiB7XG4gIHN3aXRjaCAoc2VjdXJpdHlMZXZlbCkge1xuICAgIGNhc2UgXCJvbmx5LXRydXN0ZWRcIjpcbiAgICAgIHJldHVybiBzdGF0ZSA9PT0gXCJ0cnVzdGVkXCI7XG4gICAgY2FzZSBcIm5vbi1tYWxpY2lvdXNcIjpcbiAgICAgIHJldHVybiBzdGF0ZSAhPT0gXCJtYWxpY2lvdXNcIjtcbiAgICBjYXNlIFwiYWxsXCI6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcbnZhciBpc1VybFNhbWVPcmlnaW4gPSAob3JpZ2luLCB1cmwpID0+IHtcbiAgaWYgKCF1cmwuc3RhcnRzV2l0aChcImh0dHBcIikpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBjb25zdCB1cmxPYmogPSBuZXcgVVJMKHVybCk7XG4gIHJldHVybiB1cmxPYmoub3JpZ2luID09PSBvcmlnaW47XG59O1xuXG4vLyBzcmMvdXRpbHMvc3VwcG9ydGFiaWxpdHkudHNcbnZhciBnZXRCbGlua1N1cHBvcnRhYmlsaXR5TWV0YWRhdGEgPSAocmVzcG9uc2UpID0+IHtcbiAgY29uc3QgYmxvY2tjaGFpbklkcyA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwieC1ibG9ja2NoYWluLWlkc1wiKT8uc3BsaXQoXCIsXCIpLm1hcCgoaWQpID0+IGlkLnRyaW0oKSk7XG4gIGNvbnN0IHZlcnNpb24gPSByZXNwb25zZS5oZWFkZXJzLmdldChcIngtYWN0aW9uLXZlcnNpb25cIik/LnRyaW0oKTtcbiAgcmV0dXJuIHtcbiAgICBibG9ja2NoYWluSWRzLFxuICAgIHZlcnNpb25cbiAgfTtcbn07XG5cbi8vIHNyYy91dGlscy91cmwtbWFwcGVyLnRzXG52YXIgQmxpbmtzVVJMTWFwcGVyID0gY2xhc3Mge1xuICBjb25maWc7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICB9XG4gIG1hcFVybCh1cmwpIHtcbiAgICBjb25zdCB1cmxPYmogPSB0eXBlb2YgdXJsID09PSBcInN0cmluZ1wiID8gbmV3IFVSTCh1cmwpIDogdXJsO1xuICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0gdXJsT2JqLnNlYXJjaDtcbiAgICBmb3IgKGNvbnN0IGFjdGlvbiBvZiB0aGlzLmNvbmZpZy5ydWxlcykge1xuICAgICAgaWYgKHRoaXMuaXNFeGFjdE1hdGNoKGFjdGlvbi5wYXRoUGF0dGVybiwgdXJsT2JqKSkge1xuICAgICAgICByZXR1cm4gYCR7YWN0aW9uLmFwaVBhdGh9JHtxdWVyeVBhcmFtc31gO1xuICAgICAgfVxuICAgICAgY29uc3QgbWF0Y2ggPSB0aGlzLm1hdGNoUGF0dGVybihhY3Rpb24ucGF0aFBhdHRlcm4sIHVybE9iaik7XG4gICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0TWFwcGVkVXJsKFxuICAgICAgICAgIGFjdGlvbi5hcGlQYXRoLFxuICAgICAgICAgIG1hdGNoLFxuICAgICAgICAgIHF1ZXJ5UGFyYW1zLFxuICAgICAgICAgIHVybE9iai5vcmlnaW5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgLy8gSGVscGVyIG1ldGhvZCB0byBjaGVjayBmb3IgZXhhY3QgbWF0Y2hcbiAgaXNFeGFjdE1hdGNoKHBhdHRlcm4sIHVybE9iaikge1xuICAgIHJldHVybiBwYXR0ZXJuID09PSBgJHt1cmxPYmoub3JpZ2lufSR7dXJsT2JqLnBhdGhuYW1lfWA7XG4gIH1cbiAgLy8gSGVscGVyIG1ldGhvZCB0byBtYXRjaCB0aGUgVVJMIHdpdGggdGhlIHBhdHRlcm5cbiAgbWF0Y2hQYXR0ZXJuKHBhdHRlcm4sIHVybE9iaikge1xuICAgIGNvbnN0IGZ1bGxQYXR0ZXJuID0gbmV3IFJlZ0V4cChcbiAgICAgIGBeJHtwYXR0ZXJuLnJlcGxhY2UoL1xcKlxcKi9nLCBcIiguKilcIikucmVwbGFjZSgvXFwvKFxcKikvZywgXCIvKFteL10rKVwiKX0kYFxuICAgICk7XG4gICAgY29uc3QgdXJsVG9NYXRjaCA9IHBhdHRlcm4uc3RhcnRzV2l0aChcImh0dHBcIikgPyB1cmxPYmoudG9TdHJpbmcoKSA6IHVybE9iai5wYXRobmFtZTtcbiAgICByZXR1cm4gdXJsVG9NYXRjaC5tYXRjaChmdWxsUGF0dGVybik7XG4gIH1cbiAgLy8gSGVscGVyIG1ldGhvZCB0byBjb25zdHJ1Y3QgdGhlIG1hcHBlZCBVUkxcbiAgY29uc3RydWN0TWFwcGVkVXJsKGFwaVBhdGgsIG1hdGNoLCBxdWVyeVBhcmFtcywgb3JpZ2luKSB7XG4gICAgbGV0IG1hcHBlZFBhdGggPSBhcGlQYXRoO1xuICAgIG1hdGNoLnNsaWNlKDEpLmZvckVhY2goKGdyb3VwKSA9PiB7XG4gICAgICBtYXBwZWRQYXRoID0gbWFwcGVkUGF0aC5yZXBsYWNlKC9cXCorLywgZ3JvdXApO1xuICAgIH0pO1xuICAgIGlmIChhcGlQYXRoLnN0YXJ0c1dpdGgoXCJodHRwXCIpKSB7XG4gICAgICBjb25zdCBtYXBwZWRVcmwgPSBuZXcgVVJMKG1hcHBlZFBhdGgpO1xuICAgICAgcmV0dXJuIGAke21hcHBlZFVybC5vcmlnaW59JHttYXBwZWRVcmwucGF0aG5hbWV9JHtxdWVyeVBhcmFtc31gO1xuICAgIH1cbiAgICByZXR1cm4gYCR7b3JpZ2lufSR7bWFwcGVkUGF0aH0ke3F1ZXJ5UGFyYW1zfWA7XG4gIH1cbn07XG5hc3luYyBmdW5jdGlvbiB1bmZ1cmxVcmxUb0JsaW5rQXBpVXJsKGFjdGlvblVybCkge1xuICBjb25zdCB1cmwgPSBuZXcgVVJMKGFjdGlvblVybCk7XG4gIGNvbnN0IHN0clVybCA9IGFjdGlvblVybC50b1N0cmluZygpO1xuICBpZiAoU09MQU5BX0FDVElPTl9QUkVGSVgudGVzdChzdHJVcmwpKSB7XG4gICAgcmV0dXJuIHN0clVybC5yZXBsYWNlKFNPTEFOQV9BQ1RJT05fUFJFRklYLCBcIlwiKTtcbiAgfVxuICBjb25zdCBpbnRlcnN0aXRpYWxEYXRhID0gaXNJbnRlcnN0aXRpYWwodXJsKTtcbiAgaWYgKGludGVyc3RpdGlhbERhdGEuaXNJbnRlcnN0aXRpYWwpIHtcbiAgICByZXR1cm4gaW50ZXJzdGl0aWFsRGF0YS5kZWNvZGVkQWN0aW9uVXJsO1xuICB9XG4gIGNvbnN0IGFjdGlvbnNKc29uVXJsID0gdXJsLm9yaWdpbiArIFwiL2FjdGlvbnMuanNvblwiO1xuICBjb25zdCB7IHVybDogcHJveHlVcmwyLCBoZWFkZXJzOiBwcm94eUhlYWRlcnMgfSA9IHByb3hpZnkoYWN0aW9uc0pzb25VcmwpO1xuICBjb25zdCBhY3Rpb25zSnNvbiA9IGF3YWl0IGZldGNoKHByb3h5VXJsMiwge1xuICAgIGhlYWRlcnM6IHtcbiAgICAgIC4uLnByb3h5SGVhZGVyc1xuICAgIH1cbiAgfSkudGhlbigocmVzKSA9PiByZXMuanNvbigpKTtcbiAgY29uc3QgYWN0aW9uc1VybE1hcHBlciA9IG5ldyBCbGlua3NVUkxNYXBwZXIoYWN0aW9uc0pzb24pO1xuICByZXR1cm4gYWN0aW9uc1VybE1hcHBlci5tYXBVcmwodXJsKTtcbn1cblxuLy8gcGFja2FnZS5qc29uXG52YXIgcGFja2FnZV9kZWZhdWx0ID0ge1xuICBuYW1lOiBcIkBkaWFsZWN0bGFicy9ibGlua3MtY29yZVwiLFxuICB2ZXJzaW9uOiBcIjAuMjAuN1wiLFxuICBsaWNlbnNlOiBcIkFwYWNoZS0yLjBcIixcbiAgcHJpdmF0ZTogZmFsc2UsXG4gIHNpZGVFZmZlY3RzOiB0cnVlLFxuICB0eXBlOiBcIm1vZHVsZVwiLFxuICByZXBvc2l0b3J5OiB7XG4gICAgdHlwZTogXCJnaXRcIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9naXRodWIuY29tL2RpYWxlY3RsYWJzL2JsaW5rc1wiXG4gIH0sXG4gIHNjcmlwdHM6IHtcbiAgICBidWlsZDogXCJ0c3VwLW5vZGVcIixcbiAgICBkZXY6IFwidHN1cC1ub2RlIC0td2F0Y2hcIlxuICB9LFxuICBtYWluOiBcImRpc3QvaW5kZXguY2pzXCIsXG4gIG1vZHVsZTogXCJkaXN0L2luZGV4LmpzXCIsXG4gIHR5cGVzOiBcImRpc3QvaW5kZXguZC50c1wiLFxuICBleHBvcnRzOiB7XG4gICAgXCIuL2FwaVwiOiB7XG4gICAgICBpbXBvcnQ6IFwiLi9kaXN0L3NlcnZpY2UtYXBpL2luZGV4LmpzXCIsXG4gICAgICByZXF1aXJlOiBcIi4vZGlzdC9zZXJ2aWNlLWFwaS9pbmRleC5janNcIixcbiAgICAgIHR5cGVzOiBcIi4vZGlzdC9zZXJ2aWNlLWFwaS9pbmRleC5kLnRzXCJcbiAgICB9LFxuICAgIFwiLi9zb2xhbmFcIjoge1xuICAgICAgaW1wb3J0OiBcIi4vZGlzdC9zb2xhbmEvaW5kZXguanNcIixcbiAgICAgIHJlcXVpcmU6IFwiLi9kaXN0L3NvbGFuYS9pbmRleC5janNcIixcbiAgICAgIHR5cGVzOiBcIi4vZGlzdC9zb2xhbmEvaW5kZXguZC50c1wiXG4gICAgfSxcbiAgICBcIi5cIjoge1xuICAgICAgaW1wb3J0OiBcIi4vZGlzdC9pbmRleC5qc1wiLFxuICAgICAgcmVxdWlyZTogXCIuL2Rpc3QvaW5kZXguY2pzXCIsXG4gICAgICB0eXBlczogXCIuL2Rpc3QvaW5kZXguZC50c1wiXG4gICAgfVxuICB9LFxuICBmaWxlczogW1xuICAgIFwiZGlzdFwiXG4gIF0sXG4gIGRldkRlcGVuZGVuY2llczoge1xuICAgIFwiQHNvbGFuYS9hY3Rpb25zLXNwZWNcIjogXCJ+Mi40LjJcIixcbiAgICBcIkB0eXBlcy9yZWFjdFwiOiBcIl4xOC4zLjNcIixcbiAgICBcIkB0eXBlcy9yZWFjdC1kb21cIjogXCJeMTguMy4wXCIsXG4gICAgXCJAdHlwZXNjcmlwdC1lc2xpbnQvZXNsaW50LXBsdWdpblwiOiBcIl43LjE2LjFcIixcbiAgICBcIkB0eXBlc2NyaXB0LWVzbGludC9wYXJzZXJcIjogXCJeNy4xNi4xXCIsXG4gICAgYXV0b3ByZWZpeGVyOiBcIl4xMC40LjE5XCIsXG4gICAgZXNsaW50OiBcIl44LjU3LjBcIixcbiAgICBcImVzbGludC1jb25maWctcHJldHRpZXJcIjogXCJeOS4xLjBcIixcbiAgICBcImVzbGludC1wbHVnaW4tcmVhY3RcIjogXCJeNy4zNC40XCIsXG4gICAgXCJlc2xpbnQtcGx1Z2luLXJlYWN0LWhvb2tzXCI6IFwiXjQuNi4yXCIsXG4gICAgcG9zdGNzczogXCJeOC40LjM5XCIsXG4gICAgXCJwb3N0Y3NzLXByZWZpeC1zZWxlY3RvclwiOiBcIl4xLjE2LjFcIixcbiAgICBwcmV0dGllcjogXCJeMy4zLjNcIixcbiAgICBcInByZXR0aWVyLXBsdWdpbi1vcmdhbml6ZS1pbXBvcnRzXCI6IFwiXjQuMC4wXCIsXG4gICAgXCJwcmV0dGllci1wbHVnaW4tdGFpbHdpbmRjc3NcIjogXCJeMC42LjVcIixcbiAgICB0YWlsd2luZGNzczogXCJeMy40LjNcIixcbiAgICB0c3VwOiBcIl44LjIuMFwiLFxuICAgIHR5cGVzY3JpcHQ6IFwiXjUuNS4zXCJcbiAgfSxcbiAgcGVlckRlcGVuZGVuY2llczoge1xuICAgIHJlYWN0OiBcIj49MThcIixcbiAgICBcIkBzb2xhbmEvd2ViMy5qc1wiOiBcIl4xLjk1LjNcIlxuICB9LFxuICBkZXBlbmRlbmNpZXM6IHtcbiAgICBuYW5vaWQ6IFwiXjUuMC45XCJcbiAgfSxcbiAgcGVlckRlcGVuZGVuY2llc01ldGE6IHtcbiAgICBcIkBzb2xhbmEvd2ViMy5qc1wiOiB7XG4gICAgICBvcHRpb25hbDogdHJ1ZVxuICAgIH1cbiAgfVxufTtcblxuLy8gc3JjL3V0aWxzL2RlcGVuZGVuY3ktdmVyc2lvbnMudHNcbnZhciBwa2cgPSBwYWNrYWdlX2RlZmF1bHQ7XG52YXIgQUNUSU9OU19TUEVDX1ZFUlNJT04gPSBwa2cuZGV2RGVwZW5kZW5jaWVzW1wiQHNvbGFuYS9hY3Rpb25zLXNwZWNcIl0ucmVwbGFjZSgvW15cXGQuXS9nLCBcIlwiKTtcblxuLy8gc3JjL2FwaS9CbGlua0luc3RhbmNlL2JsaW5rLXN1cHBvcnRhYmlsaXR5LnRzXG52YXIgTUFYX1NVUFBPUlRFRF9BQ1RJT05fVkVSU0lPTiA9IEFDVElPTlNfU1BFQ19WRVJTSU9OO1xudmFyIERFRkFVTFRfU1VQUE9SVEVEX0JMT0NLQ0hBSU5fSURTID0gW1xuICBCbG9ja2NoYWluSWRzLlNPTEFOQV9NQUlOTkVULFxuICBCbG9ja2NoYWluSWRzLlNPTEFOQV9ERVZORVRcbl07XG52YXIgQkFTRUxJTkVfQUNUSU9OX1ZFUlNJT04gPSBcIjIuMlwiO1xudmFyIEJBU0VMSU5FX0JMSU5LX0JMT0NLQ0hBSU5fSURTID0gW0Jsb2NrY2hhaW5JZHMuU09MQU5BX01BSU5ORVRdO1xudmFyIGRlZmF1bHRCbGlua1N1cHBvcnRTdHJhdGVneSA9IGFzeW5jIChibGluaywgYWRhcHRlcikgPT4ge1xuICBjb25zdCB7IHZlcnNpb246IGFjdGlvblNwZWNWZXJzaW9uLCBibG9ja2NoYWluSWRzOiBibGlua0Jsb2NrY2hhaW5JZHMgfSA9IGJsaW5rLm1ldGFkYXRhO1xuICBpZiAoIWFjdGlvblNwZWNWZXJzaW9uIHx8ICFibGlua0Jsb2NrY2hhaW5JZHMgfHwgYmxpbmtCbG9ja2NoYWluSWRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc1N1cHBvcnRlZDogZmFsc2UsXG4gICAgICBtZXNzYWdlOiBcIkJsaW5rIGNvbXBhdGliaWxpdHkgbWV0YWRhdGEgaXMgbm90IHNldC4gUGxlYXNlIGNvbnRhY3QgdGhlIGJsaW5rIHByb3ZpZGVyLlwiXG4gICAgfTtcbiAgfVxuICBjb25zdCBzdXBwb3J0ZWRBY3Rpb25WZXJzaW9uID0gTUFYX1NVUFBPUlRFRF9BQ1RJT05fVkVSU0lPTjtcbiAgY29uc3Qgc3VwcG9ydGVkQmxvY2tjaGFpbklkcyA9IGFkYXB0ZXIubWV0YWRhdGEuc3VwcG9ydGVkQmxvY2tjaGFpbklkcztcbiAgY29uc3QgdmVyc2lvblN1cHBvcnRlZCA9IGlzVmVyc2lvblN1cHBvcnRlZCh7XG4gICAgYWN0aW9uVmVyc2lvbjogYWN0aW9uU3BlY1ZlcnNpb24sXG4gICAgc3VwcG9ydGVkQWN0aW9uVmVyc2lvblxuICB9KTtcbiAgY29uc3QgYmxvY2tjaGFpblN1cHBvcnRlZCA9IGlzQmxvY2tjaGFpblN1cHBvcnRlZCh7XG4gICAgYWN0aW9uQmxvY2tjaGFpbklkczogYmxpbmtCbG9ja2NoYWluSWRzLFxuICAgIHN1cHBvcnRlZEJsb2NrY2hhaW5JZHNcbiAgfSk7XG4gIGNvbnN0IG5vdFN1cHBvcnRlZEJsb2NrY2hhaW5JZHMgPSBibGlua0Jsb2NrY2hhaW5JZHMuZmlsdGVyKFxuICAgIChpZCkgPT4gIXN1cHBvcnRlZEJsb2NrY2hhaW5JZHMuaW5jbHVkZXMoaWQpXG4gICk7XG4gIGNvbnN0IG5vdFN1cHBvcnRlZEFjdGlvbkJsb2NrY2hhaW5OYW1lcyA9IG5vdFN1cHBvcnRlZEJsb2NrY2hhaW5JZHMubWFwKFxuICAgIGdldFNob3J0QmxvY2tjaGFpbk5hbWVcbiAgKTtcbiAgaWYgKCF2ZXJzaW9uU3VwcG9ydGVkICYmICFibG9ja2NoYWluU3VwcG9ydGVkKSB7XG4gICAgY29uc3QgYmxvY2tjaGFpbk1lc3NhZ2UgPSBub3RTdXBwb3J0ZWRBY3Rpb25CbG9ja2NoYWluTmFtZXMubGVuZ3RoID09PSAxID8gYGJsb2NrY2hhaW4gJHtub3RTdXBwb3J0ZWRBY3Rpb25CbG9ja2NoYWluTmFtZXNbMF19YCA6IGBibG9ja2NoYWlucyAke25vdFN1cHBvcnRlZEFjdGlvbkJsb2NrY2hhaW5OYW1lcy5qb2luKFwiLCBcIil9YDtcbiAgICByZXR1cm4ge1xuICAgICAgaXNTdXBwb3J0ZWQ6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogYEFjdGlvbiB2ZXJzaW9uICR7YWN0aW9uU3BlY1ZlcnNpb259IGFuZCAke2Jsb2NrY2hhaW5NZXNzYWdlfSBhcmUgbm90IHN1cHBvcnRlZCBieSB5b3VyIEJsaW5rIGNsaWVudC5gXG4gICAgfTtcbiAgfVxuICBpZiAoIXZlcnNpb25TdXBwb3J0ZWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaXNTdXBwb3J0ZWQ6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogYEFjdGlvbiB2ZXJzaW9uICR7YWN0aW9uU3BlY1ZlcnNpb259IGlzIG5vdCBzdXBwb3J0ZWQgYnkgeW91ciBCbGluayBjbGllbnQuYFxuICAgIH07XG4gIH1cbiAgaWYgKCFibG9ja2NoYWluU3VwcG9ydGVkKSB7XG4gICAgY29uc3QgYmxvY2tjaGFpbk1lc3NhZ2UgPSBub3RTdXBwb3J0ZWRBY3Rpb25CbG9ja2NoYWluTmFtZXMubGVuZ3RoID09PSAxID8gYEFjdGlvbiBibG9ja2NoYWluICR7bm90U3VwcG9ydGVkQWN0aW9uQmxvY2tjaGFpbk5hbWVzWzBdfSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHlvdXIgQmxpbmsgY2xpZW50LmAgOiBgQWN0aW9uIGJsb2NrY2hhaW5zICR7bm90U3VwcG9ydGVkQWN0aW9uQmxvY2tjaGFpbk5hbWVzLmpvaW4oXCIsIFwiKX0gYXJlIG5vdCBzdXBwb3J0ZWQgYnkgeW91ciBCbGluayBjbGllbnQuYDtcbiAgICByZXR1cm4ge1xuICAgICAgaXNTdXBwb3J0ZWQ6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogYmxvY2tjaGFpbk1lc3NhZ2VcbiAgICB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgaXNTdXBwb3J0ZWQ6IHRydWVcbiAgfTtcbn07XG5mdW5jdGlvbiBpc1ZlcnNpb25TdXBwb3J0ZWQoe1xuICBzdXBwb3J0ZWRBY3Rpb25WZXJzaW9uLFxuICBhY3Rpb25WZXJzaW9uXG59KSB7XG4gIHJldHVybiBjb21wYXJlU2VtdmVySWdub3JpbmdQYXRjaChhY3Rpb25WZXJzaW9uLCBzdXBwb3J0ZWRBY3Rpb25WZXJzaW9uKSA8PSAwO1xufVxuZnVuY3Rpb24gY29tcGFyZVNlbXZlcklnbm9yaW5nUGF0Y2godjEsIHYyKSB7XG4gIGNvbnN0IFttYWpvcjEsIG1pbm9yMV0gPSB2MS5zcGxpdChcIi5cIikubWFwKE51bWJlcik7XG4gIGNvbnN0IFttYWpvcjIsIG1pbm9yMl0gPSB2Mi5zcGxpdChcIi5cIikubWFwKE51bWJlcik7XG4gIGlmIChtYWpvcjEgIT09IG1ham9yMikge1xuICAgIHJldHVybiBtYWpvcjEgLSBtYWpvcjI7XG4gIH0gZWxzZSBpZiAobWlub3IxICE9PSBtaW5vcjIpIHtcbiAgICByZXR1cm4gbWlub3IxIC0gbWlub3IyO1xuICB9XG4gIHJldHVybiAwO1xufVxuZnVuY3Rpb24gaXNCbG9ja2NoYWluU3VwcG9ydGVkKHtcbiAgc3VwcG9ydGVkQmxvY2tjaGFpbklkcyxcbiAgYWN0aW9uQmxvY2tjaGFpbklkc1xufSkge1xuICBpZiAoYWN0aW9uQmxvY2tjaGFpbklkcy5sZW5ndGggPT09IDAgfHwgc3VwcG9ydGVkQmxvY2tjaGFpbklkcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3Qgc2FuaXRpemVkU3VwcG9ydGVkQmxvY2tjaGFpbklkcyA9IHN1cHBvcnRlZEJsb2NrY2hhaW5JZHMubWFwKFxuICAgIChpdCkgPT4gaXQudHJpbSgpXG4gICk7XG4gIGNvbnN0IHNhbml0aXplZEFjdGlvbkJsb2NrY2hhaW5JZHMgPSBhY3Rpb25CbG9ja2NoYWluSWRzLm1hcChcbiAgICAoaXQpID0+IGl0LnRyaW0oKVxuICApO1xuICByZXR1cm4gc2FuaXRpemVkQWN0aW9uQmxvY2tjaGFpbklkcy5ldmVyeShcbiAgICAoY2hhaW4pID0+IHNhbml0aXplZFN1cHBvcnRlZEJsb2NrY2hhaW5JZHMuaW5jbHVkZXMoY2hhaW4pXG4gICk7XG59XG5cbi8vIHNyYy9hcGkvQmxpbmtJbnN0YW5jZS9CbGlua0luc3RhbmNlLnRzXG5pbXBvcnQgeyBuYW5vaWQgfSBmcm9tIFwibmFub2lkL25vbi1zZWN1cmVcIjtcblxuLy8gc3JjL2FwaS9CbGlua0luc3RhbmNlL2FjdGlvbi1jb21wb25lbnRzL0Fic3RyYWN0QWN0aW9uQ29tcG9uZW50LnRzXG52YXIgQWJzdHJhY3RBY3Rpb25Db21wb25lbnQgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKF9wYXJlbnQsIF9sYWJlbCwgX2hyZWYsIF90eXBlLCBfcGFyYW1ldGVycykge1xuICAgIHRoaXMuX3BhcmVudCA9IF9wYXJlbnQ7XG4gICAgdGhpcy5fbGFiZWwgPSBfbGFiZWw7XG4gICAgdGhpcy5faHJlZiA9IF9ocmVmO1xuICAgIHRoaXMuX3R5cGUgPSBfdHlwZTtcbiAgICB0aGlzLl9wYXJhbWV0ZXJzID0gX3BhcmFtZXRlcnM7XG4gIH1cbiAgZ2V0IHBhcmVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcGFyZW50O1xuICB9XG4gIGdldCBsYWJlbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbGFiZWw7XG4gIH1cbiAgZ2V0IHBhcmFtZXRlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BhcmFtZXRlcnMgPz8gW107XG4gIH1cbiAgZ2V0IHR5cGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3R5cGU7XG4gIH1cbiAgYXN5bmMgcG9zdChhY2NvdW50KSB7XG4gICAgY29uc3QgeyB1cmw6IHByb3h5VXJsMiwgaGVhZGVyczogcHJveHlIZWFkZXJzIH0gPSBwcm94aWZ5KHRoaXMuaHJlZik7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChwcm94eVVybDIsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0aGlzLmJ1aWxkQm9keShhY2NvdW50KSksXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAuLi5wcm94eUhlYWRlcnNcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIGBbQGRpYWxlY3RsYWJzL2JsaW5rc10gRmFpbGVkIHRvIGV4ZWN1dGUgYWN0aW9uICR7cHJveHlVcmwyfSwgaHJlZiAke3RoaXMuaHJlZn0sIHJlYXNvbjogJHtlcnJvci5tZXNzYWdlfWBcbiAgICAgICk7XG4gICAgICB0aHJvdyB7XG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH1cbn07XG5cbi8vIHNyYy9hcGkvQmxpbmtJbnN0YW5jZS9hY3Rpb24tY29tcG9uZW50cy9CdXR0b25BY3Rpb25Db21wb25lbnQudHNcbnZhciBCdXR0b25BY3Rpb25Db21wb25lbnQgPSBjbGFzcyBleHRlbmRzIEFic3RyYWN0QWN0aW9uQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoX3BhcmVudCwgX2xhYmVsLCBfaHJlZiwgX3R5cGUsIF9wYXJhbWV0ZXJzLCBfcGFyZW50Q29tcG9uZW50KSB7XG4gICAgc3VwZXIoX3BhcmVudCwgX2xhYmVsLCBfaHJlZiwgX3R5cGUsIF9wYXJhbWV0ZXJzKTtcbiAgICB0aGlzLl9wYXJlbnQgPSBfcGFyZW50O1xuICAgIHRoaXMuX2xhYmVsID0gX2xhYmVsO1xuICAgIHRoaXMuX2hyZWYgPSBfaHJlZjtcbiAgICB0aGlzLl90eXBlID0gX3R5cGU7XG4gICAgdGhpcy5fcGFyYW1ldGVycyA9IF9wYXJhbWV0ZXJzO1xuICAgIHRoaXMuX3BhcmVudENvbXBvbmVudCA9IF9wYXJlbnRDb21wb25lbnQ7XG4gIH1cbiAgZ2V0IHBhcmVudENvbXBvbmVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcGFyZW50Q29tcG9uZW50ID8/IG51bGw7XG4gIH1cbiAgYnVpbGRCb2R5KGFjY291bnQpIHtcbiAgICByZXR1cm4geyBhY2NvdW50LCB0eXBlOiB0aGlzLnR5cGUgfTtcbiAgfVxuICBnZXQgaHJlZigpIHtcbiAgICByZXR1cm4gdGhpcy5faHJlZjtcbiAgfVxufTtcblxuLy8gc3JjL2FwaS9CbGlua0luc3RhbmNlL2FjdGlvbi1jb21wb25lbnRzL1NpbmdsZVZhbHVlQWN0aW9uQ29tcG9uZW50LnRzXG52YXIgU2luZ2xlVmFsdWVBY3Rpb25Db21wb25lbnQgPSBjbGFzcyBleHRlbmRzIEFic3RyYWN0QWN0aW9uQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoX3BhcmVudCwgX2xhYmVsLCBfaHJlZiwgX3R5cGUsIF9wYXJhbWV0ZXJzLCBfcGFyZW50Q29tcG9uZW50KSB7XG4gICAgc3VwZXIoX3BhcmVudCwgX2xhYmVsLCBfaHJlZiwgX3R5cGUsIF9wYXJhbWV0ZXJzKTtcbiAgICB0aGlzLl9wYXJlbnQgPSBfcGFyZW50O1xuICAgIHRoaXMuX2xhYmVsID0gX2xhYmVsO1xuICAgIHRoaXMuX2hyZWYgPSBfaHJlZjtcbiAgICB0aGlzLl90eXBlID0gX3R5cGU7XG4gICAgdGhpcy5fcGFyYW1ldGVycyA9IF9wYXJhbWV0ZXJzO1xuICAgIHRoaXMuX3BhcmVudENvbXBvbmVudCA9IF9wYXJlbnRDb21wb25lbnQ7XG4gIH1cbiAgcGFyYW1ldGVyVmFsdWUgPSBudWxsO1xuICBnZXQgcGFyZW50Q29tcG9uZW50KCkge1xuICAgIHJldHVybiB0aGlzLl9wYXJlbnRDb21wb25lbnQgPz8gbnVsbDtcbiAgfVxuICBidWlsZEJvZHkoYWNjb3VudCkge1xuICAgIGlmICh0aGlzLl9ocmVmLmluZGV4T2YoYHske3RoaXMucGFyYW1ldGVyLm5hbWV9fWApID4gLTEgfHwgdGhpcy5wYXJhbWV0ZXJWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHsgYWNjb3VudCwgdHlwZTogdGhpcy50eXBlIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBhY2NvdW50LFxuICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgZGF0YToge1xuICAgICAgICBbdGhpcy5wYXJhbWV0ZXIubmFtZV06IHRoaXMucGFyYW1ldGVyVmFsdWVcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGdldCBwYXJhbWV0ZXIoKSB7XG4gICAgY29uc3QgW3BhcmFtXSA9IHRoaXMucGFyYW1ldGVycztcbiAgICByZXR1cm4gcGFyYW07XG4gIH1cbiAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICB0aGlzLnBhcmFtZXRlclZhbHVlID0gdmFsdWU7XG4gIH1cbiAgZ2V0IGhyZWYoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2hyZWYucmVwbGFjZShcbiAgICAgIGB7JHt0aGlzLnBhcmFtZXRlci5uYW1lfX1gLFxuICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMucGFyYW1ldGVyVmFsdWU/LnRvU3RyaW5nKCkudHJpbSgpID8/IFwiXCIpXG4gICAgKTtcbiAgfVxuICB0b0J1dHRvbkFjdGlvbkNvbXBvbmVudCgpIHtcbiAgICByZXR1cm4gbmV3IEJ1dHRvbkFjdGlvbkNvbXBvbmVudChcbiAgICAgIHRoaXMuX3BhcmVudCxcbiAgICAgIHRoaXMuX2xhYmVsLFxuICAgICAgdGhpcy5faHJlZixcbiAgICAgIHRoaXMuX3R5cGUsXG4gICAgICB2b2lkIDAsXG4gICAgICB0aGlzXG4gICAgKTtcbiAgfVxufTtcblxuLy8gc3JjL2FwaS9CbGlua0luc3RhbmNlL2FjdGlvbi1jb21wb25lbnRzL0Zvcm1BY3Rpb25Db21wb25lbnQudHNcbnZhciBGb3JtQWN0aW9uQ29tcG9uZW50ID0gY2xhc3MgZXh0ZW5kcyBBYnN0cmFjdEFjdGlvbkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKF9wYXJlbnQsIF9sYWJlbCwgX2hyZWYsIF90eXBlLCBfcGFyYW1ldGVycywgX3BhcmVudENvbXBvbmVudCkge1xuICAgIHN1cGVyKF9wYXJlbnQsIF9sYWJlbCwgX2hyZWYsIF90eXBlLCBfcGFyYW1ldGVycyk7XG4gICAgdGhpcy5fcGFyZW50ID0gX3BhcmVudDtcbiAgICB0aGlzLl9sYWJlbCA9IF9sYWJlbDtcbiAgICB0aGlzLl9ocmVmID0gX2hyZWY7XG4gICAgdGhpcy5fdHlwZSA9IF90eXBlO1xuICAgIHRoaXMuX3BhcmFtZXRlcnMgPSBfcGFyYW1ldGVycztcbiAgICB0aGlzLl9wYXJlbnRDb21wb25lbnQgPSBfcGFyZW50Q29tcG9uZW50O1xuICB9XG4gIHBhcmFtZXRlclZhbHVlcyA9IHt9O1xuICBnZXQgcGFyZW50Q29tcG9uZW50KCkge1xuICAgIHJldHVybiB0aGlzLl9wYXJlbnRDb21wb25lbnQgPz8gbnVsbDtcbiAgfVxuICAvLyBhbnksIHNpbmNlIHdlIGRvbid0IGtub3cgdGhlIHBhcmFtZXRlciBuYW1lcyBvbiB0aGUgY2xpZW50IGxldmVsXG4gIGJ1aWxkQm9keShhY2NvdW50KSB7XG4gICAgY29uc3QgcGFyYW1OYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMucGFyYW1ldGVyVmFsdWVzKTtcbiAgICBjb25zdCBib2R5UGFyYW1zID0gW107XG4gICAgcGFyYW1OYW1lcy5mb3JFYWNoKChwYXJhbU5hbWUpID0+IHtcbiAgICAgIGlmICh0aGlzLl9ocmVmLmluZGV4T2YoYHske3BhcmFtTmFtZX19YCkgPT09IC0xKSB7XG4gICAgICAgIGJvZHlQYXJhbXMucHVzaChwYXJhbU5hbWUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChib2R5UGFyYW1zLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGFjY291bnQsXG4gICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgZGF0YTogT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICAgIHBhcmFtTmFtZXMuZmlsdGVyKChuYW1lKSA9PiBib2R5UGFyYW1zLmluY2x1ZGVzKG5hbWUpKS5tYXAoKHBhcmFtTmFtZSkgPT4gW3BhcmFtTmFtZSwgdGhpcy5wYXJhbWV0ZXJWYWx1ZXNbcGFyYW1OYW1lXV0pXG4gICAgICAgIClcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7IGFjY291bnQsIHR5cGU6IHRoaXMudHlwZSB9O1xuICB9XG4gIGdldCBocmVmKCkge1xuICAgIGNvbnN0IHJlcGxhY2VkSHJlZiA9IHRoaXMucGFyYW1ldGVycy5yZWR1Y2UoKGhyZWYsIHBhcmFtKSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMucGFyYW1ldGVyVmFsdWVzW3BhcmFtLm5hbWVdO1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gaHJlZjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBocmVmLnJlcGxhY2UoXG4gICAgICAgIGB7JHtwYXJhbS5uYW1lfX1gLFxuICAgICAgICBlbmNvZGVVUklDb21wb25lbnQoXG4gICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gdmFsdWUgOiB2YWx1ZT8uam9pbihcIixcIilcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9LCB0aGlzLl9ocmVmKTtcbiAgICByZXR1cm4gcmVwbGFjZWRIcmVmLnJlcGxhY2VBbGwoLz17W159XSt9Ji9nLCBcIj0mXCIpLnJlcGxhY2VBbGwoLz17W159XSt9L2csIFwiPVwiKTtcbiAgfVxuICBzZXRWYWx1ZSh2YWx1ZSwgbmFtZSkge1xuICAgIHRoaXMucGFyYW1ldGVyVmFsdWVzW25hbWVdID0gdmFsdWU7XG4gIH1cbiAgdG9CdXR0b25BY3Rpb25Db21wb25lbnQoKSB7XG4gICAgcmV0dXJuIG5ldyBCdXR0b25BY3Rpb25Db21wb25lbnQoXG4gICAgICB0aGlzLl9wYXJlbnQsXG4gICAgICB0aGlzLl9sYWJlbCxcbiAgICAgIHRoaXMuaHJlZixcbiAgICAgIHRoaXMuX3R5cGUsXG4gICAgICB2b2lkIDAsXG4gICAgICB0aGlzXG4gICAgKTtcbiAgfVxuICB0b0lucHV0QWN0aW9uQ29tcG9uZW50KHBhcmFtTmFtZSkge1xuICAgIGNvbnN0IHBhcmFtZXRlciA9IHRoaXMucGFyYW1ldGVycy5maW5kKChwYXJhbSkgPT4gcGFyYW0ubmFtZSA9PT0gcGFyYW1OYW1lKTtcbiAgICBpZiAoIXBhcmFtZXRlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnB1dCBQYXJhbWV0ZXIgJHtwYXJhbU5hbWV9IG5vdCBmb3VuZGApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFNpbmdsZVZhbHVlQWN0aW9uQ29tcG9uZW50KFxuICAgICAgdGhpcy5fcGFyZW50LFxuICAgICAgdGhpcy5fbGFiZWwsXG4gICAgICB0aGlzLl9ocmVmLFxuICAgICAgdGhpcy5fdHlwZSxcbiAgICAgIFtwYXJhbWV0ZXJdLFxuICAgICAgdGhpc1xuICAgICk7XG4gIH1cbn07XG5cbi8vIHNyYy9hcGkvQmxpbmtJbnN0YW5jZS9hY3Rpb24tY29tcG9uZW50cy9NdWx0aVZhbHVlQWN0aW9uQ29tcG9uZW50LnRzXG52YXIgTXVsdGlWYWx1ZUFjdGlvbkNvbXBvbmVudCA9IGNsYXNzIGV4dGVuZHMgQWJzdHJhY3RBY3Rpb25Db21wb25lbnQge1xuICBjb25zdHJ1Y3RvcihfcGFyZW50LCBfbGFiZWwsIF9ocmVmLCBfdHlwZSwgX3BhcmFtZXRlcnMsIF9wYXJlbnRDb21wb25lbnQpIHtcbiAgICBzdXBlcihfcGFyZW50LCBfbGFiZWwsIF9ocmVmLCBfdHlwZSwgX3BhcmFtZXRlcnMpO1xuICAgIHRoaXMuX3BhcmVudCA9IF9wYXJlbnQ7XG4gICAgdGhpcy5fbGFiZWwgPSBfbGFiZWw7XG4gICAgdGhpcy5faHJlZiA9IF9ocmVmO1xuICAgIHRoaXMuX3R5cGUgPSBfdHlwZTtcbiAgICB0aGlzLl9wYXJhbWV0ZXJzID0gX3BhcmFtZXRlcnM7XG4gICAgdGhpcy5fcGFyZW50Q29tcG9uZW50ID0gX3BhcmVudENvbXBvbmVudDtcbiAgfVxuICBwYXJhbWV0ZXJWYWx1ZSA9IFtdO1xuICBnZXQgcGFyZW50Q29tcG9uZW50KCkge1xuICAgIHJldHVybiB0aGlzLl9wYXJlbnRDb21wb25lbnQgPz8gbnVsbDtcbiAgfVxuICAvLyBhbnksIHNpbmNlIHdlIGRvbid0IGtub3cgdGhlIHBhcmFtZXRlciBuYW1lcyBvbiB0aGUgY2xpZW50IGxldmVsXG4gIGJ1aWxkQm9keShhY2NvdW50KSB7XG4gICAgaWYgKHRoaXMuX2hyZWYuaW5kZXhPZihgeyR7dGhpcy5wYXJhbWV0ZXIubmFtZX19YCkgPiAtMSkge1xuICAgICAgcmV0dXJuIHsgYWNjb3VudCwgdHlwZTogdGhpcy50eXBlIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBhY2NvdW50LFxuICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgZGF0YToge1xuICAgICAgICBbdGhpcy5wYXJhbWV0ZXIubmFtZV06IHRoaXMuaXNNdWx0aU9wdGlvbnMgPyB0aGlzLnBhcmFtZXRlclZhbHVlIDogdGhpcy5wYXJhbWV0ZXJWYWx1ZVswXVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgZ2V0IGlzTXVsdGlPcHRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLnBhcmFtZXRlci50eXBlID09PSBcImNoZWNrYm94XCI7XG4gIH1cbiAgZ2V0IHBhcmFtZXRlcigpIHtcbiAgICBjb25zdCBbcGFyYW1dID0gdGhpcy5wYXJhbWV0ZXJzO1xuICAgIHJldHVybiBwYXJhbTtcbiAgfVxuICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgIHRoaXMucGFyYW1ldGVyVmFsdWUgPSB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyBbdmFsdWVdIDogdmFsdWU7XG4gIH1cbiAgZ2V0IGhyZWYoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2hyZWYucmVwbGFjZShcbiAgICAgIGB7JHt0aGlzLnBhcmFtZXRlci5uYW1lfX1gLFxuICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMucGFyYW1ldGVyVmFsdWUuam9pbihcIixcIikpXG4gICAgKTtcbiAgfVxuICB0b0J1dHRvbkFjdGlvbkNvbXBvbmVudCgpIHtcbiAgICByZXR1cm4gbmV3IEJ1dHRvbkFjdGlvbkNvbXBvbmVudChcbiAgICAgIHRoaXMuX3BhcmVudCxcbiAgICAgIHRoaXMuX2xhYmVsLFxuICAgICAgdGhpcy5faHJlZixcbiAgICAgIHRoaXMuX3R5cGUsXG4gICAgICB2b2lkIDAsXG4gICAgICB0aGlzXG4gICAgKTtcbiAgfVxufTtcblxuLy8gc3JjL2FwaS9CbGlua0luc3RhbmNlL2FjdGlvbi1jb21wb25lbnRzL2d1YXJkcy50c1xudmFyIGlzUGF0dGVybkFsbG93ZWQgPSAocGFyYW1ldGVyKSA9PiB7XG4gIHJldHVybiBwYXJhbWV0ZXIudHlwZSAhPT0gXCJzZWxlY3RcIiAmJiBwYXJhbWV0ZXIudHlwZSAhPT0gXCJyYWRpb1wiICYmIHBhcmFtZXRlci50eXBlICE9PSBcImNoZWNrYm94XCI7XG59O1xudmFyIGlzUGFyYW1ldGVyU2VsZWN0YWJsZSA9IChwYXJhbWV0ZXIpID0+IHtcbiAgcmV0dXJuIHBhcmFtZXRlci50eXBlID09PSBcInNlbGVjdFwiIHx8IHBhcmFtZXRlci50eXBlID09PSBcInJhZGlvXCIgfHwgcGFyYW1ldGVyLnR5cGUgPT09IFwiY2hlY2tib3hcIjtcbn07XG5cbi8vIHNyYy9hcGkvQmxpbmtJbnN0YW5jZS9CbGlua0luc3RhbmNlLnRzXG52YXIgTVVMVElfVkFMVUVfVFlQRVMgPSBbXCJjaGVja2JveFwiXTtcbnZhciBFWFBFUklNRU5UQUxfTElWRV9EQVRBX0RFRkFVTFRfREVMQVlfTVMgPSAxZTM7XG52YXIgQmxpbmtJbnN0YW5jZTYgPSBjbGFzcyBfQmxpbmtJbnN0YW5jZSB7XG4gIGNvbnN0cnVjdG9yKF91cmwsIF9kYXRhLCBfbWV0YWRhdGEsIF9zdXBwb3J0U3RyYXRlZ3ksIF9jaGFpbk1ldGFkYXRhID0geyBpc0NoYWluZWQ6IGZhbHNlIH0sIF9pZCwgX2V4cGVyaW1lbnRhbCkge1xuICAgIHRoaXMuX3VybCA9IF91cmw7XG4gICAgdGhpcy5fZGF0YSA9IF9kYXRhO1xuICAgIHRoaXMuX21ldGFkYXRhID0gX21ldGFkYXRhO1xuICAgIHRoaXMuX3N1cHBvcnRTdHJhdGVneSA9IF9zdXBwb3J0U3RyYXRlZ3k7XG4gICAgdGhpcy5fY2hhaW5NZXRhZGF0YSA9IF9jaGFpbk1ldGFkYXRhO1xuICAgIHRoaXMuX2lkID0gX2lkO1xuICAgIHRoaXMuX2V4cGVyaW1lbnRhbCA9IF9leHBlcmltZW50YWw7XG4gICAgaWYgKF9kYXRhLnR5cGUgPT09IFwiY29tcGxldGVkXCIgfHwgIV9kYXRhLmxpbmtzPy5hY3Rpb25zKSB7XG4gICAgICB0aGlzLl9hY3Rpb25zID0gW1xuICAgICAgICBuZXcgQnV0dG9uQWN0aW9uQ29tcG9uZW50KHRoaXMsIF9kYXRhLmxhYmVsLCBfdXJsLCBcInRyYW5zYWN0aW9uXCIpXG4gICAgICBdO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB1cmxPYmogPSBuZXcgVVJMKF91cmwpO1xuICAgIHRoaXMuX2FjdGlvbnMgPSBfZGF0YS5saW5rcy5hY3Rpb25zLm1hcCgoYWN0aW9uKSA9PiB7XG4gICAgICBjb25zdCBocmVmID0gYWN0aW9uLmhyZWYuc3RhcnRzV2l0aChcImh0dHBcIikgPyBhY3Rpb24uaHJlZiA6IHVybE9iai5vcmlnaW4gKyBhY3Rpb24uaHJlZjtcbiAgICAgIHJldHVybiBjb21wb25lbnRGYWN0b3J5KFxuICAgICAgICB0aGlzLFxuICAgICAgICBhY3Rpb24ubGFiZWwsXG4gICAgICAgIGhyZWYsXG4gICAgICAgIGFjdGlvbi50eXBlID8/IFwidHJhbnNhY3Rpb25cIixcbiAgICAgICAgYWN0aW9uLnBhcmFtZXRlcnNcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbiAgX2FjdGlvbnM7XG4gIC8vIHRoaXMgQVBJIE1BWSBjaGFuZ2UgaW4gdGhlIGZ1dHVyZVxuICBnZXQgbGl2ZURhdGFfZXhwZXJpbWVudGFsKCkge1xuICAgIGNvbnN0IGxpdmVEYXRhID0gdGhpcy5fZXhwZXJpbWVudGFsPy5saXZlRGF0YTtcbiAgICBpZiAoIWxpdmVEYXRhKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGVuYWJsZWQ6IGxpdmVEYXRhLmVuYWJsZWQsXG4gICAgICBkZWxheU1zOiBsaXZlRGF0YS5kZWxheU1zID8gTWF0aC5tYXgobGl2ZURhdGEuZGVsYXlNcywgRVhQRVJJTUVOVEFMX0xJVkVfREFUQV9ERUZBVUxUX0RFTEFZX01TKSA6IEVYUEVSSU1FTlRBTF9MSVZFX0RBVEFfREVGQVVMVF9ERUxBWV9NU1xuICAgIH07XG4gIH1cbiAgZ2V0IGlkKCkge1xuICAgIHJldHVybiB0aGlzLl9pZDtcbiAgfVxuICBnZXQgZGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgfVxuICBnZXQgc3VwcG9ydFN0cmF0ZWd5KCkge1xuICAgIHJldHVybiB0aGlzLl9zdXBwb3J0U3RyYXRlZ3k7XG4gIH1cbiAgZ2V0IGlzQ2hhaW5lZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fY2hhaW5NZXRhZGF0YS5pc0NoYWluZWQ7XG4gIH1cbiAgZ2V0IGlzSW5saW5lKCkge1xuICAgIHJldHVybiB0aGlzLl9jaGFpbk1ldGFkYXRhLmlzQ2hhaW5lZCA/IHRoaXMuX2NoYWluTWV0YWRhdGEuaXNJbmxpbmUgOiBmYWxzZTtcbiAgfVxuICBnZXQgdHlwZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YS50eXBlO1xuICB9XG4gIGdldCB1cmwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3VybDtcbiAgfVxuICBnZXQgaWNvbigpIHtcbiAgICBpZiAodGhpcy5fZGF0YS5pY29uLnN0YXJ0c1dpdGgoXCJkYXRhOlwiKSB8fCBpc1Byb3hpZmllZCh0aGlzLl9kYXRhLmljb24pIHx8ICF0aGlzLl9kYXRhLmljb24pIHtcbiAgICAgIHJldHVybiB0aGlzLl9kYXRhLmljb247XG4gICAgfVxuICAgIHJldHVybiBwcm94aWZ5SW1hZ2UodGhpcy5fZGF0YS5pY29uKS51cmwudG9TdHJpbmcoKTtcbiAgfVxuICBnZXQgdGl0bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGEudGl0bGU7XG4gIH1cbiAgZ2V0IGRlc2NyaXB0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLl9kYXRhLmRlc2NyaXB0aW9uO1xuICB9XG4gIGdldCBkaXNhYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YS5kaXNhYmxlZCA/PyBmYWxzZTtcbiAgfVxuICBnZXQgYWN0aW9ucygpIHtcbiAgICByZXR1cm4gdGhpcy5fYWN0aW9ucztcbiAgfVxuICBnZXQgZXJyb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RhdGEuZXJyb3I/Lm1lc3NhZ2UgPz8gbnVsbDtcbiAgfVxuICBnZXQgbWVzc2FnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZGF0YS5tZXNzYWdlID8/IG51bGw7XG4gIH1cbiAgZ2V0IG1ldGFkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBibG9ja2NoYWluSWRzOiB0aGlzLl9tZXRhZGF0YS5ibG9ja2NoYWluSWRzID8/IEJBU0VMSU5FX0JMSU5LX0JMT0NLQ0hBSU5fSURTLFxuICAgICAgdmVyc2lvbjogdGhpcy5fbWV0YWRhdGEudmVyc2lvbiA/PyBCQVNFTElORV9BQ1RJT05fVkVSU0lPTlxuICAgIH07XG4gIH1cbiAgYXN5bmMgaXNTdXBwb3J0ZWQoYWRhcHRlcikge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5fc3VwcG9ydFN0cmF0ZWd5KHRoaXMsIGFkYXB0ZXIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIGBbQGRpYWxlY3RsYWJzL2JsaW5rc10gRmFpbGVkIHRvIGNoZWNrIHN1cHBvcnRhYmlsaXR5IGZvciBhY3Rpb24gJHt0aGlzLnVybH1gLFxuICAgICAgICBlXG4gICAgICApO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNTdXBwb3J0ZWQ6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiBcIkZhaWxlZCB0byBjaGVjayBzdXBwb3J0YWJpbGl0eSwgcGxlYXNlIGNvbnRhY3QgeW91ciBCbGluayBjbGllbnQgcHJvdmlkZXIuXCJcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIGFzeW5jIGNoYWluKG5leHQsIGNoYWluRGF0YSwgbGlmZWN5Y2xlRGF0YSkge1xuICAgIGNvbnN0IGlkID0gbmFub2lkKCk7XG4gICAgaWYgKG5leHQudHlwZSA9PT0gXCJpbmxpbmVcIikge1xuICAgICAgcmV0dXJuIG5ldyBfQmxpbmtJbnN0YW5jZShcbiAgICAgICAgdGhpcy51cmwsXG4gICAgICAgIGxpZmVjeWNsZURhdGEgPyBtZXJnZUxpZmVjeWNsZURhdGEobmV4dC5hY3Rpb24sIGxpZmVjeWNsZURhdGEpIDogbmV4dC5hY3Rpb24sXG4gICAgICAgIHRoaXMubWV0YWRhdGEsXG4gICAgICAgIHRoaXMuX3N1cHBvcnRTdHJhdGVneSxcbiAgICAgICAge1xuICAgICAgICAgIGlzQ2hhaW5lZDogdHJ1ZSxcbiAgICAgICAgICBpc0lubGluZTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBpZFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgYmFzZVVybE9iaiA9IG5ldyBVUkwodGhpcy51cmwpO1xuICAgIGlmICghaXNVcmxTYW1lT3JpZ2luKGJhc2VVcmxPYmoub3JpZ2luLCBuZXh0LmhyZWYpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBgQ2hhaW5lZCBhY3Rpb24gaXMgbm90IHRoZSBzYW1lIG9yaWdpbiBhcyB0aGUgY3VycmVudCBhY3Rpb24uIE9yaWdpbmFsOiAke3RoaXMudXJsfSwgY2hhaW5lZDogJHtuZXh0LmhyZWZ9YFxuICAgICAgKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBocmVmID0gbmV4dC5ocmVmLnN0YXJ0c1dpdGgoXCJodHRwXCIpID8gbmV4dC5ocmVmIDogYmFzZVVybE9iai5vcmlnaW4gKyBuZXh0LmhyZWY7XG4gICAgY29uc3QgeyB1cmw6IHByb3h5VXJsMiwgaGVhZGVyczogcHJveHlIZWFkZXJzIH0gPSBwcm94aWZ5KGhyZWYpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocHJveHlVcmwyLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY2hhaW5EYXRhKSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIEFjY2VwdDogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIC4uLnByb3h5SGVhZGVyc1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIGBGYWlsZWQgdG8gZmV0Y2ggY2hhaW5lZCBhY3Rpb24gJHtwcm94eVVybDJ9LCBhY3Rpb24gdXJsOiAke25leHQuaHJlZn1gXG4gICAgICApO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgY29uc3QgbWV0YWRhdGEgPSBnZXRCbGlua1N1cHBvcnRhYmlsaXR5TWV0YWRhdGEocmVzcG9uc2UpO1xuICAgIHJldHVybiBuZXcgX0JsaW5rSW5zdGFuY2UoXG4gICAgICBocmVmLFxuICAgICAgbGlmZWN5Y2xlRGF0YSA/IG1lcmdlTGlmZWN5Y2xlRGF0YShkYXRhLCBsaWZlY3ljbGVEYXRhKSA6IGRhdGEsXG4gICAgICBtZXRhZGF0YSxcbiAgICAgIHRoaXMuX3N1cHBvcnRTdHJhdGVneSxcbiAgICAgIHtcbiAgICAgICAgaXNDaGFpbmVkOiB0cnVlLFxuICAgICAgICBpc0lubGluZTogZmFsc2VcbiAgICAgIH0sXG4gICAgICBpZFxuICAgICk7XG4gIH1cbiAgc2FmZUlubGluZUNoYWluKGxpZmVjeWNsZURhdGEpIHtcbiAgICBpZiAoIWxpZmVjeWNsZURhdGEpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjb25zdCBpZCA9IG5hbm9pZCgpO1xuICAgIHJldHVybiBuZXcgX0JsaW5rSW5zdGFuY2UoXG4gICAgICB0aGlzLnVybCxcbiAgICAgIG1lcmdlTGlmZWN5Y2xlRGF0YSh0aGlzLl9kYXRhLCBsaWZlY3ljbGVEYXRhKSxcbiAgICAgIHRoaXMubWV0YWRhdGEsXG4gICAgICB0aGlzLl9zdXBwb3J0U3RyYXRlZ3ksXG4gICAgICB7XG4gICAgICAgIGlzQ2hhaW5lZDogdHJ1ZSxcbiAgICAgICAgaXNJbmxpbmU6IHRydWVcbiAgICAgIH0sXG4gICAgICBpZFxuICAgICk7XG4gIH1cbiAgLy8gYmUgc3VyZSB0byB1c2UgdGhpcyBvbmx5IGlmIHRoZSBhY3Rpb24gaXMgdmFsaWRcbiAgc3RhdGljIGh5ZHJhdGUodXJsLCBkYXRhLCBtZXRhZGF0YSwgc3VwcG9ydFN0cmF0ZWd5KSB7XG4gICAgY29uc3QgaWQgPSBuYW5vaWQoKTtcbiAgICByZXR1cm4gbmV3IF9CbGlua0luc3RhbmNlKFxuICAgICAgdXJsLFxuICAgICAgZGF0YSxcbiAgICAgIG1ldGFkYXRhLFxuICAgICAgc3VwcG9ydFN0cmF0ZWd5LFxuICAgICAgeyBpc0NoYWluZWQ6IGZhbHNlIH0sXG4gICAgICBpZFxuICAgICk7XG4gIH1cbiAgc3RhdGljIGFzeW5jIF9mZXRjaChhcGlVcmwsIHN1cHBvcnRTdHJhdGVneSA9IGRlZmF1bHRCbGlua1N1cHBvcnRTdHJhdGVneSwgY2hhaW5NZXRhZGF0YSwgaWQpIHtcbiAgICBjb25zdCB7IHVybDogcHJveHlVcmwyLCBoZWFkZXJzOiBwcm94eUhlYWRlcnMgfSA9IHByb3hpZnkoYXBpVXJsKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHByb3h5VXJsMiwge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICBBY2NlcHQ6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAuLi5wcm94eUhlYWRlcnNcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBGYWlsZWQgdG8gZmV0Y2ggYWN0aW9uICR7cHJveHlVcmwyfSwgYWN0aW9uIHVybDogJHthcGlVcmx9YFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBjb25zdCBtZXRhZGF0YSA9IGdldEJsaW5rU3VwcG9ydGFiaWxpdHlNZXRhZGF0YShyZXNwb25zZSk7XG4gICAgcmV0dXJuIG5ldyBfQmxpbmtJbnN0YW5jZShcbiAgICAgIGFwaVVybCxcbiAgICAgIHsgLi4uZGF0YSwgdHlwZTogXCJhY3Rpb25cIiB9LFxuICAgICAgbWV0YWRhdGEsXG4gICAgICBzdXBwb3J0U3RyYXRlZ3ksXG4gICAgICBjaGFpbk1ldGFkYXRhLFxuICAgICAgaWQsXG4gICAgICBkYXRhLmRpYWxlY3RFeHBlcmltZW50YWxcbiAgICApO1xuICB9XG4gIHN0YXRpYyBhc3luYyBmZXRjaChhcGlVcmwsIHN1cHBvcnRTdHJhdGVneSA9IGRlZmF1bHRCbGlua1N1cHBvcnRTdHJhdGVneSkge1xuICAgIGNvbnN0IGlkID0gbmFub2lkKCk7XG4gICAgcmV0dXJuIF9CbGlua0luc3RhbmNlLl9mZXRjaChcbiAgICAgIGFwaVVybCxcbiAgICAgIHN1cHBvcnRTdHJhdGVneSxcbiAgICAgIHtcbiAgICAgICAgaXNDaGFpbmVkOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIGlkXG4gICAgKTtcbiAgfVxuICByZWZyZXNoKCkge1xuICAgIHJldHVybiBfQmxpbmtJbnN0YW5jZS5fZmV0Y2goXG4gICAgICB0aGlzLnVybCxcbiAgICAgIHRoaXMuX3N1cHBvcnRTdHJhdGVneSxcbiAgICAgIHRoaXMuX2NoYWluTWV0YWRhdGEsXG4gICAgICB0aGlzLl9pZFxuICAgICk7XG4gIH1cbiAgd2l0aFVwZGF0ZSh1cGRhdGUpIHtcbiAgICByZXR1cm4gbmV3IF9CbGlua0luc3RhbmNlKFxuICAgICAgdGhpcy5fdXJsLFxuICAgICAgdGhpcy5fZGF0YSxcbiAgICAgIHRoaXMuX21ldGFkYXRhLFxuICAgICAgdXBkYXRlLnN1cHBvcnRTdHJhdGVneSA/PyB0aGlzLl9zdXBwb3J0U3RyYXRlZ3ksXG4gICAgICB0aGlzLl9jaGFpbk1ldGFkYXRhLFxuICAgICAgdGhpcy5faWQsXG4gICAgICB0aGlzLl9leHBlcmltZW50YWxcbiAgICApO1xuICB9XG59O1xudmFyIGNvbXBvbmVudEZhY3RvcnkgPSAocGFyZW50LCBsYWJlbCwgaHJlZiwgdHlwZSwgcGFyYW1ldGVycykgPT4ge1xuICBpZiAoIXBhcmFtZXRlcnM/Lmxlbmd0aCkge1xuICAgIHJldHVybiBuZXcgQnV0dG9uQWN0aW9uQ29tcG9uZW50KHBhcmVudCwgbGFiZWwsIGhyZWYsIHR5cGUpO1xuICB9XG4gIGlmIChwYXJhbWV0ZXJzLmxlbmd0aCA+IDEpIHtcbiAgICByZXR1cm4gbmV3IEZvcm1BY3Rpb25Db21wb25lbnQocGFyZW50LCBsYWJlbCwgaHJlZiwgdHlwZSwgcGFyYW1ldGVycyk7XG4gIH1cbiAgY29uc3QgW3BhcmFtZXRlcl0gPSBwYXJhbWV0ZXJzO1xuICBpZiAoIXBhcmFtZXRlci50eXBlKSB7XG4gICAgcmV0dXJuIG5ldyBTaW5nbGVWYWx1ZUFjdGlvbkNvbXBvbmVudChcbiAgICAgIHBhcmVudCxcbiAgICAgIGxhYmVsLFxuICAgICAgaHJlZixcbiAgICAgIHR5cGUsXG4gICAgICBwYXJhbWV0ZXJzXG4gICAgKTtcbiAgfVxuICBpZiAoTVVMVElfVkFMVUVfVFlQRVMuaW5jbHVkZXMocGFyYW1ldGVyLnR5cGUpKSB7XG4gICAgcmV0dXJuIG5ldyBNdWx0aVZhbHVlQWN0aW9uQ29tcG9uZW50KHBhcmVudCwgbGFiZWwsIGhyZWYsIHR5cGUsIHBhcmFtZXRlcnMpO1xuICB9XG4gIHJldHVybiBuZXcgU2luZ2xlVmFsdWVBY3Rpb25Db21wb25lbnQocGFyZW50LCBsYWJlbCwgaHJlZiwgdHlwZSwgcGFyYW1ldGVycyk7XG59O1xudmFyIG1lcmdlTGlmZWN5Y2xlRGF0YSA9IChhY3Rpb24sIGxpZmVjeWNsZURhdGEpID0+IHtcbiAgY29uc3QgbGlua3MgPSBbXTtcbiAgaWYgKGFjdGlvbi50eXBlICE9PSBcImNvbXBsZXRlZFwiICYmIGFjdGlvbi5saW5rcykge1xuICAgIGxpbmtzLnB1c2goLi4uYWN0aW9uLmxpbmtzLmFjdGlvbnMgPz8gW10pO1xuICB9XG4gIGlmIChsaWZlY3ljbGVEYXRhLmxpbmtzPy5hY3Rpb25zKSB7XG4gICAgbGlua3MucHVzaCguLi5saWZlY3ljbGVEYXRhLmxpbmtzLmFjdGlvbnMpO1xuICB9XG4gIHJldHVybiB7XG4gICAgLi4uYWN0aW9uLFxuICAgIHR5cGU6IFwiYWN0aW9uXCIsXG4gICAgLy8gaWYgbGlmZWN5Y2xlIGRhdGEgcHJlc2VudCwgd2UgYXJlIG5vdCBpbiBhIGNvbXBsZXRlZCBzdGF0ZVxuICAgIG1lc3NhZ2U6IGxpZmVjeWNsZURhdGEubWVzc2FnZSA/PyBhY3Rpb24ubWVzc2FnZSxcbiAgICBsaW5rczogbGlua3MubGVuZ3RoID4gMCA/IHsgYWN0aW9uczogbGlua3MgfSA6IHZvaWQgMFxuICB9O1xufTtcblxuLy8gc3JjL2FwaS9CbGlua0luc3RhbmNlL3NpZ24tbWVzc2FnZS1kYXRhLnRzXG52YXIgU2lnbk1lc3NhZ2VWZXJpZmljYXRpb25FcnJvclR5cGUgPSAvKiBAX19QVVJFX18gKi8gKChTaWduTWVzc2FnZVZlcmlmaWNhdGlvbkVycm9yVHlwZTIpID0+IHtcbiAgU2lnbk1lc3NhZ2VWZXJpZmljYXRpb25FcnJvclR5cGUyW1wiQUREUkVTU19NSVNNQVRDSFwiXSA9IFwiQUREUkVTU19NSVNNQVRDSFwiO1xuICBTaWduTWVzc2FnZVZlcmlmaWNhdGlvbkVycm9yVHlwZTJbXCJET01BSU5fTUlTTUFUQ0hcIl0gPSBcIkRPTUFJTl9NSVNNQVRDSFwiO1xuICBTaWduTWVzc2FnZVZlcmlmaWNhdGlvbkVycm9yVHlwZTJbXCJDSEFJTl9JRF9NSVNNQVRDSFwiXSA9IFwiQ0hBSU5fSURfTUlTTUFUQ0hcIjtcbiAgU2lnbk1lc3NhZ2VWZXJpZmljYXRpb25FcnJvclR5cGUyW1wiSVNTVUVEX1RPT19GQVJfSU5fVEhFX1BBU1RcIl0gPSBcIklTU1VFRF9UT09fRkFSX0lOX1RIRV9QQVNUXCI7XG4gIFNpZ25NZXNzYWdlVmVyaWZpY2F0aW9uRXJyb3JUeXBlMltcIklTU1VFRF9UT09fRkFSX0lOX1RIRV9GVVRVUkVcIl0gPSBcIklTU1VFRF9UT09fRkFSX0lOX1RIRV9GVVRVUkVcIjtcbiAgU2lnbk1lc3NhZ2VWZXJpZmljYXRpb25FcnJvclR5cGUyW1wiSU5WQUxJRF9EQVRBXCJdID0gXCJJTlZBTElEX0RBVEFcIjtcbiAgcmV0dXJuIFNpZ25NZXNzYWdlVmVyaWZpY2F0aW9uRXJyb3JUeXBlMjtcbn0pKFNpZ25NZXNzYWdlVmVyaWZpY2F0aW9uRXJyb3JUeXBlIHx8IHt9KTtcbnZhciBET01BSU4gPSBcIig/PGRvbWFpbj5bXlxcXFxuXSs/KSB3YW50cyB5b3UgdG8gc2lnbiBhIG1lc3NhZ2Ugd2l0aCB5b3VyIGFjY291bnQ6XFxcXG5cIjtcbnZhciBBRERSRVNTID0gXCIoPzxhZGRyZXNzPlteXFxcXG5dKykoPzpcXFxcbnwkKVwiO1xudmFyIFNUQVRFTUVOVCA9IFwiKD86XFxcXG4oPzxzdGF0ZW1lbnQ+W1xcXFxTXFxcXHNdKj8pKD86XFxcXG58JCkpXCI7XG52YXIgQ0hBSU5fSUQgPSBcIig/OlxcXFxuQ2hhaW4gSUQ6ICg/PGNoYWluSWQ+W15cXFxcbl0rKSk/XCI7XG52YXIgTk9OQ0UgPSBcIlxcXFxuTm9uY2U6ICg/PG5vbmNlPlteXFxcXG5dKylcIjtcbnZhciBJU1NVRURfQVQgPSBcIlxcXFxuSXNzdWVkIEF0OiAoPzxpc3N1ZWRBdD5bXlxcXFxuXSspXCI7XG52YXIgRklFTERTID0gYCR7Q0hBSU5fSUR9JHtOT05DRX0ke0lTU1VFRF9BVH1gO1xudmFyIE1FU1NBR0UgPSBuZXcgUmVnRXhwKGBeJHtET01BSU59JHtBRERSRVNTfSR7U1RBVEVNRU5UfSR7RklFTERTfVxcXFxuKiRgKTtcbmZ1bmN0aW9uIGNyZWF0ZVNpZ25NZXNzYWdlVGV4dChpbnB1dCkge1xuICBsZXQgbWVzc2FnZSA9IGAke2lucHV0LmRvbWFpbn0gd2FudHMgeW91IHRvIHNpZ24gYSBtZXNzYWdlIHdpdGggeW91ciBhY2NvdW50OlxuYDtcbiAgbWVzc2FnZSArPSBgJHtpbnB1dC5hZGRyZXNzfWA7XG4gIG1lc3NhZ2UgKz0gYFxuXG4ke2lucHV0LnN0YXRlbWVudH1gO1xuICBjb25zdCBmaWVsZHMgPSBbXTtcbiAgaWYgKGlucHV0LmNoYWluSWQpIHtcbiAgICBmaWVsZHMucHVzaChgQ2hhaW4gSUQ6ICR7aW5wdXQuY2hhaW5JZH1gKTtcbiAgfVxuICBmaWVsZHMucHVzaChgTm9uY2U6ICR7aW5wdXQubm9uY2V9YCk7XG4gIGZpZWxkcy5wdXNoKGBJc3N1ZWQgQXQ6ICR7aW5wdXQuaXNzdWVkQXR9YCk7XG4gIG1lc3NhZ2UgKz0gYFxuXG4ke2ZpZWxkcy5qb2luKFwiXFxuXCIpfWA7XG4gIHJldHVybiBtZXNzYWdlO1xufVxuZnVuY3Rpb24gcGFyc2VTaWduTWVzc2FnZVRleHQodGV4dCkge1xuICBjb25zdCBtYXRjaCA9IE1FU1NBR0UuZXhlYyh0ZXh0KTtcbiAgaWYgKCFtYXRjaCkgcmV0dXJuIG51bGw7XG4gIGNvbnN0IGdyb3VwcyA9IG1hdGNoLmdyb3VwcztcbiAgaWYgKCFncm91cHMpIHJldHVybiBudWxsO1xuICByZXR1cm4ge1xuICAgIGRvbWFpbjogZ3JvdXBzLmRvbWFpbixcbiAgICBhZGRyZXNzOiBncm91cHMuYWRkcmVzcyxcbiAgICBzdGF0ZW1lbnQ6IGdyb3Vwcy5zdGF0ZW1lbnQsXG4gICAgbm9uY2U6IGdyb3Vwcy5ub25jZSxcbiAgICBjaGFpbklkOiBncm91cHMuY2hhaW5JZCxcbiAgICBpc3N1ZWRBdDogZ3JvdXBzLmlzc3VlZEF0XG4gIH07XG59XG5mdW5jdGlvbiB2ZXJpZnlTaWduTWVzc2FnZURhdGEoZGF0YSwgb3B0cykge1xuICBpZiAoIWRhdGEuYWRkcmVzcyB8fCAhZGF0YS5kb21haW4gfHwgIWRhdGEuaXNzdWVkQXQgfHwgIWRhdGEubm9uY2UgfHwgIWRhdGEuc3RhdGVtZW50KSB7XG4gICAgcmV0dXJuIFtcIklOVkFMSURfREFUQVwiIC8qIElOVkFMSURfREFUQSAqL107XG4gIH1cbiAgdHJ5IHtcbiAgICBjb25zdCB7XG4gICAgICBleHBlY3RlZEFkZHJlc3MsXG4gICAgICBleHBlY3RlZENoYWluSWRzLFxuICAgICAgaXNzdWVkQXRUaHJlc2hvbGQsXG4gICAgICBleHBlY3RlZERvbWFpbnNcbiAgICB9ID0gb3B0cztcbiAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGlmIChleHBlY3RlZEFkZHJlc3MgJiYgZGF0YS5hZGRyZXNzICE9PSBleHBlY3RlZEFkZHJlc3MpIHtcbiAgICAgIGVycm9ycy5wdXNoKFwiQUREUkVTU19NSVNNQVRDSFwiIC8qIEFERFJFU1NfTUlTTUFUQ0ggKi8pO1xuICAgIH1cbiAgICBpZiAoZXhwZWN0ZWREb21haW5zKSB7XG4gICAgICBjb25zdCBleHBlY3RlZERvbWFpbnNOb3JtYWxpemVkID0gZXhwZWN0ZWREb21haW5zLm1hcChub3JtYWxpemVEb21haW4pO1xuICAgICAgY29uc3Qgbm9ybWFsaXplZERvbWFpbiA9IG5vcm1hbGl6ZURvbWFpbihkYXRhLmRvbWFpbik7XG4gICAgICBpZiAoIWV4cGVjdGVkRG9tYWluc05vcm1hbGl6ZWQuaW5jbHVkZXMobm9ybWFsaXplZERvbWFpbikpIHtcbiAgICAgICAgZXJyb3JzLnB1c2goXCJET01BSU5fTUlTTUFUQ0hcIiAvKiBET01BSU5fTUlTTUFUQ0ggKi8pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZXhwZWN0ZWRDaGFpbklkcyAmJiBkYXRhLmNoYWluSWQgJiYgIWV4cGVjdGVkQ2hhaW5JZHMuaW5jbHVkZXMoZGF0YS5jaGFpbklkKSkge1xuICAgICAgZXJyb3JzLnB1c2goXCJDSEFJTl9JRF9NSVNNQVRDSFwiIC8qIENIQUlOX0lEX01JU01BVENIICovKTtcbiAgICB9XG4gICAgaWYgKGlzc3VlZEF0VGhyZXNob2xkICE9PSB2b2lkIDApIHtcbiAgICAgIGNvbnN0IGlhdCA9IERhdGUucGFyc2UoZGF0YS5pc3N1ZWRBdCk7XG4gICAgICBpZiAoTWF0aC5hYnMoaWF0IC0gbm93KSA+IGlzc3VlZEF0VGhyZXNob2xkKSB7XG4gICAgICAgIGlmIChpYXQgPCBub3cpIHtcbiAgICAgICAgICBlcnJvcnMucHVzaChcbiAgICAgICAgICAgIFwiSVNTVUVEX1RPT19GQVJfSU5fVEhFX1BBU1RcIiAvKiBJU1NVRURfVE9PX0ZBUl9JTl9USEVfUEFTVCAqL1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXJyb3JzLnB1c2goXG4gICAgICAgICAgICBcIklTU1VFRF9UT09fRkFSX0lOX1RIRV9GVVRVUkVcIiAvKiBJU1NVRURfVE9PX0ZBUl9JTl9USEVfRlVUVVJFICovXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZXJyb3JzO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIFtcIklOVkFMSURfREFUQVwiIC8qIElOVkFMSURfREFUQSAqL107XG4gIH1cbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZURvbWFpbihkb21haW4pIHtcbiAgcmV0dXJuIGRvbWFpbi5yZXBsYWNlKC9ed3d3XFwuLywgXCJcIik7XG59XG5cbi8vIHNyYy9hcGkvQmxpbmtzUmVnaXN0cnkudHNcbnZhciBERUZBVUxUX1JFRlJFU0hfSU5URVJWQUwgPSAxMCAqIDYwICogMWUzO1xudmFyIEJsaW5rc1JlZ2lzdHJ5ID0gY2xhc3MgX0JsaW5rc1JlZ2lzdHJ5IHtcbiAgc3RhdGljIGluc3RhbmNlID0gbnVsbDtcbiAgYmxpbmtzQnlIb3N0O1xuICB3ZWJzaXRlc0J5SG9zdDtcbiAgaW50ZXJzdGl0aWFsc0J5SG9zdDtcbiAgaW50ZXJ2YWxJZCA9IG51bGw7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xuICAgIHRoaXMuYmxpbmtzQnlIb3N0ID0gY29uZmlnID8gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgY29uZmlnLmFjdGlvbnMubWFwKChhY3Rpb24pID0+IFthY3Rpb24uaG9zdCwgYWN0aW9uXSlcbiAgICApIDoge307XG4gICAgdGhpcy53ZWJzaXRlc0J5SG9zdCA9IGNvbmZpZyA/IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgIGNvbmZpZy53ZWJzaXRlcy5tYXAoKHdlYnNpdGUpID0+IFt3ZWJzaXRlLmhvc3QsIHdlYnNpdGVdKVxuICAgICkgOiB7fTtcbiAgICB0aGlzLmludGVyc3RpdGlhbHNCeUhvc3QgPSBjb25maWcgPyBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICBjb25maWcuaW50ZXJzdGl0aWFscy5tYXAoKGludGVyc3RpdGlhbCkgPT4gW1xuICAgICAgICBpbnRlcnN0aXRpYWwuaG9zdCxcbiAgICAgICAgaW50ZXJzdGl0aWFsXG4gICAgICBdKVxuICAgICkgOiB7fTtcbiAgfVxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoY29uZmlnKSB7XG4gICAgaWYgKHRoaXMuaW5zdGFuY2UgPT09IG51bGwgfHwgY29uZmlnKSB7XG4gICAgICB0aGlzLmluc3RhbmNlID0gbmV3IF9CbGlua3NSZWdpc3RyeShjb25maWcpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcbiAgfVxuICBhc3luYyBpbml0KCkge1xuICAgIGlmICh0aGlzLmludGVydmFsSWQgIT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYXdhaXQgdGhpcy5yZWZyZXNoKCk7XG4gICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoXG4gICAgICAoKSA9PiB0aGlzLnJlZnJlc2goKSxcbiAgICAgIERFRkFVTFRfUkVGUkVTSF9JTlRFUlZBTFxuICAgICk7XG4gIH1cbiAgc3RvcFJlZnJlc2goKSB7XG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCAhPT0gbnVsbCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xuICAgICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgYXN5bmMgcmVmcmVzaCgpIHtcbiAgICBjb25zdCBjb25maWcgPSBhd2FpdCBmZXRjaEJsaW5rc1JlZ2lzdHJ5Q29uZmlnKCk7XG4gICAgdGhpcy5ibGlua3NCeUhvc3QgPSBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICBjb25maWcuYWN0aW9ucy5tYXAoKGFjdGlvbikgPT4gW2FjdGlvbi5ob3N0LCBhY3Rpb25dKVxuICAgICk7XG4gICAgdGhpcy53ZWJzaXRlc0J5SG9zdCA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgIGNvbmZpZy53ZWJzaXRlcy5tYXAoKHdlYnNpdGUpID0+IFt3ZWJzaXRlLmhvc3QsIHdlYnNpdGVdKVxuICAgICk7XG4gICAgdGhpcy5pbnRlcnN0aXRpYWxzQnlIb3N0ID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgY29uZmlnLmludGVyc3RpdGlhbHMubWFwKChpbnRlcnN0aXRpYWwpID0+IFtcbiAgICAgICAgaW50ZXJzdGl0aWFsLmhvc3QsXG4gICAgICAgIGludGVyc3RpdGlhbFxuICAgICAgXSlcbiAgICApO1xuICB9XG4gIGxvb2t1cCh1cmwsIHR5cGUgPSBcImFjdGlvblwiKSB7XG4gICAgaWYgKHR5cGUgPT09IFwiYWN0aW9uXCIgfHwgdHlwZSA9PT0gXCJibGlua1wiKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb29rdXBCbGluayh1cmwpO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gXCJ3ZWJzaXRlXCIpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvb2t1cFdlYnNpdGUodXJsKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFwiaW50ZXJzdGl0aWFsXCIpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvb2t1cEludGVyc3RpdGlhbCh1cmwpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsb29rdXBCbGluayh1cmwpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXJsT2JqID0gbmV3IFVSTCh1cmwpO1xuICAgICAgY29uc3QgaG9zdCA9IHVybE9iai5ob3N0O1xuICAgICAgcmV0dXJuIHRoaXMuYmxpbmtzQnlIb3N0W2hvc3RdID8/IG51bGw7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgYFtAZGlhbGVjdGxhYnMvYmxpbmtzXSBGYWlsZWQgdG8gbG9va3VwIGFjdGlvbiBmb3IgVVJMOiAke3VybH1gLFxuICAgICAgICBlXG4gICAgICApO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIGxvb2t1cFdlYnNpdGUodXJsKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybE9iaiA9IG5ldyBVUkwodXJsKTtcbiAgICAgIGNvbnN0IGhvc3QgPSB1cmxPYmouaG9zdDtcbiAgICAgIHJldHVybiB0aGlzLndlYnNpdGVzQnlIb3N0W2hvc3RdID8/IG51bGw7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgYFtAZGlhbGVjdGxhYnMvYmxpbmtzXSBGYWlsZWQgdG8gbG9va3VwIHdlYnNpdGUgZm9yIFVSTDogJHt1cmx9YCxcbiAgICAgICAgZVxuICAgICAgKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICBsb29rdXBJbnRlcnN0aXRpYWwodXJsKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybE9iaiA9IG5ldyBVUkwodXJsKTtcbiAgICAgIGNvbnN0IGhvc3QgPSB1cmxPYmouaG9zdDtcbiAgICAgIHJldHVybiB0aGlzLmludGVyc3RpdGlhbHNCeUhvc3RbaG9zdF0gPz8gbnVsbDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBgW0BkaWFsZWN0bGFicy9ibGlua3NdIEZhaWxlZCB0byBsb29rdXAgaW50ZXJzdGl0aWFsIGZvciBVUkw6ICR7dXJsfWAsXG4gICAgICAgIGVcbiAgICAgICk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn07XG52YXIgbWVyZ2VCbGlua1N0YXRlcyA9ICguLi5zdGF0ZXMpID0+IHtcbiAgaWYgKHN0YXRlcy5pbmNsdWRlcyhcIm1hbGljaW91c1wiKSkge1xuICAgIHJldHVybiBcIm1hbGljaW91c1wiO1xuICB9XG4gIGlmIChzdGF0ZXMuaW5jbHVkZXMoXCJ1bmtub3duXCIpKSB7XG4gICAgcmV0dXJuIFwidW5rbm93blwiO1xuICB9XG4gIHJldHVybiBcInRydXN0ZWRcIjtcbn07XG52YXIgZ2V0RXh0ZW5kZWRCbGlua1N0YXRlID0gKGJsaW5rT3JVcmwpID0+IHtcbiAgcmV0dXJuIEJsaW5rc1JlZ2lzdHJ5LmdldEluc3RhbmNlKCkubG9va3VwKFxuICAgIHR5cGVvZiBibGlua09yVXJsID09PSBcInN0cmluZ1wiID8gYmxpbmtPclVybCA6IGJsaW5rT3JVcmwudXJsLFxuICAgIFwiYmxpbmtcIlxuICApPy5zdGF0ZSA/PyBcInVua25vd25cIjtcbn07XG52YXIgZ2V0RXh0ZW5kZWRXZWJzaXRlU3RhdGUgPSAodXJsKSA9PiB7XG4gIHJldHVybiBCbGlua3NSZWdpc3RyeS5nZXRJbnN0YW5jZSgpLmxvb2t1cCh1cmwsIFwid2Vic2l0ZVwiKT8uc3RhdGUgPz8gXCJ1bmtub3duXCI7XG59O1xudmFyIGdldEV4dGVuZGVkSW50ZXJzdGl0aWFsU3RhdGUgPSAodXJsKSA9PiB7XG4gIHJldHVybiBCbGlua3NSZWdpc3RyeS5nZXRJbnN0YW5jZSgpLmxvb2t1cCh1cmwsIFwiaW50ZXJzdGl0aWFsXCIpPy5zdGF0ZSA/PyBcInVua25vd25cIjtcbn07XG5hc3luYyBmdW5jdGlvbiBmZXRjaEJsaW5rc1JlZ2lzdHJ5Q29uZmlnKCkge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCJodHRwczovL2FjdGlvbnMtcmVnaXN0cnkuZGlhbC50by9hbGxcIik7XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgXCJbQGRpYWxlY3RsYWJzL2JsaW5rc10gRmFpbGVkIHRvIGZldGNoIGFjdGlvbnMgcmVnaXN0cnkgY29uZmlnXCIsXG4gICAgICAgIGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuICAgICAgKTtcbiAgICAgIHJldHVybiB7IGFjdGlvbnM6IFtdLCBpbnRlcnN0aXRpYWxzOiBbXSwgd2Vic2l0ZXM6IFtdIH07XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgXCJbQGRpYWxlY3RsYWJzL2JsaW5rc10gRmFpbGVkIHRvIGZldGNoIGFjdGlvbnMgcmVnaXN0cnkgY29uZmlnXCIsXG4gICAgICBlXG4gICAgKTtcbiAgICByZXR1cm4geyBhY3Rpb25zOiBbXSwgaW50ZXJzdGl0aWFsczogW10sIHdlYnNpdGVzOiBbXSB9O1xuICB9XG59XG5cbmV4cG9ydCB7XG4gIEJsb2NrY2hhaW5JZHMsXG4gIEJMSU5LX0NMSUVOVF9LRVlfSEVBREVSLFxuICBjbGllbnRLZXksXG4gIHNldENsaWVudEtleSxcbiAgU09MQU5BX0FDVElPTl9QUkVGSVgsXG4gIEVNUFRZX09CSkVDVCxcbiAgaXNJbnRlcnN0aXRpYWwsXG4gIHNldFByb3h5VXJsLFxuICBwcm94aWZ5LFxuICBwcm94aWZ5SW1hZ2UsXG4gIHByb3hpZnlNZXRhZGF0YSxcbiAgaXNQcm94aWZpZWQsXG4gIHNob3VsZElnbm9yZVByb3h5LFxuICBzaG91bGRQcmVzZXJ2ZU9yaWdpbmFsLFxuICBjaGVja1NlY3VyaXR5LFxuICBnZXRCbGlua1N1cHBvcnRhYmlsaXR5TWV0YWRhdGEsXG4gIEJsaW5rc1VSTE1hcHBlcixcbiAgdW5mdXJsVXJsVG9CbGlua0FwaVVybCxcbiAgTUFYX1NVUFBPUlRFRF9BQ1RJT05fVkVSU0lPTixcbiAgREVGQVVMVF9TVVBQT1JURURfQkxPQ0tDSEFJTl9JRFMsXG4gIEJBU0VMSU5FX0FDVElPTl9WRVJTSU9OLFxuICBCQVNFTElORV9CTElOS19CTE9DS0NIQUlOX0lEUyxcbiAgZGVmYXVsdEJsaW5rU3VwcG9ydFN0cmF0ZWd5LFxuICBpc1ZlcnNpb25TdXBwb3J0ZWQsXG4gIGlzQmxvY2tjaGFpblN1cHBvcnRlZCxcbiAgQmxpbmtJbnN0YW5jZTYgYXMgQmxpbmtJbnN0YW5jZSxcbiAgQWJzdHJhY3RBY3Rpb25Db21wb25lbnQsXG4gIEJ1dHRvbkFjdGlvbkNvbXBvbmVudCxcbiAgU2luZ2xlVmFsdWVBY3Rpb25Db21wb25lbnQsXG4gIEZvcm1BY3Rpb25Db21wb25lbnQsXG4gIE11bHRpVmFsdWVBY3Rpb25Db21wb25lbnQsXG4gIGlzUGF0dGVybkFsbG93ZWQsXG4gIGlzUGFyYW1ldGVyU2VsZWN0YWJsZSxcbiAgU2lnbk1lc3NhZ2VWZXJpZmljYXRpb25FcnJvclR5cGUsXG4gIGNyZWF0ZVNpZ25NZXNzYWdlVGV4dCxcbiAgcGFyc2VTaWduTWVzc2FnZVRleHQsXG4gIHZlcmlmeVNpZ25NZXNzYWdlRGF0YSxcbiAgQmxpbmtzUmVnaXN0cnksXG4gIG1lcmdlQmxpbmtTdGF0ZXMsXG4gIGdldEV4dGVuZGVkQmxpbmtTdGF0ZSxcbiAgZ2V0RXh0ZW5kZWRXZWJzaXRlU3RhdGUsXG4gIGdldEV4dGVuZGVkSW50ZXJzdGl0aWFsU3RhdGUsXG4gIGZldGNoQmxpbmtzUmVnaXN0cnlDb25maWdcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@dialectlabs/blinks-core/dist/chunk-ZIGSGW2L.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@dialectlabs/blinks-core/dist/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/@dialectlabs/blinks-core/dist/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractActionComponent: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.AbstractActionComponent),\n/* harmony export */   Action: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.BlinkInstance),\n/* harmony export */   ActionsRegistry: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.BlinksRegistry),\n/* harmony export */   ActionsURLMapper: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.BlinksURLMapper),\n/* harmony export */   BASELINE_ACTION_BLOCKCHAIN_IDS: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.BASELINE_BLINK_BLOCKCHAIN_IDS),\n/* harmony export */   BASELINE_ACTION_VERSION: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.BASELINE_ACTION_VERSION),\n/* harmony export */   BASELINE_BLINK_BLOCKCHAIN_IDS: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.BASELINE_BLINK_BLOCKCHAIN_IDS),\n/* harmony export */   BLINK_CLIENT_KEY_HEADER: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.BLINK_CLIENT_KEY_HEADER),\n/* harmony export */   BlinkContainer: () => (/* binding */ BlinkContainer),\n/* harmony export */   BlinkInstance: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.BlinkInstance),\n/* harmony export */   BlinksRegistry: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.BlinksRegistry),\n/* harmony export */   BlinksURLMapper: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.BlinksURLMapper),\n/* harmony export */   BlockchainIds: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.BlockchainIds),\n/* harmony export */   ButtonActionComponent: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.ButtonActionComponent),\n/* harmony export */   DEFAULT_SUPPORTED_BLOCKCHAIN_IDS: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_SUPPORTED_BLOCKCHAIN_IDS),\n/* harmony export */   DisclaimerType: () => (/* binding */ DisclaimerType),\n/* harmony export */   ExecutionType: () => (/* binding */ ExecutionType),\n/* harmony export */   FormActionComponent: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.FormActionComponent),\n/* harmony export */   MAX_SUPPORTED_ACTION_VERSION: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.MAX_SUPPORTED_ACTION_VERSION),\n/* harmony export */   MultiValueActionComponent: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.MultiValueActionComponent),\n/* harmony export */   SOLANA_ACTION_PREFIX: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.SOLANA_ACTION_PREFIX),\n/* harmony export */   SignMessageVerificationErrorType: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.SignMessageVerificationErrorType),\n/* harmony export */   SingleValueActionComponent: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.SingleValueActionComponent),\n/* harmony export */   checkSecurity: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.checkSecurity),\n/* harmony export */   createSignMessageText: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.createSignMessageText),\n/* harmony export */   defaultActionSupportStrategy: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.defaultBlinkSupportStrategy),\n/* harmony export */   defaultBlinkSupportStrategy: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.defaultBlinkSupportStrategy),\n/* harmony export */   fetchActionsRegistryConfig: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.fetchBlinksRegistryConfig),\n/* harmony export */   fetchBlinkList: () => (/* reexport safe */ _chunk_7PJOXIA7_js__WEBPACK_IMPORTED_MODULE_0__.fetchBlinkList2),\n/* harmony export */   fetchMetadata: () => (/* reexport safe */ _chunk_7PJOXIA7_js__WEBPACK_IMPORTED_MODULE_0__.fetchMetadata),\n/* harmony export */   getBlinkSupportabilityMetadata: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.getBlinkSupportabilityMetadata),\n/* harmony export */   getExtendedActionState: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.getExtendedBlinkState),\n/* harmony export */   getExtendedBlinkState: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.getExtendedBlinkState),\n/* harmony export */   getExtendedInterstitialState: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.getExtendedInterstitialState),\n/* harmony export */   getExtendedWebsiteState: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.getExtendedWebsiteState),\n/* harmony export */   isBlockchainSupported: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.isBlockchainSupported),\n/* harmony export */   isInterstitial: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.isInterstitial),\n/* harmony export */   isParameterSelectable: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.isParameterSelectable),\n/* harmony export */   isPatternAllowed: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.isPatternAllowed),\n/* harmony export */   isProxified: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.isProxified),\n/* harmony export */   isVersionSupported: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.isVersionSupported),\n/* harmony export */   mergeActionStates: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.mergeBlinkStates),\n/* harmony export */   mergeBlinkStates: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.mergeBlinkStates),\n/* harmony export */   parseSignMessageText: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.parseSignMessageText),\n/* harmony export */   proxify: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.proxify),\n/* harmony export */   proxifyImage: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.proxifyImage),\n/* harmony export */   setClientKey: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.setClientKey),\n/* harmony export */   setProxyUrl: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.setProxyUrl),\n/* harmony export */   unfurlUrlToActionApiUrl: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.unfurlUrlToBlinkApiUrl),\n/* harmony export */   unfurlUrlToBlinkApiUrl: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.unfurlUrlToBlinkApiUrl),\n/* harmony export */   useAction: () => (/* reexport safe */ _chunk_7PJOXIA7_js__WEBPACK_IMPORTED_MODULE_0__.useAction),\n/* harmony export */   useActionApiUrl: () => (/* reexport safe */ _chunk_7PJOXIA7_js__WEBPACK_IMPORTED_MODULE_0__.useBlinkApiUrl),\n/* harmony export */   useActionsRegistryInterval: () => (/* reexport safe */ _chunk_7PJOXIA7_js__WEBPACK_IMPORTED_MODULE_0__.useBlinksRegistryInterval),\n/* harmony export */   useBlink: () => (/* reexport safe */ _chunk_7PJOXIA7_js__WEBPACK_IMPORTED_MODULE_0__.useBlink2),\n/* harmony export */   useBlinkApiUrl: () => (/* reexport safe */ _chunk_7PJOXIA7_js__WEBPACK_IMPORTED_MODULE_0__.useBlinkApiUrl),\n/* harmony export */   useBlinkList: () => (/* reexport safe */ _chunk_7PJOXIA7_js__WEBPACK_IMPORTED_MODULE_0__.useBlinkList2),\n/* harmony export */   useBlinksRegistryInterval: () => (/* reexport safe */ _chunk_7PJOXIA7_js__WEBPACK_IMPORTED_MODULE_0__.useBlinksRegistryInterval),\n/* harmony export */   useMetadata: () => (/* reexport safe */ _chunk_7PJOXIA7_js__WEBPACK_IMPORTED_MODULE_0__.useMetadata),\n/* harmony export */   verifySignMessageData: () => (/* reexport safe */ _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.verifySignMessageData)\n/* harmony export */ });\n/* harmony import */ var _chunk_7PJOXIA7_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-7PJOXIA7.js */ \"(ssr)/./node_modules/@dialectlabs/blinks-core/dist/chunk-7PJOXIA7.js\");\n/* harmony import */ var _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-ZIGSGW2L.js */ \"(ssr)/./node_modules/@dialectlabs/blinks-core/dist/chunk-ZIGSGW2L.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\n\n\n// src/BlinkContainer.tsx\n\n\n// src/utils/type-guards.ts\nvar isSignTransactionError = (data) => !!data.error;\nvar isSignMessageError = isSignTransactionError;\nvar isPostRequestError = (data) => !!data.error;\n\n// src/utils/validators.ts\nvar isURL = (url) => {\n  try {\n    new URL(url);\n    return true;\n  } catch {\n    return false;\n  }\n};\n\n// src/BlinkContainer.tsx\n\nvar DisclaimerType = /* @__PURE__ */ ((DisclaimerType2) => {\n  DisclaimerType2[\"BLOCKED\"] = \"blocked\";\n  DisclaimerType2[\"UNKNOWN\"] = \"unknown\";\n  return DisclaimerType2;\n})(DisclaimerType || {});\nvar ExecutionType = /* @__PURE__ */ ((ExecutionType2) => {\n  ExecutionType2[\"CHECK_SUPPORTABILITY\"] = \"CHECK_SUPPORTABILITY\";\n  ExecutionType2[\"INITIATE\"] = \"INITIATE\";\n  ExecutionType2[\"FINISH\"] = \"FINISH\";\n  ExecutionType2[\"FAIL\"] = \"FAIL\";\n  ExecutionType2[\"RESET\"] = \"RESET\";\n  ExecutionType2[\"SOFT_RESET\"] = \"SOFT_RESET\";\n  ExecutionType2[\"UNBLOCK\"] = \"UNBLOCK\";\n  ExecutionType2[\"BLOCK\"] = \"BLOCK\";\n  ExecutionType2[\"PARTIAL_UPDATE\"] = \"PARTIAL_UPDATE\";\n  return ExecutionType2;\n})(ExecutionType || {});\nvar executionReducer = (state, action) => {\n  switch (action.type) {\n    case \"CHECK_SUPPORTABILITY\" /* CHECK_SUPPORTABILITY */:\n      return {\n        status: \"checking-supportability\",\n        checkingSupportability: true\n      };\n    case \"INITIATE\" /* INITIATE */:\n      return { status: \"executing\", executingAction: action.executingAction };\n    case \"FINISH\" /* FINISH */:\n      return {\n        ...state,\n        status: \"success\",\n        successMessage: action.successMessage,\n        errorMessage: null\n      };\n    case \"FAIL\" /* FAIL */:\n      return {\n        ...state,\n        status: \"error\",\n        errorMessage: action.errorMessage,\n        successMessage: null\n      };\n    case \"RESET\" /* RESET */:\n      return {\n        status: \"idle\"\n      };\n    case \"SOFT_RESET\" /* SOFT_RESET */:\n      return {\n        ...state,\n        executingAction: null,\n        status: \"idle\",\n        errorMessage: action.errorMessage,\n        successMessage: null\n      };\n    case \"BLOCK\" /* BLOCK */:\n      return {\n        status: \"blocked\"\n      };\n    case \"UNBLOCK\" /* UNBLOCK */:\n      return {\n        status: \"idle\"\n      };\n    case \"PARTIAL_UPDATE\" /* PARTIAL_UPDATE */:\n      return {\n        ...state,\n        generalMessage: action.message\n      };\n  }\n};\nvar getOverallBlinkState = (blink, websiteUrl) => {\n  const blinkState = (0,_chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.getExtendedBlinkState)(blink);\n  const originalUrlData = websiteUrl ? (0,_chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.isInterstitial)(websiteUrl) : null;\n  if (!originalUrlData) {\n    return {\n      blink: blinkState\n    };\n  }\n  if (originalUrlData.isInterstitial) {\n    return {\n      blink: blinkState,\n      origin: (0,_chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.getExtendedInterstitialState)(websiteUrl),\n      originType: \"interstitials\"\n    };\n  }\n  return {\n    blink: blinkState,\n    origin: (0,_chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.getExtendedWebsiteState)(websiteUrl),\n    originType: \"websites\"\n  };\n};\nvar checkSecurityFromBlinkState = (state, normalizedSecurityLevel) => {\n  const checkBlink = (0,_chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.checkSecurity)(\n    state.blink,\n    normalizedSecurityLevel.actions\n  );\n  if (!state.origin) {\n    return checkBlink;\n  }\n  return checkBlink && (0,_chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.checkSecurity)(state.origin, normalizedSecurityLevel[state.originType]);\n};\nvar DEFAULT_SECURITY_LEVEL = \"only-trusted\";\nvar BlinkContainer = ({\n  blink: initialBlink,\n  adapter,\n  websiteUrl,\n  websiteText,\n  callbacks = _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.EMPTY_OBJECT,\n  securityLevel = DEFAULT_SECURITY_LEVEL,\n  Layout,\n  selector\n}) => {\n  const [blink, setBlink] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(initialBlink);\n  const singleComponent = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => selector?.(blink), [blink, selector]);\n  const isPartialBlink = typeof selector === \"function\";\n  const normalizedSecurityLevel = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    if (typeof securityLevel === \"string\") {\n      return {\n        websites: securityLevel,\n        interstitials: securityLevel,\n        actions: securityLevel\n      };\n    }\n    return securityLevel;\n  }, [securityLevel]);\n  const [blinkState, setBlinkState] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\n    getOverallBlinkState(blink, websiteUrl)\n  );\n  const [supportability, setSupportability] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n    isSupported: true\n  });\n  const overallState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(\n    () => (0,_chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.mergeBlinkStates)(\n      ...[blinkState.blink, blinkState.origin].filter(\n        Boolean\n      )\n    ),\n    [blinkState]\n  );\n  const isPassingSecurityCheck = isPartialBlink ? true : checkSecurityFromBlinkState(blinkState, normalizedSecurityLevel);\n  const [executionState, dispatch] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useReducer)(executionReducer, {\n    status: isPartialBlink ? \"idle\" : \"checking-supportability\"\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    if (blink === initialBlink) {\n      return;\n    }\n    setBlink(initialBlink);\n    setBlinkState(getOverallBlinkState(initialBlink, websiteUrl));\n    dispatch({\n      type: isPartialBlink ? \"RESET\" /* RESET */ : \"CHECK_SUPPORTABILITY\" /* CHECK_SUPPORTABILITY */\n    });\n  }, [initialBlink, websiteUrl]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    callbacks.onActionMount?.(\n      initialBlink,\n      websiteUrl ?? initialBlink.url,\n      blinkState.blink\n    );\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const liveDataConfig = blink.liveData_experimental;\n    if (!liveDataConfig || !liveDataConfig.enabled || executionState.status !== \"idle\" || blink.isChained) {\n      return;\n    }\n    let timeout;\n    const fetcher = async () => {\n      try {\n        const newBlink = await blink.refresh();\n        if (executionState.status === \"idle\") {\n          setBlink(newBlink);\n        }\n      } catch (e) {\n        console.error(\n          `[@dialectlabs/blinks] Failed to fetch live data for blink ${blink.url}`\n        );\n        timeout = setTimeout(fetcher, liveDataConfig.delayMs);\n      }\n    };\n    timeout = setTimeout(fetcher, liveDataConfig.delayMs);\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [blink, executionState.status, isPartialBlink]);\n  (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {\n    const checkSupportability = async (blink2) => {\n      if (blink2.isChained || executionState.status !== \"checking-supportability\") {\n        return;\n      }\n      try {\n        const supportability2 = await blink2.isSupported(adapter);\n        setSupportability(supportability2);\n      } finally {\n        dispatch({\n          type: overallState !== \"malicious\" && isPassingSecurityCheck ? \"RESET\" /* RESET */ : \"BLOCK\" /* BLOCK */\n        });\n      }\n    };\n    checkSupportability(blink);\n  }, [\n    blink,\n    adapter,\n    executionState.status,\n    overallState,\n    isPassingSecurityCheck\n  ]);\n  const execute = async (component, params) => {\n    if (params) {\n      if (component instanceof _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.FormActionComponent) {\n        Object.entries(params).forEach(\n          ([name, value]) => component.setValue(value, name)\n        );\n      }\n      if (component instanceof _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.MultiValueActionComponent) {\n        component.setValue(params[component.parameter.name]);\n      }\n      if (component instanceof _chunk_ZIGSGW2L_js__WEBPACK_IMPORTED_MODULE_1__.SingleValueActionComponent) {\n        const incomingValues = params[component.parameter.name];\n        const value = typeof incomingValues === \"string\" ? incomingValues : incomingValues[0];\n        component.setValue(value);\n      }\n    }\n    const newBlinkState = getOverallBlinkState(blink, websiteUrl);\n    const newIsPassingSecurityCheck = checkSecurityFromBlinkState(\n      newBlinkState,\n      normalizedSecurityLevel\n    );\n    if ((newBlinkState.blink !== blinkState.blink || newBlinkState.origin !== blinkState.origin) && !newIsPassingSecurityCheck) {\n      setBlinkState(newBlinkState);\n      dispatch({ type: \"BLOCK\" /* BLOCK */ });\n      callbacks.onActionCancel?.(blink, component, \"security-state-changed\");\n      return;\n    }\n    if (component.type === \"inline-link\") {\n      if (isURL(component.href)) {\n        return {\n          type: \"external-link\",\n          data: {\n            externalLink: component.href\n          },\n          onNext: () => {\n          },\n          onCancel: () => {\n          }\n        };\n      }\n      return;\n    }\n    dispatch({ type: \"INITIATE\" /* INITIATE */, executingAction: component });\n    const context = {\n      action: component.parent,\n      actionType: blinkState.blink,\n      originalUrl: websiteUrl ?? component.parent.url,\n      triggeredLinkedAction: component\n    };\n    try {\n      const account = await adapter.connect(context);\n      if (!account) {\n        dispatch({ type: \"RESET\" /* RESET */ });\n        callbacks?.onActionCancel?.(blink, component, \"wallet-not-connected\");\n        return;\n      }\n      const response = await component.post(account).catch((e) => ({ error: e.message }));\n      if (isPostRequestError(response)) {\n        dispatch({\n          type: \"SOFT_RESET\" /* SOFT_RESET */,\n          errorMessage: isPostRequestError(response) ? response.error : \"Transaction data missing\"\n        });\n        callbacks.onActionError?.(blink, component, \"post-request-error\");\n        return;\n      }\n      if (response.lifecycle?.executing) {\n        dispatch({\n          type: \"PARTIAL_UPDATE\" /* PARTIAL_UPDATE */,\n          message: response.lifecycle.executing.message\n        });\n      }\n      const chain = async (signature) => {\n        if (!response.links?.next && !response.lifecycle?.success) {\n          dispatch({\n            type: \"FINISH\" /* FINISH */,\n            successMessage: response.message\n          });\n          callbacks.onActionComplete?.(blink, component, signature);\n          return;\n        }\n        if (response.type === \"message\" && !signature) {\n          dispatch({\n            type: \"SOFT_RESET\" /* SOFT_RESET */,\n            errorMessage: response.lifecycle?.error?.message ?? \"Missing signature for message\"\n          });\n          callbacks.onActionError?.(\n            blink,\n            component,\n            \"message-signature-missing\"\n          );\n          return;\n        }\n        const chainData = response.type === \"message\" ? {\n          signature,\n          account,\n          state: response.state,\n          data: response.data\n        } : {\n          signature,\n          account\n        };\n        const nextBlink = response.links?.next ? await blink.chain(\n          response.links.next,\n          chainData,\n          response.lifecycle?.success\n        ) : blink.safeInlineChain(response.lifecycle?.success);\n        if (!nextBlink || isPartialBlink && !selector?.(nextBlink)) {\n          dispatch({\n            type: \"FINISH\" /* FINISH */,\n            successMessage: response.message\n          });\n          callbacks.onActionComplete?.(blink, component, signature);\n          return;\n        }\n        setBlink(nextBlink);\n        dispatch({ type: \"RESET\" /* RESET */ });\n        callbacks.onActionChain?.(\n          blink,\n          nextBlink,\n          component,\n          response.type,\n          signature\n        );\n      };\n      if (response.type === \"transaction\" || !response.type) {\n        const signResult = await adapter.signTransaction(\n          response.transaction,\n          context\n        );\n        if (!signResult || isSignTransactionError(signResult)) {\n          dispatch({\n            type: \"SOFT_RESET\" /* SOFT_RESET */,\n            errorMessage: signResult.error ?? \"Unable to sign transaction\"\n          });\n          callbacks.onActionCancel?.(\n            blink,\n            component,\n            \"transaction-sign-cancel\"\n          );\n          return;\n        }\n        const confirmationResult = await adapter.confirmTransaction(signResult.signature, context).then(() => ({ success: true })).catch((e) => ({ success: false, message: e.message }));\n        if (!confirmationResult.success) {\n          dispatch({\n            type: \"SOFT_RESET\" /* SOFT_RESET */,\n            errorMessage: response.lifecycle?.error?.message ?? confirmationResult.message ?? \"Unknown error, please try again\"\n          });\n          callbacks.onActionError?.(\n            blink,\n            component,\n            \"transaction-confirmation-failed\",\n            signResult.signature\n          );\n          return;\n        }\n        await chain(signResult.signature);\n        return;\n      }\n      if (response.type === \"message\") {\n        const signResult = await adapter.signMessage(response.data, context);\n        if (!signResult || isSignMessageError(signResult)) {\n          dispatch({ type: \"RESET\" /* RESET */ });\n          callbacks.onActionCancel?.(blink, component, \"message-sign-cancel\");\n          return;\n        }\n        await chain(signResult.signature);\n        return;\n      }\n      if (response.type === \"post\") {\n        await chain();\n        return;\n      }\n      if (response.type === \"external-link\") {\n        if (isURL(response.externalLink)) {\n          return {\n            type: \"external-link\",\n            data: {\n              externalLink: response.externalLink\n            },\n            onNext: () => chain(),\n            onCancel: () => chain()\n          };\n        }\n        await chain();\n        return;\n      }\n    } catch (e) {\n      dispatch({\n        type: \"SOFT_RESET\" /* SOFT_RESET */,\n        errorMessage: e.message ?? \"Unknown error, please try again\"\n      });\n      callbacks.onActionError?.(blink, component, \"unknown-error\");\n    }\n  };\n  const disclaimer = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    if (overallState === \"malicious\") {\n      return {\n        type: \"blocked\" /* BLOCKED */,\n        ignorable: isPassingSecurityCheck,\n        hidden: executionState.status !== \"blocked\" && executionState.status !== \"checking-supportability\",\n        onSkip: () => dispatch({ type: \"UNBLOCK\" /* UNBLOCK */ })\n      };\n    }\n    if (overallState === \"unknown\") {\n      return {\n        type: \"unknown\" /* UNKNOWN */,\n        ignorable: isPassingSecurityCheck\n      };\n    }\n    return null;\n  }, [executionState.status, isPassingSecurityCheck, overallState]);\n  const blinkCaption = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {\n    const error = executionState.errorMessage ?? blink.error;\n    const generalMessage = executionState.generalMessage ?? blink.message;\n    if (error) {\n      return { type: \"error\", text: error };\n    }\n    if (executionState.successMessage) {\n      return { type: \"success\", text: executionState.successMessage };\n    }\n    if (generalMessage) {\n      return { type: \"default\", text: generalMessage };\n    }\n    return null;\n  }, [\n    executionState.errorMessage,\n    executionState.successMessage,\n    executionState.generalMessage,\n    blink.error,\n    blink.message\n  ]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    Layout,\n    {\n      securityState: overallState,\n      websiteUrl,\n      websiteText,\n      blink,\n      component: singleComponent,\n      caption: blinkCaption,\n      executionStatus: executionState.status,\n      executingAction: executionState.executingAction,\n      executeFn: execute,\n      disclaimer,\n      supportability,\n      id: blink.id\n    }\n  );\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGRpYWxlY3RsYWJzL2JsaW5rcy1jb3JlL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUzZCO0FBeUNBOztBQUU3QjtBQU1lOztBQUVmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ3dDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxzQkFBc0I7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMscUJBQXFCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHlFQUFxQjtBQUMxQyx1Q0FBdUMsa0VBQWM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsZ0ZBQTRCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDJFQUF1QjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixpRUFBYTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsaUVBQWE7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDhDQUFPO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsK0JBQStCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCx1QkFBdUIsOENBQU87QUFDOUI7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixzREFBRztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNkRFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmxpbmstc3RhcnRlci1tb25hZC8uL25vZGVfbW9kdWxlcy9AZGlhbGVjdGxhYnMvYmxpbmtzLWNvcmUvZGlzdC9pbmRleC5qcz84ZjU0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGZldGNoQmxpbmtMaXN0MiBhcyBmZXRjaEJsaW5rTGlzdCxcbiAgZmV0Y2hNZXRhZGF0YSxcbiAgdXNlQWN0aW9uLFxuICB1c2VCbGluazIgYXMgdXNlQmxpbmssXG4gIHVzZUJsaW5rQXBpVXJsLFxuICB1c2VCbGlua0xpc3QyIGFzIHVzZUJsaW5rTGlzdCxcbiAgdXNlQmxpbmtzUmVnaXN0cnlJbnRlcnZhbCxcbiAgdXNlTWV0YWRhdGFcbn0gZnJvbSBcIi4vY2h1bmstN1BKT1hJQTcuanNcIjtcbmltcG9ydCB7XG4gIEFic3RyYWN0QWN0aW9uQ29tcG9uZW50LFxuICBCQVNFTElORV9BQ1RJT05fVkVSU0lPTixcbiAgQkFTRUxJTkVfQkxJTktfQkxPQ0tDSEFJTl9JRFMsXG4gIEJMSU5LX0NMSUVOVF9LRVlfSEVBREVSLFxuICBCbGlua0luc3RhbmNlLFxuICBCbGlua3NSZWdpc3RyeSxcbiAgQmxpbmtzVVJMTWFwcGVyLFxuICBCbG9ja2NoYWluSWRzLFxuICBCdXR0b25BY3Rpb25Db21wb25lbnQsXG4gIERFRkFVTFRfU1VQUE9SVEVEX0JMT0NLQ0hBSU5fSURTLFxuICBFTVBUWV9PQkpFQ1QsXG4gIEZvcm1BY3Rpb25Db21wb25lbnQsXG4gIE1BWF9TVVBQT1JURURfQUNUSU9OX1ZFUlNJT04sXG4gIE11bHRpVmFsdWVBY3Rpb25Db21wb25lbnQsXG4gIFNPTEFOQV9BQ1RJT05fUFJFRklYLFxuICBTaWduTWVzc2FnZVZlcmlmaWNhdGlvbkVycm9yVHlwZSxcbiAgU2luZ2xlVmFsdWVBY3Rpb25Db21wb25lbnQsXG4gIGNoZWNrU2VjdXJpdHksXG4gIGNyZWF0ZVNpZ25NZXNzYWdlVGV4dCxcbiAgZGVmYXVsdEJsaW5rU3VwcG9ydFN0cmF0ZWd5LFxuICBmZXRjaEJsaW5rc1JlZ2lzdHJ5Q29uZmlnLFxuICBnZXRCbGlua1N1cHBvcnRhYmlsaXR5TWV0YWRhdGEsXG4gIGdldEV4dGVuZGVkQmxpbmtTdGF0ZSxcbiAgZ2V0RXh0ZW5kZWRJbnRlcnN0aXRpYWxTdGF0ZSxcbiAgZ2V0RXh0ZW5kZWRXZWJzaXRlU3RhdGUsXG4gIGlzQmxvY2tjaGFpblN1cHBvcnRlZCxcbiAgaXNJbnRlcnN0aXRpYWwsXG4gIGlzUGFyYW1ldGVyU2VsZWN0YWJsZSxcbiAgaXNQYXR0ZXJuQWxsb3dlZCxcbiAgaXNQcm94aWZpZWQsXG4gIGlzVmVyc2lvblN1cHBvcnRlZCxcbiAgbWVyZ2VCbGlua1N0YXRlcyxcbiAgcGFyc2VTaWduTWVzc2FnZVRleHQsXG4gIHByb3hpZnksXG4gIHByb3hpZnlJbWFnZSxcbiAgc2V0Q2xpZW50S2V5LFxuICBzZXRQcm94eVVybCxcbiAgdW5mdXJsVXJsVG9CbGlua0FwaVVybCxcbiAgdmVyaWZ5U2lnbk1lc3NhZ2VEYXRhXG59IGZyb20gXCIuL2NodW5rLVpJR1NHVzJMLmpzXCI7XG5cbi8vIHNyYy9CbGlua0NvbnRhaW5lci50c3hcbmltcG9ydCB7XG4gIHVzZUVmZmVjdCxcbiAgdXNlTWVtbyxcbiAgdXNlUmVkdWNlcixcbiAgdXNlU3RhdGVcbn0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy91dGlscy90eXBlLWd1YXJkcy50c1xudmFyIGlzU2lnblRyYW5zYWN0aW9uRXJyb3IgPSAoZGF0YSkgPT4gISFkYXRhLmVycm9yO1xudmFyIGlzU2lnbk1lc3NhZ2VFcnJvciA9IGlzU2lnblRyYW5zYWN0aW9uRXJyb3I7XG52YXIgaXNQb3N0UmVxdWVzdEVycm9yID0gKGRhdGEpID0+ICEhZGF0YS5lcnJvcjtcblxuLy8gc3JjL3V0aWxzL3ZhbGlkYXRvcnMudHNcbnZhciBpc1VSTCA9ICh1cmwpID0+IHtcbiAgdHJ5IHtcbiAgICBuZXcgVVJMKHVybCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLy8gc3JjL0JsaW5rQ29udGFpbmVyLnRzeFxuaW1wb3J0IHsganN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgRGlzY2xhaW1lclR5cGUgPSAvKiBAX19QVVJFX18gKi8gKChEaXNjbGFpbWVyVHlwZTIpID0+IHtcbiAgRGlzY2xhaW1lclR5cGUyW1wiQkxPQ0tFRFwiXSA9IFwiYmxvY2tlZFwiO1xuICBEaXNjbGFpbWVyVHlwZTJbXCJVTktOT1dOXCJdID0gXCJ1bmtub3duXCI7XG4gIHJldHVybiBEaXNjbGFpbWVyVHlwZTI7XG59KShEaXNjbGFpbWVyVHlwZSB8fCB7fSk7XG52YXIgRXhlY3V0aW9uVHlwZSA9IC8qIEBfX1BVUkVfXyAqLyAoKEV4ZWN1dGlvblR5cGUyKSA9PiB7XG4gIEV4ZWN1dGlvblR5cGUyW1wiQ0hFQ0tfU1VQUE9SVEFCSUxJVFlcIl0gPSBcIkNIRUNLX1NVUFBPUlRBQklMSVRZXCI7XG4gIEV4ZWN1dGlvblR5cGUyW1wiSU5JVElBVEVcIl0gPSBcIklOSVRJQVRFXCI7XG4gIEV4ZWN1dGlvblR5cGUyW1wiRklOSVNIXCJdID0gXCJGSU5JU0hcIjtcbiAgRXhlY3V0aW9uVHlwZTJbXCJGQUlMXCJdID0gXCJGQUlMXCI7XG4gIEV4ZWN1dGlvblR5cGUyW1wiUkVTRVRcIl0gPSBcIlJFU0VUXCI7XG4gIEV4ZWN1dGlvblR5cGUyW1wiU09GVF9SRVNFVFwiXSA9IFwiU09GVF9SRVNFVFwiO1xuICBFeGVjdXRpb25UeXBlMltcIlVOQkxPQ0tcIl0gPSBcIlVOQkxPQ0tcIjtcbiAgRXhlY3V0aW9uVHlwZTJbXCJCTE9DS1wiXSA9IFwiQkxPQ0tcIjtcbiAgRXhlY3V0aW9uVHlwZTJbXCJQQVJUSUFMX1VQREFURVwiXSA9IFwiUEFSVElBTF9VUERBVEVcIjtcbiAgcmV0dXJuIEV4ZWN1dGlvblR5cGUyO1xufSkoRXhlY3V0aW9uVHlwZSB8fCB7fSk7XG52YXIgZXhlY3V0aW9uUmVkdWNlciA9IChzdGF0ZSwgYWN0aW9uKSA9PiB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFwiQ0hFQ0tfU1VQUE9SVEFCSUxJVFlcIiAvKiBDSEVDS19TVVBQT1JUQUJJTElUWSAqLzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXR1czogXCJjaGVja2luZy1zdXBwb3J0YWJpbGl0eVwiLFxuICAgICAgICBjaGVja2luZ1N1cHBvcnRhYmlsaXR5OiB0cnVlXG4gICAgICB9O1xuICAgIGNhc2UgXCJJTklUSUFURVwiIC8qIElOSVRJQVRFICovOlxuICAgICAgcmV0dXJuIHsgc3RhdHVzOiBcImV4ZWN1dGluZ1wiLCBleGVjdXRpbmdBY3Rpb246IGFjdGlvbi5leGVjdXRpbmdBY3Rpb24gfTtcbiAgICBjYXNlIFwiRklOSVNIXCIgLyogRklOSVNIICovOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiBhY3Rpb24uc3VjY2Vzc01lc3NhZ2UsXG4gICAgICAgIGVycm9yTWVzc2FnZTogbnVsbFxuICAgICAgfTtcbiAgICBjYXNlIFwiRkFJTFwiIC8qIEZBSUwgKi86XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgc3RhdHVzOiBcImVycm9yXCIsXG4gICAgICAgIGVycm9yTWVzc2FnZTogYWN0aW9uLmVycm9yTWVzc2FnZSxcbiAgICAgICAgc3VjY2Vzc01lc3NhZ2U6IG51bGxcbiAgICAgIH07XG4gICAgY2FzZSBcIlJFU0VUXCIgLyogUkVTRVQgKi86XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGF0dXM6IFwiaWRsZVwiXG4gICAgICB9O1xuICAgIGNhc2UgXCJTT0ZUX1JFU0VUXCIgLyogU09GVF9SRVNFVCAqLzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBleGVjdXRpbmdBY3Rpb246IG51bGwsXG4gICAgICAgIHN0YXR1czogXCJpZGxlXCIsXG4gICAgICAgIGVycm9yTWVzc2FnZTogYWN0aW9uLmVycm9yTWVzc2FnZSxcbiAgICAgICAgc3VjY2Vzc01lc3NhZ2U6IG51bGxcbiAgICAgIH07XG4gICAgY2FzZSBcIkJMT0NLXCIgLyogQkxPQ0sgKi86XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdGF0dXM6IFwiYmxvY2tlZFwiXG4gICAgICB9O1xuICAgIGNhc2UgXCJVTkJMT0NLXCIgLyogVU5CTE9DSyAqLzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN0YXR1czogXCJpZGxlXCJcbiAgICAgIH07XG4gICAgY2FzZSBcIlBBUlRJQUxfVVBEQVRFXCIgLyogUEFSVElBTF9VUERBVEUgKi86XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgZ2VuZXJhbE1lc3NhZ2U6IGFjdGlvbi5tZXNzYWdlXG4gICAgICB9O1xuICB9XG59O1xudmFyIGdldE92ZXJhbGxCbGlua1N0YXRlID0gKGJsaW5rLCB3ZWJzaXRlVXJsKSA9PiB7XG4gIGNvbnN0IGJsaW5rU3RhdGUgPSBnZXRFeHRlbmRlZEJsaW5rU3RhdGUoYmxpbmspO1xuICBjb25zdCBvcmlnaW5hbFVybERhdGEgPSB3ZWJzaXRlVXJsID8gaXNJbnRlcnN0aXRpYWwod2Vic2l0ZVVybCkgOiBudWxsO1xuICBpZiAoIW9yaWdpbmFsVXJsRGF0YSkge1xuICAgIHJldHVybiB7XG4gICAgICBibGluazogYmxpbmtTdGF0ZVxuICAgIH07XG4gIH1cbiAgaWYgKG9yaWdpbmFsVXJsRGF0YS5pc0ludGVyc3RpdGlhbCkge1xuICAgIHJldHVybiB7XG4gICAgICBibGluazogYmxpbmtTdGF0ZSxcbiAgICAgIG9yaWdpbjogZ2V0RXh0ZW5kZWRJbnRlcnN0aXRpYWxTdGF0ZSh3ZWJzaXRlVXJsKSxcbiAgICAgIG9yaWdpblR5cGU6IFwiaW50ZXJzdGl0aWFsc1wiXG4gICAgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGJsaW5rOiBibGlua1N0YXRlLFxuICAgIG9yaWdpbjogZ2V0RXh0ZW5kZWRXZWJzaXRlU3RhdGUod2Vic2l0ZVVybCksXG4gICAgb3JpZ2luVHlwZTogXCJ3ZWJzaXRlc1wiXG4gIH07XG59O1xudmFyIGNoZWNrU2VjdXJpdHlGcm9tQmxpbmtTdGF0ZSA9IChzdGF0ZSwgbm9ybWFsaXplZFNlY3VyaXR5TGV2ZWwpID0+IHtcbiAgY29uc3QgY2hlY2tCbGluayA9IGNoZWNrU2VjdXJpdHkoXG4gICAgc3RhdGUuYmxpbmssXG4gICAgbm9ybWFsaXplZFNlY3VyaXR5TGV2ZWwuYWN0aW9uc1xuICApO1xuICBpZiAoIXN0YXRlLm9yaWdpbikge1xuICAgIHJldHVybiBjaGVja0JsaW5rO1xuICB9XG4gIHJldHVybiBjaGVja0JsaW5rICYmIGNoZWNrU2VjdXJpdHkoc3RhdGUub3JpZ2luLCBub3JtYWxpemVkU2VjdXJpdHlMZXZlbFtzdGF0ZS5vcmlnaW5UeXBlXSk7XG59O1xudmFyIERFRkFVTFRfU0VDVVJJVFlfTEVWRUwgPSBcIm9ubHktdHJ1c3RlZFwiO1xudmFyIEJsaW5rQ29udGFpbmVyID0gKHtcbiAgYmxpbms6IGluaXRpYWxCbGluayxcbiAgYWRhcHRlcixcbiAgd2Vic2l0ZVVybCxcbiAgd2Vic2l0ZVRleHQsXG4gIGNhbGxiYWNrcyA9IEVNUFRZX09CSkVDVCxcbiAgc2VjdXJpdHlMZXZlbCA9IERFRkFVTFRfU0VDVVJJVFlfTEVWRUwsXG4gIExheW91dCxcbiAgc2VsZWN0b3Jcbn0pID0+IHtcbiAgY29uc3QgW2JsaW5rLCBzZXRCbGlua10gPSB1c2VTdGF0ZShpbml0aWFsQmxpbmspO1xuICBjb25zdCBzaW5nbGVDb21wb25lbnQgPSB1c2VNZW1vKCgpID0+IHNlbGVjdG9yPy4oYmxpbmspLCBbYmxpbmssIHNlbGVjdG9yXSk7XG4gIGNvbnN0IGlzUGFydGlhbEJsaW5rID0gdHlwZW9mIHNlbGVjdG9yID09PSBcImZ1bmN0aW9uXCI7XG4gIGNvbnN0IG5vcm1hbGl6ZWRTZWN1cml0eUxldmVsID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBzZWN1cml0eUxldmVsID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB3ZWJzaXRlczogc2VjdXJpdHlMZXZlbCxcbiAgICAgICAgaW50ZXJzdGl0aWFsczogc2VjdXJpdHlMZXZlbCxcbiAgICAgICAgYWN0aW9uczogc2VjdXJpdHlMZXZlbFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHNlY3VyaXR5TGV2ZWw7XG4gIH0sIFtzZWN1cml0eUxldmVsXSk7XG4gIGNvbnN0IFtibGlua1N0YXRlLCBzZXRCbGlua1N0YXRlXSA9IHVzZVN0YXRlKFxuICAgIGdldE92ZXJhbGxCbGlua1N0YXRlKGJsaW5rLCB3ZWJzaXRlVXJsKVxuICApO1xuICBjb25zdCBbc3VwcG9ydGFiaWxpdHksIHNldFN1cHBvcnRhYmlsaXR5XSA9IHVzZVN0YXRlKHtcbiAgICBpc1N1cHBvcnRlZDogdHJ1ZVxuICB9KTtcbiAgY29uc3Qgb3ZlcmFsbFN0YXRlID0gdXNlTWVtbyhcbiAgICAoKSA9PiBtZXJnZUJsaW5rU3RhdGVzKFxuICAgICAgLi4uW2JsaW5rU3RhdGUuYmxpbmssIGJsaW5rU3RhdGUub3JpZ2luXS5maWx0ZXIoXG4gICAgICAgIEJvb2xlYW5cbiAgICAgIClcbiAgICApLFxuICAgIFtibGlua1N0YXRlXVxuICApO1xuICBjb25zdCBpc1Bhc3NpbmdTZWN1cml0eUNoZWNrID0gaXNQYXJ0aWFsQmxpbmsgPyB0cnVlIDogY2hlY2tTZWN1cml0eUZyb21CbGlua1N0YXRlKGJsaW5rU3RhdGUsIG5vcm1hbGl6ZWRTZWN1cml0eUxldmVsKTtcbiAgY29uc3QgW2V4ZWN1dGlvblN0YXRlLCBkaXNwYXRjaF0gPSB1c2VSZWR1Y2VyKGV4ZWN1dGlvblJlZHVjZXIsIHtcbiAgICBzdGF0dXM6IGlzUGFydGlhbEJsaW5rID8gXCJpZGxlXCIgOiBcImNoZWNraW5nLXN1cHBvcnRhYmlsaXR5XCJcbiAgfSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGJsaW5rID09PSBpbml0aWFsQmxpbmspIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0QmxpbmsoaW5pdGlhbEJsaW5rKTtcbiAgICBzZXRCbGlua1N0YXRlKGdldE92ZXJhbGxCbGlua1N0YXRlKGluaXRpYWxCbGluaywgd2Vic2l0ZVVybCkpO1xuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IGlzUGFydGlhbEJsaW5rID8gXCJSRVNFVFwiIC8qIFJFU0VUICovIDogXCJDSEVDS19TVVBQT1JUQUJJTElUWVwiIC8qIENIRUNLX1NVUFBPUlRBQklMSVRZICovXG4gICAgfSk7XG4gIH0sIFtpbml0aWFsQmxpbmssIHdlYnNpdGVVcmxdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjYWxsYmFja3Mub25BY3Rpb25Nb3VudD8uKFxuICAgICAgaW5pdGlhbEJsaW5rLFxuICAgICAgd2Vic2l0ZVVybCA/PyBpbml0aWFsQmxpbmsudXJsLFxuICAgICAgYmxpbmtTdGF0ZS5ibGlua1xuICAgICk7XG4gIH0sIFtdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBsaXZlRGF0YUNvbmZpZyA9IGJsaW5rLmxpdmVEYXRhX2V4cGVyaW1lbnRhbDtcbiAgICBpZiAoIWxpdmVEYXRhQ29uZmlnIHx8ICFsaXZlRGF0YUNvbmZpZy5lbmFibGVkIHx8IGV4ZWN1dGlvblN0YXRlLnN0YXR1cyAhPT0gXCJpZGxlXCIgfHwgYmxpbmsuaXNDaGFpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCB0aW1lb3V0O1xuICAgIGNvbnN0IGZldGNoZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBuZXdCbGluayA9IGF3YWl0IGJsaW5rLnJlZnJlc2goKTtcbiAgICAgICAgaWYgKGV4ZWN1dGlvblN0YXRlLnN0YXR1cyA9PT0gXCJpZGxlXCIpIHtcbiAgICAgICAgICBzZXRCbGluayhuZXdCbGluayk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBgW0BkaWFsZWN0bGFicy9ibGlua3NdIEZhaWxlZCB0byBmZXRjaCBsaXZlIGRhdGEgZm9yIGJsaW5rICR7YmxpbmsudXJsfWBcbiAgICAgICAgKTtcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZmV0Y2hlciwgbGl2ZURhdGFDb25maWcuZGVsYXlNcyk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmZXRjaGVyLCBsaXZlRGF0YUNvbmZpZy5kZWxheU1zKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIH07XG4gIH0sIFtibGluaywgZXhlY3V0aW9uU3RhdGUuc3RhdHVzLCBpc1BhcnRpYWxCbGlua10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNoZWNrU3VwcG9ydGFiaWxpdHkgPSBhc3luYyAoYmxpbmsyKSA9PiB7XG4gICAgICBpZiAoYmxpbmsyLmlzQ2hhaW5lZCB8fCBleGVjdXRpb25TdGF0ZS5zdGF0dXMgIT09IFwiY2hlY2tpbmctc3VwcG9ydGFiaWxpdHlcIikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzdXBwb3J0YWJpbGl0eTIgPSBhd2FpdCBibGluazIuaXNTdXBwb3J0ZWQoYWRhcHRlcik7XG4gICAgICAgIHNldFN1cHBvcnRhYmlsaXR5KHN1cHBvcnRhYmlsaXR5Mik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogb3ZlcmFsbFN0YXRlICE9PSBcIm1hbGljaW91c1wiICYmIGlzUGFzc2luZ1NlY3VyaXR5Q2hlY2sgPyBcIlJFU0VUXCIgLyogUkVTRVQgKi8gOiBcIkJMT0NLXCIgLyogQkxPQ0sgKi9cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjaGVja1N1cHBvcnRhYmlsaXR5KGJsaW5rKTtcbiAgfSwgW1xuICAgIGJsaW5rLFxuICAgIGFkYXB0ZXIsXG4gICAgZXhlY3V0aW9uU3RhdGUuc3RhdHVzLFxuICAgIG92ZXJhbGxTdGF0ZSxcbiAgICBpc1Bhc3NpbmdTZWN1cml0eUNoZWNrXG4gIF0pO1xuICBjb25zdCBleGVjdXRlID0gYXN5bmMgKGNvbXBvbmVudCwgcGFyYW1zKSA9PiB7XG4gICAgaWYgKHBhcmFtcykge1xuICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIEZvcm1BY3Rpb25Db21wb25lbnQpIHtcbiAgICAgICAgT2JqZWN0LmVudHJpZXMocGFyYW1zKS5mb3JFYWNoKFxuICAgICAgICAgIChbbmFtZSwgdmFsdWVdKSA9PiBjb21wb25lbnQuc2V0VmFsdWUodmFsdWUsIG5hbWUpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoY29tcG9uZW50IGluc3RhbmNlb2YgTXVsdGlWYWx1ZUFjdGlvbkNvbXBvbmVudCkge1xuICAgICAgICBjb21wb25lbnQuc2V0VmFsdWUocGFyYW1zW2NvbXBvbmVudC5wYXJhbWV0ZXIubmFtZV0pO1xuICAgICAgfVxuICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIFNpbmdsZVZhbHVlQWN0aW9uQ29tcG9uZW50KSB7XG4gICAgICAgIGNvbnN0IGluY29taW5nVmFsdWVzID0gcGFyYW1zW2NvbXBvbmVudC5wYXJhbWV0ZXIubmFtZV07XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdHlwZW9mIGluY29taW5nVmFsdWVzID09PSBcInN0cmluZ1wiID8gaW5jb21pbmdWYWx1ZXMgOiBpbmNvbWluZ1ZhbHVlc1swXTtcbiAgICAgICAgY29tcG9uZW50LnNldFZhbHVlKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbmV3QmxpbmtTdGF0ZSA9IGdldE92ZXJhbGxCbGlua1N0YXRlKGJsaW5rLCB3ZWJzaXRlVXJsKTtcbiAgICBjb25zdCBuZXdJc1Bhc3NpbmdTZWN1cml0eUNoZWNrID0gY2hlY2tTZWN1cml0eUZyb21CbGlua1N0YXRlKFxuICAgICAgbmV3QmxpbmtTdGF0ZSxcbiAgICAgIG5vcm1hbGl6ZWRTZWN1cml0eUxldmVsXG4gICAgKTtcbiAgICBpZiAoKG5ld0JsaW5rU3RhdGUuYmxpbmsgIT09IGJsaW5rU3RhdGUuYmxpbmsgfHwgbmV3QmxpbmtTdGF0ZS5vcmlnaW4gIT09IGJsaW5rU3RhdGUub3JpZ2luKSAmJiAhbmV3SXNQYXNzaW5nU2VjdXJpdHlDaGVjaykge1xuICAgICAgc2V0QmxpbmtTdGF0ZShuZXdCbGlua1N0YXRlKTtcbiAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJCTE9DS1wiIC8qIEJMT0NLICovIH0pO1xuICAgICAgY2FsbGJhY2tzLm9uQWN0aW9uQ2FuY2VsPy4oYmxpbmssIGNvbXBvbmVudCwgXCJzZWN1cml0eS1zdGF0ZS1jaGFuZ2VkXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY29tcG9uZW50LnR5cGUgPT09IFwiaW5saW5lLWxpbmtcIikge1xuICAgICAgaWYgKGlzVVJMKGNvbXBvbmVudC5ocmVmKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFwiZXh0ZXJuYWwtbGlua1wiLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGV4dGVybmFsTGluazogY29tcG9uZW50LmhyZWZcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uTmV4dDogKCkgPT4ge1xuICAgICAgICAgIH0sXG4gICAgICAgICAgb25DYW5jZWw6ICgpID0+IHtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRpc3BhdGNoKHsgdHlwZTogXCJJTklUSUFURVwiIC8qIElOSVRJQVRFICovLCBleGVjdXRpbmdBY3Rpb246IGNvbXBvbmVudCB9KTtcbiAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgYWN0aW9uOiBjb21wb25lbnQucGFyZW50LFxuICAgICAgYWN0aW9uVHlwZTogYmxpbmtTdGF0ZS5ibGluayxcbiAgICAgIG9yaWdpbmFsVXJsOiB3ZWJzaXRlVXJsID8/IGNvbXBvbmVudC5wYXJlbnQudXJsLFxuICAgICAgdHJpZ2dlcmVkTGlua2VkQWN0aW9uOiBjb21wb25lbnRcbiAgICB9O1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhY2NvdW50ID0gYXdhaXQgYWRhcHRlci5jb25uZWN0KGNvbnRleHQpO1xuICAgICAgaWYgKCFhY2NvdW50KSB7XG4gICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJSRVNFVFwiIC8qIFJFU0VUICovIH0pO1xuICAgICAgICBjYWxsYmFja3M/Lm9uQWN0aW9uQ2FuY2VsPy4oYmxpbmssIGNvbXBvbmVudCwgXCJ3YWxsZXQtbm90LWNvbm5lY3RlZFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjb21wb25lbnQucG9zdChhY2NvdW50KS5jYXRjaCgoZSkgPT4gKHsgZXJyb3I6IGUubWVzc2FnZSB9KSk7XG4gICAgICBpZiAoaXNQb3N0UmVxdWVzdEVycm9yKHJlc3BvbnNlKSkge1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogXCJTT0ZUX1JFU0VUXCIgLyogU09GVF9SRVNFVCAqLyxcbiAgICAgICAgICBlcnJvck1lc3NhZ2U6IGlzUG9zdFJlcXVlc3RFcnJvcihyZXNwb25zZSkgPyByZXNwb25zZS5lcnJvciA6IFwiVHJhbnNhY3Rpb24gZGF0YSBtaXNzaW5nXCJcbiAgICAgICAgfSk7XG4gICAgICAgIGNhbGxiYWNrcy5vbkFjdGlvbkVycm9yPy4oYmxpbmssIGNvbXBvbmVudCwgXCJwb3N0LXJlcXVlc3QtZXJyb3JcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChyZXNwb25zZS5saWZlY3ljbGU/LmV4ZWN1dGluZykge1xuICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgdHlwZTogXCJQQVJUSUFMX1VQREFURVwiIC8qIFBBUlRJQUxfVVBEQVRFICovLFxuICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLmxpZmVjeWNsZS5leGVjdXRpbmcubWVzc2FnZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNoYWluID0gYXN5bmMgKHNpZ25hdHVyZSkgPT4ge1xuICAgICAgICBpZiAoIXJlc3BvbnNlLmxpbmtzPy5uZXh0ICYmICFyZXNwb25zZS5saWZlY3ljbGU/LnN1Y2Nlc3MpIHtcbiAgICAgICAgICBkaXNwYXRjaCh7XG4gICAgICAgICAgICB0eXBlOiBcIkZJTklTSFwiIC8qIEZJTklTSCAqLyxcbiAgICAgICAgICAgIHN1Y2Nlc3NNZXNzYWdlOiByZXNwb25zZS5tZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY2FsbGJhY2tzLm9uQWN0aW9uQ29tcGxldGU/LihibGluaywgY29tcG9uZW50LCBzaWduYXR1cmUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzcG9uc2UudHlwZSA9PT0gXCJtZXNzYWdlXCIgJiYgIXNpZ25hdHVyZSkge1xuICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6IFwiU09GVF9SRVNFVFwiIC8qIFNPRlRfUkVTRVQgKi8sXG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IHJlc3BvbnNlLmxpZmVjeWNsZT8uZXJyb3I/Lm1lc3NhZ2UgPz8gXCJNaXNzaW5nIHNpZ25hdHVyZSBmb3IgbWVzc2FnZVwiXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY2FsbGJhY2tzLm9uQWN0aW9uRXJyb3I/LihcbiAgICAgICAgICAgIGJsaW5rLFxuICAgICAgICAgICAgY29tcG9uZW50LFxuICAgICAgICAgICAgXCJtZXNzYWdlLXNpZ25hdHVyZS1taXNzaW5nXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGFpbkRhdGEgPSByZXNwb25zZS50eXBlID09PSBcIm1lc3NhZ2VcIiA/IHtcbiAgICAgICAgICBzaWduYXR1cmUsXG4gICAgICAgICAgYWNjb3VudCxcbiAgICAgICAgICBzdGF0ZTogcmVzcG9uc2Uuc3RhdGUsXG4gICAgICAgICAgZGF0YTogcmVzcG9uc2UuZGF0YVxuICAgICAgICB9IDoge1xuICAgICAgICAgIHNpZ25hdHVyZSxcbiAgICAgICAgICBhY2NvdW50XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG5leHRCbGluayA9IHJlc3BvbnNlLmxpbmtzPy5uZXh0ID8gYXdhaXQgYmxpbmsuY2hhaW4oXG4gICAgICAgICAgcmVzcG9uc2UubGlua3MubmV4dCxcbiAgICAgICAgICBjaGFpbkRhdGEsXG4gICAgICAgICAgcmVzcG9uc2UubGlmZWN5Y2xlPy5zdWNjZXNzXG4gICAgICAgICkgOiBibGluay5zYWZlSW5saW5lQ2hhaW4ocmVzcG9uc2UubGlmZWN5Y2xlPy5zdWNjZXNzKTtcbiAgICAgICAgaWYgKCFuZXh0QmxpbmsgfHwgaXNQYXJ0aWFsQmxpbmsgJiYgIXNlbGVjdG9yPy4obmV4dEJsaW5rKSkge1xuICAgICAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgICAgIHR5cGU6IFwiRklOSVNIXCIgLyogRklOSVNIICovLFxuICAgICAgICAgICAgc3VjY2Vzc01lc3NhZ2U6IHJlc3BvbnNlLm1lc3NhZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjYWxsYmFja3Mub25BY3Rpb25Db21wbGV0ZT8uKGJsaW5rLCBjb21wb25lbnQsIHNpZ25hdHVyZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldEJsaW5rKG5leHRCbGluayk7XG4gICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJSRVNFVFwiIC8qIFJFU0VUICovIH0pO1xuICAgICAgICBjYWxsYmFja3Mub25BY3Rpb25DaGFpbj8uKFxuICAgICAgICAgIGJsaW5rLFxuICAgICAgICAgIG5leHRCbGluayxcbiAgICAgICAgICBjb21wb25lbnQsXG4gICAgICAgICAgcmVzcG9uc2UudHlwZSxcbiAgICAgICAgICBzaWduYXR1cmVcbiAgICAgICAgKTtcbiAgICAgIH07XG4gICAgICBpZiAocmVzcG9uc2UudHlwZSA9PT0gXCJ0cmFuc2FjdGlvblwiIHx8ICFyZXNwb25zZS50eXBlKSB7XG4gICAgICAgIGNvbnN0IHNpZ25SZXN1bHQgPSBhd2FpdCBhZGFwdGVyLnNpZ25UcmFuc2FjdGlvbihcbiAgICAgICAgICByZXNwb25zZS50cmFuc2FjdGlvbixcbiAgICAgICAgICBjb250ZXh0XG4gICAgICAgICk7XG4gICAgICAgIGlmICghc2lnblJlc3VsdCB8fCBpc1NpZ25UcmFuc2FjdGlvbkVycm9yKHNpZ25SZXN1bHQpKSB7XG4gICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogXCJTT0ZUX1JFU0VUXCIgLyogU09GVF9SRVNFVCAqLyxcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogc2lnblJlc3VsdC5lcnJvciA/PyBcIlVuYWJsZSB0byBzaWduIHRyYW5zYWN0aW9uXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjYWxsYmFja3Mub25BY3Rpb25DYW5jZWw/LihcbiAgICAgICAgICAgIGJsaW5rLFxuICAgICAgICAgICAgY29tcG9uZW50LFxuICAgICAgICAgICAgXCJ0cmFuc2FjdGlvbi1zaWduLWNhbmNlbFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29uZmlybWF0aW9uUmVzdWx0ID0gYXdhaXQgYWRhcHRlci5jb25maXJtVHJhbnNhY3Rpb24oc2lnblJlc3VsdC5zaWduYXR1cmUsIGNvbnRleHQpLnRoZW4oKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSB9KSkuY2F0Y2goKGUpID0+ICh7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBlLm1lc3NhZ2UgfSkpO1xuICAgICAgICBpZiAoIWNvbmZpcm1hdGlvblJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgZGlzcGF0Y2goe1xuICAgICAgICAgICAgdHlwZTogXCJTT0ZUX1JFU0VUXCIgLyogU09GVF9SRVNFVCAqLyxcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogcmVzcG9uc2UubGlmZWN5Y2xlPy5lcnJvcj8ubWVzc2FnZSA/PyBjb25maXJtYXRpb25SZXN1bHQubWVzc2FnZSA/PyBcIlVua25vd24gZXJyb3IsIHBsZWFzZSB0cnkgYWdhaW5cIlxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhbGxiYWNrcy5vbkFjdGlvbkVycm9yPy4oXG4gICAgICAgICAgICBibGluayxcbiAgICAgICAgICAgIGNvbXBvbmVudCxcbiAgICAgICAgICAgIFwidHJhbnNhY3Rpb24tY29uZmlybWF0aW9uLWZhaWxlZFwiLFxuICAgICAgICAgICAgc2lnblJlc3VsdC5zaWduYXR1cmVcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBjaGFpbihzaWduUmVzdWx0LnNpZ25hdHVyZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChyZXNwb25zZS50eXBlID09PSBcIm1lc3NhZ2VcIikge1xuICAgICAgICBjb25zdCBzaWduUmVzdWx0ID0gYXdhaXQgYWRhcHRlci5zaWduTWVzc2FnZShyZXNwb25zZS5kYXRhLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKCFzaWduUmVzdWx0IHx8IGlzU2lnbk1lc3NhZ2VFcnJvcihzaWduUmVzdWx0KSkge1xuICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogXCJSRVNFVFwiIC8qIFJFU0VUICovIH0pO1xuICAgICAgICAgIGNhbGxiYWNrcy5vbkFjdGlvbkNhbmNlbD8uKGJsaW5rLCBjb21wb25lbnQsIFwibWVzc2FnZS1zaWduLWNhbmNlbFwiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgY2hhaW4oc2lnblJlc3VsdC5zaWduYXR1cmUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocmVzcG9uc2UudHlwZSA9PT0gXCJwb3N0XCIpIHtcbiAgICAgICAgYXdhaXQgY2hhaW4oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3BvbnNlLnR5cGUgPT09IFwiZXh0ZXJuYWwtbGlua1wiKSB7XG4gICAgICAgIGlmIChpc1VSTChyZXNwb25zZS5leHRlcm5hbExpbmspKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwiZXh0ZXJuYWwtbGlua1wiLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBleHRlcm5hbExpbms6IHJlc3BvbnNlLmV4dGVybmFsTGlua1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uTmV4dDogKCkgPT4gY2hhaW4oKSxcbiAgICAgICAgICAgIG9uQ2FuY2VsOiAoKSA9PiBjaGFpbigpXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBjaGFpbigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBcIlNPRlRfUkVTRVRcIiAvKiBTT0ZUX1JFU0VUICovLFxuICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZSA/PyBcIlVua25vd24gZXJyb3IsIHBsZWFzZSB0cnkgYWdhaW5cIlxuICAgICAgfSk7XG4gICAgICBjYWxsYmFja3Mub25BY3Rpb25FcnJvcj8uKGJsaW5rLCBjb21wb25lbnQsIFwidW5rbm93bi1lcnJvclwiKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGRpc2NsYWltZXIgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAob3ZlcmFsbFN0YXRlID09PSBcIm1hbGljaW91c1wiKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcImJsb2NrZWRcIiAvKiBCTE9DS0VEICovLFxuICAgICAgICBpZ25vcmFibGU6IGlzUGFzc2luZ1NlY3VyaXR5Q2hlY2ssXG4gICAgICAgIGhpZGRlbjogZXhlY3V0aW9uU3RhdGUuc3RhdHVzICE9PSBcImJsb2NrZWRcIiAmJiBleGVjdXRpb25TdGF0ZS5zdGF0dXMgIT09IFwiY2hlY2tpbmctc3VwcG9ydGFiaWxpdHlcIixcbiAgICAgICAgb25Ta2lwOiAoKSA9PiBkaXNwYXRjaCh7IHR5cGU6IFwiVU5CTE9DS1wiIC8qIFVOQkxPQ0sgKi8gfSlcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChvdmVyYWxsU3RhdGUgPT09IFwidW5rbm93blwiKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcInVua25vd25cIiAvKiBVTktOT1dOICovLFxuICAgICAgICBpZ25vcmFibGU6IGlzUGFzc2luZ1NlY3VyaXR5Q2hlY2tcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LCBbZXhlY3V0aW9uU3RhdGUuc3RhdHVzLCBpc1Bhc3NpbmdTZWN1cml0eUNoZWNrLCBvdmVyYWxsU3RhdGVdKTtcbiAgY29uc3QgYmxpbmtDYXB0aW9uID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgZXJyb3IgPSBleGVjdXRpb25TdGF0ZS5lcnJvck1lc3NhZ2UgPz8gYmxpbmsuZXJyb3I7XG4gICAgY29uc3QgZ2VuZXJhbE1lc3NhZ2UgPSBleGVjdXRpb25TdGF0ZS5nZW5lcmFsTWVzc2FnZSA/PyBibGluay5tZXNzYWdlO1xuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJlcnJvclwiLCB0ZXh0OiBlcnJvciB9O1xuICAgIH1cbiAgICBpZiAoZXhlY3V0aW9uU3RhdGUuc3VjY2Vzc01lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwic3VjY2Vzc1wiLCB0ZXh0OiBleGVjdXRpb25TdGF0ZS5zdWNjZXNzTWVzc2FnZSB9O1xuICAgIH1cbiAgICBpZiAoZ2VuZXJhbE1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwiZGVmYXVsdFwiLCB0ZXh0OiBnZW5lcmFsTWVzc2FnZSB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSwgW1xuICAgIGV4ZWN1dGlvblN0YXRlLmVycm9yTWVzc2FnZSxcbiAgICBleGVjdXRpb25TdGF0ZS5zdWNjZXNzTWVzc2FnZSxcbiAgICBleGVjdXRpb25TdGF0ZS5nZW5lcmFsTWVzc2FnZSxcbiAgICBibGluay5lcnJvcixcbiAgICBibGluay5tZXNzYWdlXG4gIF0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBMYXlvdXQsXG4gICAge1xuICAgICAgc2VjdXJpdHlTdGF0ZTogb3ZlcmFsbFN0YXRlLFxuICAgICAgd2Vic2l0ZVVybCxcbiAgICAgIHdlYnNpdGVUZXh0LFxuICAgICAgYmxpbmssXG4gICAgICBjb21wb25lbnQ6IHNpbmdsZUNvbXBvbmVudCxcbiAgICAgIGNhcHRpb246IGJsaW5rQ2FwdGlvbixcbiAgICAgIGV4ZWN1dGlvblN0YXR1czogZXhlY3V0aW9uU3RhdGUuc3RhdHVzLFxuICAgICAgZXhlY3V0aW5nQWN0aW9uOiBleGVjdXRpb25TdGF0ZS5leGVjdXRpbmdBY3Rpb24sXG4gICAgICBleGVjdXRlRm46IGV4ZWN1dGUsXG4gICAgICBkaXNjbGFpbWVyLFxuICAgICAgc3VwcG9ydGFiaWxpdHksXG4gICAgICBpZDogYmxpbmsuaWRcbiAgICB9XG4gICk7XG59O1xuZXhwb3J0IHtcbiAgQWJzdHJhY3RBY3Rpb25Db21wb25lbnQsXG4gIEJsaW5rSW5zdGFuY2UgYXMgQWN0aW9uLFxuICBCbGlua3NSZWdpc3RyeSBhcyBBY3Rpb25zUmVnaXN0cnksXG4gIEJsaW5rc1VSTE1hcHBlciBhcyBBY3Rpb25zVVJMTWFwcGVyLFxuICBCQVNFTElORV9CTElOS19CTE9DS0NIQUlOX0lEUyBhcyBCQVNFTElORV9BQ1RJT05fQkxPQ0tDSEFJTl9JRFMsXG4gIEJBU0VMSU5FX0FDVElPTl9WRVJTSU9OLFxuICBCQVNFTElORV9CTElOS19CTE9DS0NIQUlOX0lEUyxcbiAgQkxJTktfQ0xJRU5UX0tFWV9IRUFERVIsXG4gIEJsaW5rQ29udGFpbmVyLFxuICBCbGlua0luc3RhbmNlLFxuICBCbGlua3NSZWdpc3RyeSxcbiAgQmxpbmtzVVJMTWFwcGVyLFxuICBCbG9ja2NoYWluSWRzLFxuICBCdXR0b25BY3Rpb25Db21wb25lbnQsXG4gIERFRkFVTFRfU1VQUE9SVEVEX0JMT0NLQ0hBSU5fSURTLFxuICBEaXNjbGFpbWVyVHlwZSxcbiAgRXhlY3V0aW9uVHlwZSxcbiAgRm9ybUFjdGlvbkNvbXBvbmVudCxcbiAgTUFYX1NVUFBPUlRFRF9BQ1RJT05fVkVSU0lPTixcbiAgTXVsdGlWYWx1ZUFjdGlvbkNvbXBvbmVudCxcbiAgU09MQU5BX0FDVElPTl9QUkVGSVgsXG4gIFNpZ25NZXNzYWdlVmVyaWZpY2F0aW9uRXJyb3JUeXBlLFxuICBTaW5nbGVWYWx1ZUFjdGlvbkNvbXBvbmVudCxcbiAgY2hlY2tTZWN1cml0eSxcbiAgY3JlYXRlU2lnbk1lc3NhZ2VUZXh0LFxuICBkZWZhdWx0QmxpbmtTdXBwb3J0U3RyYXRlZ3kgYXMgZGVmYXVsdEFjdGlvblN1cHBvcnRTdHJhdGVneSxcbiAgZGVmYXVsdEJsaW5rU3VwcG9ydFN0cmF0ZWd5LFxuICBmZXRjaEJsaW5rc1JlZ2lzdHJ5Q29uZmlnIGFzIGZldGNoQWN0aW9uc1JlZ2lzdHJ5Q29uZmlnLFxuICBmZXRjaEJsaW5rTGlzdCxcbiAgZmV0Y2hNZXRhZGF0YSxcbiAgZ2V0QmxpbmtTdXBwb3J0YWJpbGl0eU1ldGFkYXRhLFxuICBnZXRFeHRlbmRlZEJsaW5rU3RhdGUgYXMgZ2V0RXh0ZW5kZWRBY3Rpb25TdGF0ZSxcbiAgZ2V0RXh0ZW5kZWRCbGlua1N0YXRlLFxuICBnZXRFeHRlbmRlZEludGVyc3RpdGlhbFN0YXRlLFxuICBnZXRFeHRlbmRlZFdlYnNpdGVTdGF0ZSxcbiAgaXNCbG9ja2NoYWluU3VwcG9ydGVkLFxuICBpc0ludGVyc3RpdGlhbCxcbiAgaXNQYXJhbWV0ZXJTZWxlY3RhYmxlLFxuICBpc1BhdHRlcm5BbGxvd2VkLFxuICBpc1Byb3hpZmllZCxcbiAgaXNWZXJzaW9uU3VwcG9ydGVkLFxuICBtZXJnZUJsaW5rU3RhdGVzIGFzIG1lcmdlQWN0aW9uU3RhdGVzLFxuICBtZXJnZUJsaW5rU3RhdGVzLFxuICBwYXJzZVNpZ25NZXNzYWdlVGV4dCxcbiAgcHJveGlmeSxcbiAgcHJveGlmeUltYWdlLFxuICBzZXRDbGllbnRLZXksXG4gIHNldFByb3h5VXJsLFxuICB1bmZ1cmxVcmxUb0JsaW5rQXBpVXJsIGFzIHVuZnVybFVybFRvQWN0aW9uQXBpVXJsLFxuICB1bmZ1cmxVcmxUb0JsaW5rQXBpVXJsLFxuICB1c2VBY3Rpb24sXG4gIHVzZUJsaW5rQXBpVXJsIGFzIHVzZUFjdGlvbkFwaVVybCxcbiAgdXNlQmxpbmtzUmVnaXN0cnlJbnRlcnZhbCBhcyB1c2VBY3Rpb25zUmVnaXN0cnlJbnRlcnZhbCxcbiAgdXNlQmxpbmssXG4gIHVzZUJsaW5rQXBpVXJsLFxuICB1c2VCbGlua0xpc3QsXG4gIHVzZUJsaW5rc1JlZ2lzdHJ5SW50ZXJ2YWwsXG4gIHVzZU1ldGFkYXRhLFxuICB2ZXJpZnlTaWduTWVzc2FnZURhdGFcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@dialectlabs/blinks-core/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@dialectlabs/blinks-core/node_modules/nanoid/non-secure/index.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@dialectlabs/blinks-core/node_modules/nanoid/non-secure/index.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   customAlphabet: () => (/* binding */ customAlphabet),\n/* harmony export */   nanoid: () => (/* binding */ nanoid)\n/* harmony export */ });\n/* @ts-self-types=\"./index.d.ts\" */\nlet urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nlet customAlphabet = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = ''\n    let i = size | 0\n    while (i--) {\n      id += alphabet[(Math.random() * alphabet.length) | 0]\n    }\n    return id\n  }\n}\nlet nanoid = (size = 21) => {\n  let id = ''\n  let i = size | 0\n  while (i--) {\n    id += urlAlphabet[(Math.random() * 64) | 0]\n  }\n  return id\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGRpYWxlY3RsYWJzL2JsaW5rcy1jb3JlL25vZGVfbW9kdWxlcy9uYW5vaWQvbm9uLXNlY3VyZS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2JsaW5rLXN0YXJ0ZXItbW9uYWQvLi9ub2RlX21vZHVsZXMvQGRpYWxlY3RsYWJzL2JsaW5rcy1jb3JlL25vZGVfbW9kdWxlcy9uYW5vaWQvbm9uLXNlY3VyZS9pbmRleC5qcz8yZTg3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIEB0cy1zZWxmLXR5cGVzPVwiLi9pbmRleC5kLnRzXCIgKi9cbmxldCB1cmxBbHBoYWJldCA9XG4gICd1c2VhbmRvbS0yNlQxOTgzNDBQWDc1cHhKQUNLVkVSWU1JTkRCVVNIV09MRl9HUVpiZmdoamtscXZ3eXpyaWN0J1xuZXhwb3J0IGxldCBjdXN0b21BbHBoYWJldCA9IChhbHBoYWJldCwgZGVmYXVsdFNpemUgPSAyMSkgPT4ge1xuICByZXR1cm4gKHNpemUgPSBkZWZhdWx0U2l6ZSkgPT4ge1xuICAgIGxldCBpZCA9ICcnXG4gICAgbGV0IGkgPSBzaXplIHwgMFxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIGlkICs9IGFscGhhYmV0WyhNYXRoLnJhbmRvbSgpICogYWxwaGFiZXQubGVuZ3RoKSB8IDBdXG4gICAgfVxuICAgIHJldHVybiBpZFxuICB9XG59XG5leHBvcnQgbGV0IG5hbm9pZCA9IChzaXplID0gMjEpID0+IHtcbiAgbGV0IGlkID0gJydcbiAgbGV0IGkgPSBzaXplIHwgMFxuICB3aGlsZSAoaS0tKSB7XG4gICAgaWQgKz0gdXJsQWxwaGFiZXRbKE1hdGgucmFuZG9tKCkgKiA2NCkgfCAwXVxuICB9XG4gIHJldHVybiBpZFxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@dialectlabs/blinks-core/node_modules/nanoid/non-secure/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@dialectlabs/blinks/dist/chunk-VCTADBOU.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@dialectlabs/blinks/dist/chunk-VCTADBOU.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionContent: () => (/* binding */ ActionContent),\n/* harmony export */   ActionsOnlyBlink: () => (/* binding */ ActionsOnlyBlink),\n/* harmony export */   BaseBlinkLayout: () => (/* binding */ BaseBlinkLayout),\n/* harmony export */   BlinkComponent: () => (/* binding */ BlinkComponent),\n/* harmony export */   Miniblink: () => (/* binding */ Miniblink),\n/* harmony export */   NormalizedActionsOnlyBlinkLayout: () => (/* binding */ NormalizedActionsOnlyBlinkLayout),\n/* harmony export */   NormalizedBaseBlinkLayout: () => (/* binding */ NormalizedBaseBlinkLayout),\n/* harmony export */   NormalizedIsolatedBlinkLayout: () => (/* binding */ NormalizedIsolatedBlinkLayout),\n/* harmony export */   useBaseLayoutPropNormalizer: () => (/* binding */ useBaseLayoutPropNormalizer)\n/* harmony export */ });\n/* harmony import */ var _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @dialectlabs/blinks-core */ \"(ssr)/./node_modules/@dialectlabs/blinks-core/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! clsx */ \"(ssr)/./node_modules/@dialectlabs/blinks/node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! markdown-to-jsx */ \"(ssr)/./node_modules/markdown-to-jsx/dist/index.module.js\");\n// src/ui/hooks/useBaseLayoutPropNormalizer.tsx\n\n\n\n// src/ui/internal/utils.ts\nvar confirmLinkTransition = (url) => {\n  return window.confirm(\n    `This action redirects to another website: ${url}, the link will open in a new tab of your browser`\n  );\n};\n\n// src/ui/hooks/ui-mappers.ts\nvar buttonVariantMap = {\n  \"checking-supportability\": \"default\",\n  blocked: \"default\",\n  idle: \"default\",\n  executing: \"default\",\n  success: \"success\",\n  error: \"error\"\n};\nvar buttonLabelMap = {\n  \"checking-supportability\": \"Loading\",\n  blocked: null,\n  idle: null,\n  executing: \"Executing\",\n  success: \"Completed\",\n  error: \"Failed\"\n};\n\n// src/ui/hooks/useBaseLayoutPropNormalizer.tsx\nvar SOFT_LIMIT_BUTTONS = 10;\nvar SOFT_LIMIT_INPUTS = 3;\nvar SOFT_LIMIT_FORM_INPUTS = 10;\nvar useBaseLayoutPropNormalizer = ({\n  executeFn,\n  executionStatus,\n  executingAction,\n  blink,\n  caption,\n  ...props\n}) => {\n  const buttons = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => blink?.actions.filter((it) => it instanceof _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.ButtonActionComponent).filter((it) => executingAction ? executingAction === it : true).toSpliced(SOFT_LIMIT_BUTTONS) ?? [],\n    [blink, executingAction]\n  );\n  const inputs = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => blink?.actions.filter(\n      (it) => it instanceof _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.SingleValueActionComponent || it instanceof _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.MultiValueActionComponent\n    ).filter((it) => executingAction ? executingAction === it : true).toSpliced(SOFT_LIMIT_INPUTS) ?? [],\n    [blink, executingAction]\n  );\n  const form = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    const [formComponent] = blink?.actions.filter((it) => it instanceof _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.FormActionComponent).filter((it) => executingAction ? executingAction === it : true) ?? [];\n    return formComponent;\n  }, [blink, executingAction]);\n  const asButtonProps = (it) => {\n    return {\n      text: buttonLabelMap[executionStatus] ?? it.label,\n      loading: executionStatus === \"executing\" && (it === executingAction || it.parentComponent === executingAction),\n      disabled: blink.disabled || blink.type === \"completed\" || executionStatus !== \"idle\",\n      variant: buttonVariantMap[blink.type === \"completed\" ? \"success\" : executionStatus],\n      ctaType: (it.type === \"external-link\" || it.type === \"inline-link\") && (executionStatus === \"idle\" || executionStatus === \"blocked\") ? \"link\" : \"button\",\n      onClick: async (params) => {\n        const extra = await executeFn(it.parentComponent ?? it, params);\n        if (!extra) {\n          return;\n        }\n        if (extra.type === \"external-link\") {\n          const result = confirmLinkTransition(extra.data.externalLink);\n          if (result) {\n            window.open(\n              extra.data.externalLink,\n              \"_blank\",\n              \"norefferer,noopener\"\n            );\n            return extra.onNext();\n          }\n          return extra.onCancel?.();\n        }\n      }\n    };\n  };\n  const asInputProps = (it, { placement } = {\n    placement: \"standalone\"\n  }) => {\n    return {\n      type: it.parameter.type ?? \"text\",\n      placeholder: it.parameter.label,\n      disabled: blink.disabled || blink.type === \"completed\" || executionStatus !== \"idle\",\n      name: it.parameter.name,\n      required: it.parameter.required,\n      min: it.parameter.min,\n      max: it.parameter.max,\n      pattern: it instanceof _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.SingleValueActionComponent && (0,_dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.isPatternAllowed)(it.parameter) ? it.parameter.pattern : void 0,\n      options: (0,_dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.isParameterSelectable)(it.parameter) ? it.parameter.options : void 0,\n      description: it.parameter.patternDescription,\n      button: placement === \"standalone\" ? asButtonProps(it.toButtonActionComponent()) : void 0\n    };\n  };\n  const asFormProps = (it) => {\n    return {\n      button: asButtonProps(it.toButtonActionComponent()),\n      inputs: it.parameters.toSpliced(SOFT_LIMIT_FORM_INPUTS).map(\n        (parameter) => asInputProps(it.toInputActionComponent(parameter.name), {\n          placement: \"form\"\n        })\n      )\n    };\n  };\n  const normalizedCaption = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (!caption) {\n      return {};\n    }\n    if (caption.type === \"success\") {\n      return {\n        success: caption.text\n      };\n    }\n    if (caption.type === \"error\") {\n      return {\n        error: caption.text\n      };\n    }\n    if (caption.type === \"default\") {\n      return {\n        message: caption.text\n      };\n    }\n    return {};\n  }, [caption]);\n  return {\n    ...props,\n    title: blink.title,\n    description: blink.description,\n    image: blink.icon,\n    buttons: buttons.map(asButtonProps),\n    inputs: inputs.map((i) => asInputProps(i)),\n    form: form ? asFormProps(form) : void 0,\n    websiteText: (props.websiteText === false ? \"\" : props.websiteText) ?? props.websiteUrl ?? blink.url,\n    shouldShowWebsiteLink: props.websiteText !== false,\n    ...normalizedCaption\n  };\n};\n\n// src/ui/layouts/BaseBlinkLayout.tsx\n\n\n\n\n// src/ui/internal/Badge.tsx\n\n\nvar variantClasses = {\n  error: {\n    container: \"group bg-transparent-error\",\n    text: \"text-text-error group-hover:text-text-error-hover\",\n    icon: \"text-icon-error group-hover:text-icon-error-hover\"\n  },\n  warning: {\n    container: \"group bg-transparent-warning\",\n    text: \"text-text-warning group-hover:text-text-warning-hover\",\n    icon: \"text-icon-warning group-hover:text-icon-warning-hover\"\n  },\n  default: {\n    container: \"group bg-transparent-grey\",\n    text: \"text-text-primary group-hover:text-text-primary-hover\",\n    icon: \"text-icon-primary group-hover:text-icon-primary-hover\"\n  }\n};\nvar Badge = ({\n  variant = \"default\",\n  children,\n  className,\n  icon\n}) => {\n  const { container, icon: iconClassNames, text } = variantClasses[variant];\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n    \"div\",\n    {\n      className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n        container,\n        \"text-subtext inline-flex items-center justify-center gap-1 rounded-full font-semibold leading-none\",\n        className,\n        {\n          \"aspect-square p-1\": !children && icon,\n          \"px-1.5 py-1\": children\n        }\n      ),\n      children: [\n        children && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          \"span\",\n          {\n            className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n              text,\n              \"mt-0.5 transition-colors motion-reduce:transition-none\"\n            ),\n            children\n          }\n        ),\n        icon && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          \"div\",\n          {\n            className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n              iconClassNames,\n              \"transition-colors motion-reduce:transition-none\"\n            ),\n            children: icon\n          }\n        )\n      ]\n    }\n  );\n};\n\n// src/ui/internal/SimpleMarkdown.tsx\n\n\n\nvar LinkWithConfirm = ({\n  href,\n  title,\n  children\n}) => {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    \"a\",\n    {\n      href,\n      className: \"text-text-link hover:text-text-link-hover underline transition-colors motion-reduce:transition-none\",\n      target: \"_blank\",\n      title,\n      onClick: (e) => {\n        if (!confirmLinkTransition(href)) {\n          e.preventDefault();\n        }\n      },\n      rel: \"noopener noreferrer\",\n      children\n    }\n  );\n};\nvar SimpleMarkdown = ({ text }) => {\n  const id = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)();\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n    {\n      options: {\n        disableParsingRawHTML: true,\n        slugify: (str) => `${str}-${id}`,\n        // @ts-expect-error - return type ReactChild is deprecated, assuming ReactNode\n        renderRule(next, node, renderChildren, state) {\n          switch (node.type) {\n            case markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__.RuleType.image:\n              return null;\n            case markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__.RuleType.gfmTask:\n              return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"mb-[0.125em] inline-block\", children: node.completed ? \"\\u2705\" : \"\\u2B1C\" });\n            case markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__.RuleType.link:\n              const sanitizedHref = (0,markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__.sanitizer)(node.target);\n              if (sanitizedHref) {\n                return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                  LinkWithConfirm,\n                  {\n                    href: sanitizedHref,\n                    title: node.title,\n                    children: renderChildren(node.children, state)\n                  },\n                  state.key\n                );\n              }\n              return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { children: renderChildren(node.children, state) }, state.key);\n            case markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__.RuleType.heading:\n            case markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__.RuleType.paragraph:\n              return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"p\", { className: \"mb-[0.35em] last:mb-0\", children: renderChildren(node.children, state) }, state.key);\n            case markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__.RuleType.blockQuote:\n              return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"blockquote\", { className: \"mb-[0.35em] last:mb-0\", children: renderChildren(node.children, state) }, state.key);\n            case markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__.RuleType.codeBlock:\n              return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"pre\", { className: \"text-wrap\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"code\", { children: node.text }) }, state.key);\n            case markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__.RuleType.orderedList:\n              return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                \"ol\",\n                {\n                  className: \"list-inside list-decimal [li>&]:ps-4\",\n                  children: node.items.map((item, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"li\", { children: renderChildren(item, state) }, index))\n                },\n                state.key\n              );\n            case markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__.RuleType.unorderedList:\n              return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                \"ul\",\n                {\n                  className: \"list-inside list-disc [li>&]:ps-4\",\n                  children: node.items.map((item, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"li\", { children: renderChildren(item, state) }, index))\n                },\n                state.key\n              );\n            case markdown_to_jsx__WEBPACK_IMPORTED_MODULE_4__.RuleType.breakThematic:\n              return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"hr\", { className: \"my-[0.5em]\" }, state.key);\n            default:\n              return next();\n          }\n        }\n      },\n      children: text\n    }\n  );\n};\n\n// src/ui/internal/Snackbar.tsx\n\n\nvar variantClasses2 = {\n  error: \"bg-transparent-error text-text-error border-stroke-error\",\n  warning: \"bg-transparent-warning text-text-warning border-stroke-warning\"\n};\nvar Snackbar = ({ variant = \"warning\", children }) => {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    \"div\",\n    {\n      className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n        variantClasses2[variant],\n        \"rounded-lg border p-3 text-subtext\"\n      ),\n      children\n    }\n  );\n};\n\n// src/ui/internal/icons/CheckIcon.tsx\n\nvar CheckIcon = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 17,\n    height: 16,\n    viewBox: \"0 0 17 16\",\n    fill: \"none\",\n    ...props,\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      \"path\",\n      {\n        d: \"M15.348 3.509a.984.984 0 010 1.437l-8.173 8.172a.984.984 0 01-1.437 0L1.652 9.032a.984.984 0 010-1.437.984.984 0 011.437 0l3.384 3.353 7.438-7.439a.984.984 0 011.437 0z\",\n        fill: \"currentColor\"\n      }\n    )\n  }\n);\n\n// src/ui/internal/icons/ConfigIcon.tsx\n\nvar ConfigIcon = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ...props,\n    children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"path\",\n        {\n          fill: \"currentColor\",\n          d: \"M7.037 8.108a2.65 2.65 0 1 1 1.07-1.071 1.522 1.522 0 0 1 1.553.094 1.523 1.523 0 0 1 1.498-1.239h.398v-.49a.666.666 0 0 0-.55-.653l-.866-.151a4.488 4.488 0 0 0-.447-1.078l.505-.72a.666.666 0 0 0-.076-.84l-.519-.528a.666.666 0 0 0-.852-.074l-.72.505a4.482 4.482 0 0 0-1.078-.447L6.802.55A.666.666 0 0 0 6.149 0h-.735a.666.666 0 0 0-.653.55l-.152.866a4.48 4.48 0 0 0-1.078.447l-.726-.505a.666.666 0 0 0-.846.074l-.527.527a.666.666 0 0 0-.074.854l.505.72c-.195.338-.346.7-.447 1.078l-.866.151a.666.666 0 0 0-.55.654v.734a.666.666 0 0 0 .55.653l.866.152c.101.377.251.74.447 1.078l-.505.716a.666.666 0 0 0 .074.854l.527.52a.666.666 0 0 0 .854.075l.72-.505c.338.195.7.346 1.078.447l.151.866a.666.666 0 0 0 .654.55h.49v-.398A1.523 1.523 0 0 1 7.143 9.66a1.522 1.522 0 0 1-.107-1.552ZM16 11.158v.578a.524.524 0 0 1-.434.509l-.683.12a3.53 3.53 0 0 1-.352.86l.398.568a.524.524 0 0 1-.059.672l-.41.41a.524.524 0 0 1-.672.059l-.563-.403a3.537 3.537 0 0 1-.85.352l-.13.683a.524.524 0 0 1-.51.434h-.577a.524.524 0 0 1-.518-.434l-.12-.683a3.536 3.536 0 0 1-.848-.352l-.568.398a.525.525 0 0 1-.673-.059l-.41-.41a.524.524 0 0 1-.059-.672l.4-.563a3.535 3.535 0 0 1-.352-.85l-.683-.13a.524.524 0 0 1-.434-.518v-.57a.524.524 0 0 1 .434-.517l.683-.12a3.54 3.54 0 0 1 .352-.848l-.398-.567a.524.524 0 0 1 .059-.672l.41-.41a.524.524 0 0 1 .672-.059l.567.398c.266-.154.552-.272.849-.352l.119-.683a.524.524 0 0 1 .518-.434h.578a.524.524 0 0 1 .509.434l.12.683c.3.079.59.197.86.352l.566-.398a.524.524 0 0 1 .673.059l.41.41a.524.524 0 0 1 .058.672l-.401.567c.154.266.272.552.352.849l.683.119a.524.524 0 0 1 .434.518Zm-2.991.289a1.563 1.563 0 1 0-3.126 0 1.563 1.563 0 0 0 3.126 0Z\"\n        }\n      ),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"path\",\n        {\n          fill: \"currentColor\",\n          d: \"M6.886 5.777a1.105 1.105 0 1 1-2.21 0 1.105 1.105 0 0 1 2.21 0Z\"\n        }\n      )\n    ]\n  }\n);\n\n// src/ui/internal/icons/DeepLinkIcon.tsx\n\nvar DeepLinkIcon = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 10,\n    height: 10,\n    fill: \"none\",\n    viewBox: \"0 0 10 10\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ...props,\n    children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"path\",\n        {\n          fill: \"currentColor\",\n          d: \"M2.5 1h1.793v1H2.5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 .5-.5V5.707h1V7.5A1.5 1.5 0 0 1 7.5 9h-5A1.5 1.5 0 0 1 1 7.5v-5A1.5 1.5 0 0 1 2.5 1Z\"\n        }\n      ),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"path\",\n        {\n          fill: \"currentColor\",\n          d: \"M9 4H8V2.708l-3 3L4.293 5l3-3H6V1h2.5a.5.5 0 0 1 .5.5V4Z\"\n        }\n      )\n    ]\n  }\n);\n\n// src/ui/internal/icons/DialectLogo.tsx\n\nvar DialectLogo = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 63,\n    height: 12,\n    viewBox: \"0 0 63 12\",\n    fill: \"none\",\n    ...props,\n    children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"path\",\n        {\n          fill: \"currentColor\",\n          d: \"M1.26 8.696C.911 7.467.957 5.198.957 5.198s1.27 2.048 3.459 2.688c1.613.472 3.833.508 5.23-.123 1.692-.555 2.742-2.281 2.246-3.515-.728-1.814-2.846-2.532-5.055-2.36a6.541 6.541 0 0 0-3.922 1.741c-.826.79-1.034 1.425-1.034 1.425s-.644-.687-.722-1.425C.98 1.936 2.502.617 4.672.161c2.939-.618 6.391.582 8.276 2.93 1.303 1.623 1.665 3.824.588 5.72-1.613 2.837-5.205 3.399-7.53 3.128-2.327-.27-4.354-1.851-4.747-3.243ZM27.733 11.268v-7.72h2.433v7.72h-2.433ZM28.956 2.647a1.24 1.24 0 0 1-.88-.34 1.103 1.103 0 0 1-.368-.837c0-.32.123-.595.368-.823.246-.229.537-.347.88-.347.343 0 .64.118.88.347.245.228.368.503.368.823 0 .327-.123.602-.368.837a1.24 1.24 0 0 1-.88.34Z\"\n        }\n      ),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"path\",\n        {\n          fill: \"currentColor\",\n          fillRule: \"evenodd\",\n          d: \"M22.063 11.268H18.3V.974h3.758c1.035 0 1.934.209 2.678.62.75.412 1.332 1 1.74 1.772.407.764.614 1.686.614 2.751 0 1.072-.207 1.994-.614 2.765a4.218 4.218 0 0 1-1.734 1.772c-.75.405-1.643.614-2.678.614Zm-1.3-2.124h1.21c.569 0 1.054-.098 1.449-.294.4-.196.698-.517.899-.961.207-.445.31-1.04.31-1.778 0-.739-.103-1.327-.31-1.771-.207-.445-.511-.759-.912-.955-.401-.196-.886-.294-1.475-.294h-1.17v6.053ZM31.86 11.15a3.23 3.23 0 0 0 1.3.249c.356 0 .673-.046.958-.138a2.22 2.22 0 0 0 .743-.405c.214-.183.388-.405.524-.66h.058v1.079h2.29V6.018a2.3 2.3 0 0 0-.252-1.091 2.26 2.26 0 0 0-.705-.804 3.404 3.404 0 0 0-1.074-.503 4.894 4.894 0 0 0-1.345-.177c-.686 0-1.268.105-1.753.32-.485.21-.867.504-1.145.876a2.626 2.626 0 0 0-.51 1.255l2.244.079a.897.897 0 0 1 .375-.582c.194-.144.453-.21.776-.21.297 0 .537.073.711.21.19.156.266.379.266.62a.418.418 0 0 1-.182.367c-.116.085-.31.15-.575.196a13.93 13.93 0 0 1-1.048.124c-.388.033-.75.098-1.093.196-.343.092-.64.236-.906.419a1.885 1.885 0 0 0-.614.719c-.149.294-.226.653-.226 1.085 0 .51.11.934.323 1.274.188.34.485.588.86.758Zm2.755-1.523a1.557 1.557 0 0 1-.705.164c-.278 0-.51-.066-.692-.203-.18-.137-.271-.327-.271-.582a.72.72 0 0 1 .123-.43.906.906 0 0 1 .368-.302c.162-.078.356-.137.589-.17.11-.02.233-.032.356-.052.123-.02.239-.046.355-.072a2.59 2.59 0 0 0 .57-.183v.732c0 .249-.065.47-.188.66a1.275 1.275 0 0 1-.505.438Z\",\n          clipRule: \"evenodd\"\n        }\n      ),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"path\",\n        {\n          fill: \"currentColor\",\n          d: \"M40.844.974v10.294h-2.432V.974h2.432ZM51.283 10.909c.576.333 1.268.503 2.076.503.718 0 1.333-.13 1.857-.392.524-.268.931-.634 1.216-1.112.29-.477.446-1.032.472-1.666h-2.27a1.779 1.779 0 0 1-.214.693 1.13 1.13 0 0 1-.433.424 1.182 1.182 0 0 1-.595.144c-.285 0-.53-.078-.744-.235-.214-.163-.375-.399-.498-.706-.117-.314-.175-.7-.175-1.157 0-.457.058-.837.175-1.144.116-.313.285-.549.498-.706.213-.163.46-.241.744-.241.349 0 .627.11.847.34.22.222.35.535.401.928h2.27c-.019-.634-.174-1.183-.472-1.654a2.985 2.985 0 0 0-1.235-1.098c-.524-.255-1.139-.386-1.844-.386-.802 0-1.487.17-2.063.503a3.373 3.373 0 0 0-1.326 1.406c-.31.595-.466 1.287-.466 2.078 0 .785.156 1.484.466 2.079a3.25 3.25 0 0 0 1.313 1.399Z\"\n        }\n      ),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"path\",\n        {\n          fill: \"currentColor\",\n          fillRule: \"evenodd\",\n          d: \"M45.285 11.412c-.801 0-1.487-.157-2.07-.477a3.269 3.269 0 0 1-1.332-1.373c-.31-.595-.465-1.307-.465-2.124 0-.798.155-1.497.465-2.092.31-.601.75-1.065 1.32-1.399.569-.333 1.235-.503 2.005-.503a4.22 4.22 0 0 1 1.494.255c.453.17.84.425 1.17.758.33.334.583.752.764 1.242.181.49.272 1.053.272 1.687V8h-5.09v.065c0 .314.058.589.18.83.123.236.298.419.524.55.227.13.492.195.809.195.213 0 .414-.032.588-.091.175-.059.324-.15.453-.268.123-.118.22-.261.285-.431l2.231.065c-.09.503-.297.948-.614 1.32-.31.373-.718.66-1.23.87-.51.202-1.092.307-1.758.307Zm1.365-4.85c-.006-.261-.045-.464-.161-.667a1.356 1.356 0 0 0-.511-.503 1.403 1.403 0 0 0-.712-.177 1.43 1.43 0 0 0-.73.184 1.339 1.339 0 0 0-.512.496 1.436 1.436 0 0 0-.2.667h2.826Z\",\n          clipRule: \"evenodd\"\n        }\n      ),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"path\",\n        {\n          fill: \"currentColor\",\n          d: \"M61.901 3.549v1.81h-1.377v3.484c0 .15.026.275.07.366a.444.444 0 0 0 .214.196c.09.04.207.052.337.052.09 0 .187-.006.29-.026.104-.02.188-.039.24-.052l.369 1.771c-.117.033-.278.079-.492.124a3.82 3.82 0 0 1-.75.099c-.57.026-1.06-.04-1.468-.203a1.907 1.907 0 0 1-.932-.765c-.213-.346-.317-.778-.31-1.3V5.353h-1.01V3.549h1.01v-1.85h2.432v1.85H61.9Z\"\n        }\n      )\n    ]\n  }\n);\n\n// src/ui/internal/icons/ExclamationShieldIcon.tsx\n\n\nvar ExclamationShieldIcon = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ...props,\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      \"path\",\n      {\n        fill: \"currentColor\",\n        fillRule: \"evenodd\",\n        d: \"m8.38 1.087 5.483 2.334c.641.291 1.137.904 1.137 1.662-.03 2.916-1.225 8.195-6.241 10.616a1.794 1.794 0 0 1-1.546 0c-5.016-2.42-6.212-7.7-6.212-10.616-.029-.758.467-1.37 1.108-1.662l5.483-2.334a.932.932 0 0 1 .788 0Zm-1.313 10.29c0 .524.408.933.933.933a.94.94 0 0 0 .933-.934.96.96 0 0 0-.933-.933.94.94 0 0 0-.933.934ZM8 4.109a.9.9 0 0 0-.9.9v3.606a.9.9 0 0 0 1.8 0V5.01a.9.9 0 0 0-.9-.9Z\",\n        clipRule: \"evenodd\"\n      }\n    )\n  }\n);\n\n// src/ui/internal/icons/InfoShieldIcon.tsx\n\n\nvar InfoShieldIcon = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ...props,\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      \"path\",\n      {\n        fill: \"currentColor\",\n        fillRule: \"evenodd\",\n        d: \"M13.863 3.42 8.38 1.088a.932.932 0 0 0-.787 0L2.108 3.421c-.641.291-1.137.904-1.108 1.662 0 2.916 1.196 8.195 6.212 10.616.496.233 1.05.233 1.546 0 5.016-2.42 6.212-7.7 6.241-10.616 0-.758-.496-1.37-1.137-1.662Zm-6.33 7.35h-.582a.69.69 0 0 0-.7.7c0 .408.292.7.7.7h2.216c.379 0 .7-.292.7-.7 0-.38-.321-.7-.7-.7h-.234V8.204c0-.38-.32-.7-.7-.7H7.208a.69.69 0 0 0-.7.7c0 .408.292.7.7.7h.326v1.866Zm-.466-5.133c0 .525.408.933.933.933a.94.94 0 0 0 .933-.933A.96.96 0 0 0 8 4.704a.94.94 0 0 0-.933.933Z\",\n        clipRule: \"evenodd\"\n      }\n    )\n  }\n);\n\n// src/ui/internal/icons/LinkIcon.tsx\n\n\nvar LinkIcon = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ...props,\n    children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"g\", { fill: \"currentColor\", clipPath: \"url(#a)\", children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"path\", { d: \"M7.409 9.774 9.774 7.41a.836.836 0 1 0-1.183-1.183L6.226 8.592A.836.836 0 1 0 7.41 9.774Z\" }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"path\", { d: \"M10.76.503A4.709 4.709 0 0 0 7.41 1.889L5.83 3.467A.836.836 0 1 0 7.014 4.65L8.59 3.072a3.067 3.067 0 0 1 4.338 4.337L11.35 8.987a.835.835 0 1 0 1.182 1.182l1.578-1.577a4.738 4.738 0 0 0-3.35-8.09ZM5.24 15.497a4.706 4.706 0 0 0 3.351-1.386l1.578-1.577a.836.836 0 1 0-1.182-1.183l-1.578 1.578a3.067 3.067 0 1 1-4.337-4.337L4.65 7.014A.836.836 0 1 0 3.467 5.83L1.889 7.41a4.737 4.737 0 0 0 3.351 8.088Z\" })\n      ] }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"defs\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"clipPath\", { id: \"a\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"path\", { fill: \"#fff\", d: \"M0 0h16v16H0z\" }) }) })\n    ]\n  }\n);\n\n// src/ui/internal/icons/SpinnerDots.tsx\n\n\nvar POINTS = [0, 45, 90, 135, 180, 225, 270, 315];\nvar SpinnerDots = ({\n  width = 16\n}) => {\n  const dots = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => POINTS.map((point, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      \"circle\",\n      {\n        cy: 12,\n        cx: 12,\n        r: 4,\n        transform: `rotate(${point}, 24, 24)`,\n        fillOpacity: index < 2 ? 0 : 1\n      },\n      point\n    )),\n    []\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"style\", { children: \"@keyframes spin{to{transform:rotate(360deg)}}\" }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      \"svg\",\n      {\n        viewBox: \"0 0 48 48\",\n        width,\n        fill: \"currentColor\",\n        \"data-testid\": \"rotating-dots-svg\",\n        \"aria-label\": \"rotating-dots-loading\",\n        style: {\n          animationDuration: \"1s\",\n          animation: \"spin 1s steps(8, end) infinite\"\n        },\n        children: dots\n      }\n    )\n  ] });\n};\n\n// src/ui/internal/Button.tsx\n\n\nvar Button = ({\n  onClick,\n  disabled,\n  variant = \"default\",\n  children,\n  ctaType = \"button\",\n  className\n}) => {\n  const isLink = ctaType === \"link\";\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n    \"button\",\n    {\n      className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n        \"rounded-button text-text h-input-height relative flex w-full items-center justify-center text-nowrap px-4 py-3 font-semibold transition-colors motion-reduce:transition-none\",\n        {\n          \"px-5\": isLink,\n          \"bg-button-disabled text-text-button-disabled\": disabled && variant !== \"success\",\n          \"bg-button text-text-button hover:bg-button-hover\": !disabled && variant !== \"success\",\n          \"bg-button-success text-text-button-success\": variant === \"success\"\n          // success is likely to be always disabled\n        },\n        className\n      ),\n      disabled,\n      onClick,\n      children: [\n        children,\n        isLink && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"absolute right-2 top-2\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          DeepLinkIcon,\n          {\n            className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"h-2.5 w-2.5\", {\n              \"text-text-button-disabled\": disabled && variant !== \"success\",\n              \"text-text-button\": !disabled && variant !== \"success\",\n              \"text-text-button-success\": variant === \"success\"\n              // success is likely to be always disabled\n            })\n          }\n        ) })\n      ]\n    }\n  );\n};\n\n// src/ui/internal/inputs/ActionButton.tsx\n\nvar ActionButton = ({\n  text,\n  loading,\n  disabled,\n  variant,\n  onClick,\n  ctaType\n}) => {\n  const ButtonContent = () => {\n    if (loading)\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"span\", { className: \"flex flex-row items-center justify-center gap-2 text-nowrap\", children: [\n        text,\n        \" \",\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(SpinnerDots, {})\n      ] });\n    if (variant === \"success\")\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"span\", { className: \"flex flex-row items-center justify-center gap-2 text-nowrap\", children: [\n        text,\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(CheckIcon, {})\n      ] });\n    return text;\n  };\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    Button,\n    {\n      onClick: () => onClick(),\n      disabled,\n      variant,\n      ctaType,\n      className: \"blink-action-button\",\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"min-w-0 truncate\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ButtonContent, {}) })\n    }\n  );\n};\n\n// src/ui/internal/inputs/ActionCheckboxGroup.tsx\n\n\n\n// src/ui/internal/Checkbox.tsx\n\n\n\n// src/ui/internal/icons/CheckboxCheckIcon.tsx\n\nvar SvgComponent = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ...props,\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      \"path\",\n      {\n        fill: \"currentColor\",\n        fillRule: \"evenodd\",\n        d: \"M12.6 5.398a.85.85 0 0 1-.001 1.202l-4.784 4.773a.85.85 0 0 1-1.193.008L3.934 8.77a.85.85 0 0 1 1.184-1.22l2.088 2.027 4.192-4.182a.85.85 0 0 1 1.202.002Z\",\n        clipRule: \"evenodd\"\n      }\n    )\n  }\n);\nvar CheckboxCheckIcon_default = SvgComponent;\n\n// src/ui/internal/Checkbox.tsx\n\nvar Checkbox = ({\n  label,\n  value,\n  onChange,\n  name,\n  disabled,\n  inputValue\n}) => {\n  const id = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)();\n  const labelId = `${id}_label`;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n    \"button\",\n    {\n      className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"flex h-full gap-2.5\", {\n        \"cursor-pointer\": !disabled,\n        \"cursor-not-allowed\": disabled\n      }),\n      onClick: () => !disabled && onChange(!value),\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: \"flex h-full items-center\", children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n            \"input\",\n            {\n              type: \"checkbox\",\n              name,\n              className: \"hidden\",\n              defaultValue: inputValue\n            }\n          ),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n            \"span\",\n            {\n              role: \"checkbox\",\n              id,\n              \"aria-labelledby\": labelId,\n              className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n                \"mt-0.5 flex aspect-square h-[16px] items-center justify-center rounded-lg border transition-colors motion-reduce:transition-none\",\n                {\n                  \"border-input-stroke bg-input-bg\": !value && !disabled,\n                  \"border-input-stroke-selected bg-input-bg-selected\": value && !disabled,\n                  \"border-input-stroke-disabled bg-input-bg\": !value && disabled,\n                  \"border-input-stroke-disabled bg-input-bg-disabled\": value && disabled\n                }\n              ),\n              children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                CheckboxCheckIcon_default,\n                {\n                  className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"h-full w-full text-input-bg\", {\n                    block: value,\n                    hidden: !value\n                  })\n                }\n              )\n            }\n          )\n        ] }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          \"label\",\n          {\n            className: \"cursor-[inherit] text-text text-text-input\",\n            id: labelId,\n            children: label\n          }\n        )\n      ]\n    }\n  );\n};\n\n// src/ui/internal/inputs/utils.ts\nvar buildDefaultTextDescription = ({\n  min,\n  max\n}) => {\n  if (min && max) return `Type between ${min} and ${max} characters`;\n  if (min) return `Type minimum ${min} characters`;\n  if (max) return `Type maximum ${max} characters`;\n  return null;\n};\nvar buildDefaultNumberDescription = ({\n  min,\n  max\n}) => {\n  if (min && max) return `Enter a number between ${min} and ${max}`;\n  if (min) return `Enter a number greater than ${min}`;\n  if (max) return `Enter a number less than ${max}`;\n  return null;\n};\nvar buildDefaultDateDescription = ({\n  min,\n  max,\n  includeTime\n}) => {\n  const minDate = min ? new Date(min) : null;\n  const maxDate = max ? new Date(max) : null;\n  const formatter = new Intl.DateTimeFormat(\"en\", {\n    year: \"numeric\",\n    month: \"numeric\",\n    day: \"numeric\",\n    hour: includeTime ? \"numeric\" : void 0,\n    minute: includeTime ? \"numeric\" : void 0\n  });\n  if (minDate && maxDate)\n    return `Pick a date between ${formatter.format(minDate)} and ${formatter.format(maxDate)}`;\n  if (minDate) return `Pick a date after ${formatter.format(minDate)}`;\n  if (maxDate) return `Pick a date before ${formatter.format(maxDate)}`;\n  return null;\n};\nvar buildDefaultCheckboxGroupDescription = ({\n  min,\n  max\n}) => {\n  if (min && max) return `Select between ${min} and ${max} options`;\n  if (min) return `Select minimum ${min} options`;\n  if (max) return `Select maximum ${max} options`;\n  return null;\n};\n\n// src/ui/internal/inputs/ActionCheckboxGroup.tsx\n\nvar validate = (values, { required, min, max }) => {\n  if (required && !values.length) {\n    return false;\n  }\n  if (min && values.length < min) {\n    return false;\n  }\n  if (max && values.length > max) {\n    return false;\n  }\n  return true;\n};\nvar normalizeValue = (value) => {\n  return Object.entries(value).filter(([, v]) => v).map(([k]) => k);\n};\nvar ActionCheckboxGroup = ({\n  placeholder: label,\n  // in base inputs it's placeholder, for selectables - label\n  name,\n  button,\n  disabled,\n  onChange,\n  onValidityChange,\n  min,\n  max,\n  description,\n  options = [],\n  required\n}) => {\n  const minChoices = min;\n  const maxChoices = max;\n  const isStandalone = !!button;\n  const finalDescription = description || buildDefaultCheckboxGroupDescription({\n    min: minChoices,\n    max: maxChoices\n  });\n  const hasInitiallySelectedOption = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => options.find((option) => option.selected),\n    [options]\n  );\n  const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n    value: Object.fromEntries(\n      options.map((option) => [option.value, option.selected ?? false])\n    ),\n    valid: isStandalone ? !!hasInitiallySelectedOption : !(required && !hasInitiallySelectedOption)\n  });\n  const [touched, setTouched] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    onValidityChange?.(state.valid);\n  }, []);\n  const extendedChange = (name2, value) => {\n    setState((prev) => {\n      const newValue = { ...prev.value, [name2]: value };\n      const normalizedValue2 = normalizeValue(newValue);\n      onChange?.(normalizedValue2);\n      const validity = validate(normalizedValue2, {\n        required: isStandalone,\n        min: minChoices,\n        max: maxChoices\n      });\n      onValidityChange?.(validity);\n      return {\n        value: newValue,\n        valid: validity\n      };\n    });\n    setTouched(true);\n  };\n  const normalizedValue = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => normalizeValue(state.value),\n    [state.value]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n    \"div\",\n    {\n      className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"blink-input py-1.5\", {\n        \"bg-bg-secondary rounded-input px-1.5 pt-2\": isStandalone\n      }),\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(isStandalone && \"px-2\"), children: [\n          label && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className: \"blink-input-label mb-1\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"label\", { className: \"text-subtext text-text-input block font-semibold\", children: [\n            label,\n            required && !isStandalone ? \"*\" : \"\"\n          ] }) }),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n            \"div\",\n            {\n              className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"pt-2\", {\n                \"flex flex-col gap-3\": !isStandalone,\n                \"grid grid-cols-2 gap-x-4 gap-y-5\": isStandalone\n              }),\n              children: options.map((option) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                \"div\",\n                {\n                  className: \"inline-flex\",\n                  children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                    Checkbox,\n                    {\n                      label: option.label,\n                      value: state.value[option.value],\n                      inputValue: option.value,\n                      onChange: (value) => extendedChange(option.value, value),\n                      name,\n                      disabled\n                    }\n                  )\n                },\n                `${option.value}_${option.label}`\n              ))\n            }\n          )\n        ] }),\n        isStandalone && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className: \"mt-4\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          ActionButton,\n          {\n            ...button,\n            onClick: () => button.onClick({ [name]: normalizedValue }),\n            disabled: button.disabled || !normalizedValue.length || !state.valid\n          }\n        ) }),\n        finalDescription && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          \"div\",\n          {\n            className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n              \"blink-input-description text-caption\",\n              touched && !state.valid ? \"text-text-error\" : \"text-text-secondary\",\n              isStandalone ? \"mb-2 mt-2.5 px-2\" : \"mt-3\"\n            ),\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(SimpleMarkdown, { text: finalDescription })\n          }\n        )\n      ]\n    }\n  );\n};\n\n// src/ui/internal/inputs/ActionDateInput.tsx\n\n\n// src/ui/internal/icons/CalendarIcon.tsx\n\nvar SvgComponent2 = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ...props,\n    children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"g\", { clipPath: \"url(#a)\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"path\",\n        {\n          fill: \"currentColor\",\n          fillRule: \"evenodd\",\n          d: \"M5.805 1.232a.732.732 0 1 0-1.464 0v.37c-.362.006-.685.019-.969.048-.526.055-1.004.174-1.428.468-.29.2-.54.451-.741.74-.294.425-.412.902-.467 1.429-.049.462-.053 1.026-.053 1.7V10.43c0 .99 0 1.808.087 2.454.091.68.29 1.279.77 1.759.48.48 1.08.679 1.759.77.646.087 1.463.087 2.454.087h4.494c.99 0 1.808 0 2.454-.087.68-.091 1.279-.29 1.759-.77.48-.48.679-1.08.77-1.759.087-.646.087-1.463.087-2.454V5.988c0-.675-.004-1.239-.053-1.701-.055-.527-.173-1.004-.467-1.428-.2-.29-.452-.54-.741-.741-.425-.294-.902-.413-1.428-.468-.284-.03-.607-.042-.97-.048v-.37a.732.732 0 0 0-1.463 0v.366h-4.39v-.366Zm8.049 4.756c-.001-.685-.006-1.17-.045-1.55-.043-.406-.12-.607-.215-.746-.1-.145-.226-.27-.371-.37-.14-.097-.34-.174-.747-.216a9.532 9.532 0 0 0-.818-.04v.36a.732.732 0 0 1-1.463 0v-.365h-4.39v.366a.732.732 0 1 1-1.464 0v-.361c-.324.005-.59.016-.817.04-.407.042-.608.119-.747.215-.145.1-.27.226-.37.37-.097.14-.173.34-.216.748-.04.379-.044.864-.045 1.549h11.707ZM2.146 7.45v2.927c0 1.056.002 1.774.074 2.311.07.517.192.756.355.919.163.163.402.285.919.355.537.072 1.255.074 2.31.074h4.391c1.056 0 1.774-.002 2.311-.074.517-.07.756-.192.919-.355.163-.163.285-.402.355-.919.072-.537.074-1.255.074-2.311V7.451H2.146Z\",\n          clipRule: \"evenodd\"\n        }\n      ) }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"defs\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"clipPath\", { id: \"a\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"path\", { fill: \"#fff\", d: \"M0 0h16v16H0z\" }) }) })\n    ]\n  }\n);\nvar CalendarIcon_default = SvgComponent2;\n\n// src/ui/internal/inputs/BaseInputContainer.tsx\n\n\n\nvar BaseInputContainer = ({\n  children,\n  leftAdornment,\n  rightAdornment,\n  footer,\n  description,\n  standalone = true,\n  className\n}) => {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n      \"div\",\n      {\n        className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n          \"blink-input border-input-stroke min-h-input-height peer relative box-border flex flex-wrap items-center gap-1.5 gap-y-2 border px-1.5 transition-colors motion-reduce:transition-none\",\n          // focus, invalid, required\n          \"focus-within:has-[:invalid]:border-input-stroke-error focus-within:has-[:valid]:border-input-stroke-selected focus-within:hover:has-[:invalid]:border-input-stroke-error focus-within:hover:has-[:valid]:border-input-stroke-selected\",\n          // enabled,\n          \"hover:has-[:enabled]:border-input-stroke-hover\",\n          { \"py-1.5\": !!rightAdornment },\n          standalone ? \"rounded-input-standalone\" : \"rounded-input\",\n          className\n        ),\n        children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: \"flex min-w-0 flex-[10] basis-1/2 items-center gap-1.5 pl-2.5\", children: [\n            leftAdornment && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className: \"blink-input-left-adornment\", children: leftAdornment }),\n            (0,react__WEBPACK_IMPORTED_MODULE_1__.cloneElement)(children, {\n              className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n                \"blink-input-inner bg-input-bg text-text-input placeholder:text-text-input-placeholder disabled:text-text-input-disabled min-h-7 min-w-0 flex-1 truncate outline-none\",\n                children.props.className\n              )\n            })\n          ] }),\n          rightAdornment && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className: \"blink-input-right-adornment max-w-full flex-1 whitespace-nowrap\", children: rightAdornment })\n        ]\n      }\n    ),\n    footer && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className: \"blink-input-footer mt-2\", children: footer }),\n    description && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className: \"blink-input-description text-caption text-text-secondary peer-[:focus-within:has(:invalid)]:text-text-error mt-1.5 font-medium\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(SimpleMarkdown, { text: description }) })\n  ] });\n};\n\n// src/ui/internal/inputs/ActionDateInput.tsx\n\nvar ActionDateInput = ({\n  type = \"date\",\n  placeholder,\n  name,\n  button,\n  disabled,\n  onChange,\n  onValidityChange,\n  pattern,\n  min,\n  max,\n  description,\n  required\n}) => {\n  const id = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)();\n  const isStandalone = !!button;\n  const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n  const [isValid, setValid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!isStandalone && !required);\n  const [touched, setTouched] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const minDate = min;\n  const maxDate = max;\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    onValidityChange?.(isValid);\n  }, []);\n  const extendedChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (e) => {\n      const value2 = e.currentTarget.value;\n      const validity = e.currentTarget.checkValidity();\n      setValue(value2);\n      setValid(validity);\n      onChange?.(value2);\n      onValidityChange?.(validity);\n    },\n    [onChange, onValidityChange]\n  );\n  const placeholderWithRequired = (placeholder || \"Enter a date\") + (required && !isStandalone ? \"*\" : \"\");\n  const validationProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => ({\n      min: minDate,\n      max: maxDate,\n      pattern,\n      title: description\n    }),\n    [minDate, maxDate, pattern, description]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    BaseInputContainer,\n    {\n      className: \"blink-input-date\",\n      standalone: isStandalone,\n      description: description ?? buildDefaultDateDescription({ min: minDate, max: maxDate }),\n      leftAdornment: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"label\", { htmlFor: id, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(CalendarIcon_default, { className: \"text-icon-primary\" }) }),\n      rightAdornment: button ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        ActionButton,\n        {\n          ...button,\n          onClick: () => button.onClick({ [name]: value }),\n          disabled: button.disabled || value === \"\" || !isValid\n        }\n      ) : null,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"input\",\n        {\n          id,\n          type: pattern || !touched ? \"text\" : type,\n          placeholder: placeholderWithRequired,\n          value,\n          onChange: extendedChange,\n          onFocus: () => setTouched(true),\n          ...validationProps,\n          required: button ? true : required,\n          disabled\n        }\n      )\n    }\n  );\n};\n\n// src/ui/internal/inputs/ActionEmailInput.tsx\n\n\n// src/ui/internal/icons/EmailIcon.tsx\n\nvar SvgComponent3 = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ...props,\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      \"path\",\n      {\n        fill: \"currentColor\",\n        fillRule: \"evenodd\",\n        d: \"M1.361 2.685a.764.764 0 0 0-.157.227A2.986 2.986 0 0 0 .75 4.5v7a3 3 0 0 0 3 3h8.5a3 3 0 0 0 3-3v-7c0-.583-.166-1.128-.454-1.588a.75.75 0 0 0-.157-.227A2.995 2.995 0 0 0 12.25 1.5h-8.5c-.975 0-1.841.465-2.389 1.185ZM3.75 3h8.5c.27 0 .522.071.74.195L8.815 6.817a1.25 1.25 0 0 1-1.638-.001l-4.167-3.62C3.227 3.07 3.48 3 3.75 3Zm10 1.522V11.5a1.5 1.5 0 0 1-1.5 1.5h-8.5a1.5 1.5 0 0 1-1.5-1.5V4.524l3.942 3.424a2.75 2.75 0 0 0 3.605.002l3.953-3.428Z\",\n        clipRule: \"evenodd\"\n      }\n    )\n  }\n);\nvar EmailIcon_default = SvgComponent3;\n\n// src/ui/internal/inputs/ActionEmailInput.tsx\n\nvar ActionEmailInput = ({\n  placeholder,\n  name,\n  button,\n  disabled,\n  onChange,\n  onValidityChange,\n  pattern,\n  min,\n  max,\n  description,\n  required\n}) => {\n  const id = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)();\n  const isStandalone = !!button;\n  const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n  const [isValid, setValid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!isStandalone && !required);\n  const minLength = min;\n  const maxLength = max;\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    onValidityChange?.(isValid);\n  }, []);\n  const extendedChange = (e) => {\n    const value2 = e.currentTarget.value;\n    const validity = e.currentTarget.checkValidity();\n    setValue(value2);\n    setValid(validity);\n    onChange?.(value2);\n    onValidityChange?.(validity);\n  };\n  const placeholderWithRequired = (placeholder || \"hello@example.com\") + (required && !isStandalone ? \"*\" : \"\");\n  const validationProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => ({\n      minLength,\n      maxLength,\n      pattern,\n      title: description\n    }),\n    [minLength, maxLength, pattern, description]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    BaseInputContainer,\n    {\n      className: \"blink-input-email\",\n      standalone: isStandalone,\n      description: description ?? buildDefaultTextDescription({ min: minLength, max: maxLength }),\n      leftAdornment: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"label\", { htmlFor: id, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(EmailIcon_default, { className: \"text-icon-primary\" }) }),\n      rightAdornment: button ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        ActionButton,\n        {\n          ...button,\n          onClick: () => button.onClick({ [name]: value }),\n          disabled: button.disabled || value === \"\" || !isValid\n        }\n      ) : null,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"input\",\n        {\n          id,\n          type: pattern ? \"text\" : \"email\",\n          placeholder: placeholderWithRequired,\n          value,\n          onChange: extendedChange,\n          ...validationProps,\n          required: button ? true : required,\n          disabled\n        }\n      )\n    }\n  );\n};\n\n// src/ui/internal/inputs/ActionNumberInput.tsx\n\n\n// src/ui/internal/icons/NumberIcon.tsx\n\nvar SvgComponent4 = (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 16,\n    height: 16,\n    fill: \"none\",\n    viewBox: \"0 0 16 16\",\n    preserveAspectRatio: \"xMidYMid meet\",\n    ...props,\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      \"path\",\n      {\n        fill: \"currentColor\",\n        d: \"M11.721 1a.75.75 0 0 0-.745.664l-.299 2.586h-4.5l.28-2.42a.745.745 0 0 0-1.48-.17l-.3 2.59H1.75a.75.75 0 0 0 0 1.5H4.5l-.515 4.5H1.75a.75.75 0 0 0 0 1.5h2.063l-.28 2.42a.745.745 0 1 0 1.48.17l.3-2.59h4.5l-.28 2.42a.745.745 0 0 0 1.48.17l.3-2.59h2.937a.75.75 0 0 0 0-1.5H11.5l.52-4.5h2.23a.75.75 0 0 0 0-1.5h-2.063l.279-2.414A.75.75 0 0 0 11.721 1Zm-1.736 9.25H5.5l.52-4.5h4.48l-.515 4.5Z\"\n      }\n    )\n  }\n);\nvar NumberIcon_default = SvgComponent4;\n\n// src/ui/internal/inputs/ActionNumberInput.tsx\n\nvar ActionNumberInput = ({\n  placeholder,\n  name,\n  button,\n  disabled,\n  onChange,\n  onValidityChange,\n  pattern,\n  min,\n  max,\n  description,\n  required\n}) => {\n  const id = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)();\n  const isStandalone = !!button;\n  const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n  const [isValid, setValid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!isStandalone && !required);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    onValidityChange?.(isValid);\n  }, []);\n  const extendedChange = (e) => {\n    const value2 = e.currentTarget.value;\n    const validity = e.currentTarget.checkValidity();\n    setValue(value2);\n    setValid(validity);\n    onChange?.(value2);\n    onValidityChange?.(validity);\n  };\n  const placeholderWithRequired = (placeholder || \"Type here...\") + (required && !isStandalone ? \"*\" : \"\");\n  const validationProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => ({\n      min: !pattern ? min : void 0,\n      max: !pattern ? max : void 0,\n      pattern,\n      title: description\n    }),\n    [min, max, pattern, description]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    BaseInputContainer,\n    {\n      className: \"blink-input-number\",\n      standalone: isStandalone,\n      description: description ?? buildDefaultNumberDescription({\n        min,\n        max\n      }),\n      leftAdornment: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"label\", { htmlFor: id, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(NumberIcon_default, { className: \"text-icon-primary\" }) }),\n      rightAdornment: button ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        ActionButton,\n        {\n          ...button,\n          onClick: () => button.onClick({ [name]: value }),\n          disabled: button.disabled || value === \"\" || !isValid\n        }\n      ) : null,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"input\",\n        {\n          id,\n          type: pattern ? \"text\" : \"number\",\n          placeholder: placeholderWithRequired,\n          value,\n          step: \"any\",\n          onChange: extendedChange,\n          ...validationProps,\n          required: button ? true : required,\n          disabled\n        }\n      )\n    }\n  );\n};\n\n// src/ui/internal/inputs/ActionRadioGroup.tsx\n\n\n\n// src/ui/internal/Radio.tsx\n\n\n\nvar Radio = ({\n  label,\n  value,\n  onChange,\n  name,\n  disabled,\n  inputValue\n}) => {\n  const id = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)();\n  const labelId = `${id}_label`;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n    \"button\",\n    {\n      className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"flex h-full gap-2.5\", {\n        \"cursor-pointer\": !disabled,\n        \"cursor-not-allowed\": disabled\n      }),\n      onClick: () => !disabled && onChange(!value),\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: \"flex h-full items-center\", children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n            \"input\",\n            {\n              type: \"radio\",\n              name,\n              className: \"hidden\",\n              defaultValue: inputValue\n            }\n          ),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n            \"div\",\n            {\n              role: \"radio\",\n              id,\n              \"aria-labelledby\": labelId,\n              className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n                \"mt-0.5 flex aspect-square h-[16px] items-center justify-center rounded-full border transition-colors motion-reduce:transition-none\",\n                {\n                  \"border-input-stroke bg-input-bg\": !value && !disabled,\n                  \"border-input-stroke-selected bg-input-bg-selected\": value && !disabled,\n                  \"border-input-stroke-disabled bg-input-bg\": !value && disabled,\n                  \"border-input-stroke-disabled bg-input-bg-disabled\": value && disabled\n                }\n              ),\n              children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                \"div\",\n                {\n                  className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"aspect-square h-[8px] rounded-full bg-input-bg\", {\n                    invisible: !value\n                  })\n                }\n              )\n            }\n          )\n        ] }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          \"label\",\n          {\n            className: \"cursor-[inherit] text-text text-text-input\",\n            id: labelId,\n            children: label\n          }\n        )\n      ]\n    }\n  );\n};\n\n// src/ui/internal/inputs/ActionRadioGroup.tsx\n\nvar ActionRadioGroup = ({\n  placeholder: label,\n  // in base inputs it's placeholder, for selectables - label\n  name,\n  button,\n  disabled,\n  onChange,\n  onValidityChange,\n  description,\n  options = [],\n  required\n}) => {\n  const isStandalone = !!button;\n  const hasInitiallySelectedOption = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => options.find((option) => option.selected),\n    [options]\n  );\n  const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    options.find((option) => option.selected)?.value ?? \"\"\n  );\n  const [isValid, setValid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    isStandalone ? !!hasInitiallySelectedOption : !(required && !hasInitiallySelectedOption)\n  );\n  const [touched, setTouched] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    onValidityChange?.(isValid);\n  }, []);\n  const extendedChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (value2) => {\n      setValue(value2);\n      setValid(true);\n      setTouched(true);\n      onChange?.(value2);\n      onValidityChange?.(true);\n    },\n    [onChange, onValidityChange]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n    \"div\",\n    {\n      className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"blink-input blink-input-radio-group py-1.5\", {\n        \"bg-bg-secondary rounded-input px-1.5 pt-2\": isStandalone\n      }),\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(isStandalone && \"px-2\"), children: [\n          label && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className: \"blink-input-label mb-1\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"label\", { className: \"text-subtext text-text-input block font-semibold\", children: [\n            label,\n            required && !isStandalone ? \"*\" : \"\"\n          ] }) }),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n            \"div\",\n            {\n              className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"pt-2\", {\n                \"flex flex-col gap-3\": !isStandalone,\n                \"grid grid-cols-2 gap-x-4 gap-y-5\": isStandalone\n              }),\n              children: options.map((option) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                \"div\",\n                {\n                  className: \"inline-flex\",\n                  children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                    Radio,\n                    {\n                      label: option.label,\n                      value: option.value === value,\n                      inputValue: option.value,\n                      onChange: () => extendedChange(option.value),\n                      name,\n                      disabled\n                    }\n                  )\n                },\n                `${option.value}_${option.label}`\n              ))\n            }\n          )\n        ] }),\n        isStandalone && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className: \"mt-4\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          ActionButton,\n          {\n            ...button,\n            onClick: () => button.onClick({ [name]: value }),\n            disabled: button.disabled || !value || !isValid\n          }\n        ) }),\n        description && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          \"span\",\n          {\n            className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n              \"blink-input-description text-caption font-medium\",\n              touched && !isValid ? \"text-text-error\" : \"text-text-secondary\",\n              isStandalone ? \"mb-2 mt-2.5\" : \"mt-3\"\n            ),\n            children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(SimpleMarkdown, { text: description })\n          }\n        )\n      ]\n    }\n  );\n};\n\n// src/ui/internal/inputs/ActionSelect.tsx\n\n\nvar ActionSelect = ({\n  placeholder,\n  name,\n  button,\n  disabled,\n  onChange,\n  onValidityChange,\n  description,\n  required,\n  options = []\n}) => {\n  const isStandalone = !!button;\n  const placeholderValueId = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)();\n  const placeholderWithRequired = (placeholder || \"Select...\") + (required && !isStandalone ? \"*\" : \"\");\n  const initiallySelectedOption = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => options.find((option) => option.selected),\n    [options]\n  );\n  const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    initiallySelectedOption?.value ?? placeholderValueId\n  );\n  const [isValid, setValid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    isStandalone ? !!initiallySelectedOption : !(required && !initiallySelectedOption)\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    onValidityChange?.(isValid);\n  }, []);\n  const extendedChange = (e) => {\n    const value2 = e.currentTarget.value;\n    const validity = e.currentTarget.checkValidity() && placeholderValueId !== value2;\n    setValue(value2);\n    setValid(validity);\n    onChange?.(value2);\n    onValidityChange?.(validity);\n  };\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    BaseInputContainer,\n    {\n      className: \"blink-input-select\",\n      standalone: isStandalone,\n      description,\n      rightAdornment: button ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        ActionButton,\n        {\n          ...button,\n          onClick: () => button.onClick({ [name]: value }),\n          disabled: button.disabled || value === \"\" || !isValid\n        }\n      ) : null,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n        \"select\",\n        {\n          className: \"mr-1.5 cursor-pointer\",\n          value,\n          onChange: extendedChange,\n          required: button ? true : required,\n          disabled,\n          children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"option\", { disabled: true, value: placeholderValueId, children: placeholderWithRequired }),\n            options.map((option) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"option\", { value: option.value, children: option.label }, `${option.value}_${option.label}`))\n          ]\n        }\n      )\n    }\n  );\n};\n\n// src/ui/internal/inputs/ActionTextArea.tsx\n\n\nvar ActionTextArea = ({\n  placeholder,\n  name,\n  button,\n  disabled,\n  onChange,\n  onValidityChange,\n  min,\n  max,\n  description,\n  required\n}) => {\n  const isStandalone = !!button;\n  const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n  const [isValid, setValid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!isStandalone && !required);\n  const minLength = min;\n  const maxLength = max;\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    onValidityChange?.(isValid);\n  }, []);\n  const extendedChange = (e) => {\n    const value2 = e.currentTarget.value;\n    const validity = e.currentTarget.checkValidity();\n    setValue(value2);\n    setValid(validity);\n    onChange?.(value2);\n    onValidityChange?.(validity);\n  };\n  const placeholderWithRequired = (placeholder || \"Type here...\") + (required && !isStandalone ? \"*\" : \"\");\n  const validationProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => ({\n      minLength,\n      maxLength,\n      title: description\n    }),\n    [minLength, maxLength, description]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    BaseInputContainer,\n    {\n      className: \"blink-input-textarea\",\n      standalone: false,\n      description: description ?? buildDefaultTextDescription({ min: minLength, max: maxLength }),\n      footer: button ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        ActionButton,\n        {\n          ...button,\n          onClick: () => button.onClick({ [name]: value }),\n          disabled: button.disabled || value === \"\" || !isValid\n        }\n      ) : null,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"textarea\",\n        {\n          className: \"my-1.5 whitespace-normal\",\n          placeholder: placeholderWithRequired,\n          value,\n          onChange: extendedChange,\n          ...validationProps,\n          rows: 3,\n          required: button ? true : required,\n          disabled\n        }\n      )\n    }\n  );\n};\n\n// src/ui/internal/inputs/ActionTextInput.tsx\n\n\nvar ActionTextInput = ({\n  placeholder,\n  name,\n  button,\n  disabled,\n  onChange,\n  onValidityChange,\n  pattern,\n  min,\n  max,\n  description,\n  required\n}) => {\n  const isStandalone = !!button;\n  const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n  const [isValid, setValid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!isStandalone && !required);\n  const minLength = min;\n  const maxLength = max;\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    onValidityChange?.(isValid);\n  }, []);\n  const extendedChange = (e) => {\n    const value2 = e.currentTarget.value;\n    const validity = e.currentTarget.checkValidity();\n    setValue(value2);\n    setValid(validity);\n    onChange?.(value2);\n    onValidityChange?.(validity);\n  };\n  const placeholderWithRequired = (placeholder || \"Type here...\") + (required && !isStandalone ? \"*\" : \"\");\n  const validationProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => ({\n      minLength,\n      maxLength,\n      pattern,\n      title: description\n    }),\n    [minLength, maxLength, pattern, description]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    BaseInputContainer,\n    {\n      className: \"blink-input-text\",\n      standalone: isStandalone,\n      description: description ?? buildDefaultTextDescription({ min: minLength, max: maxLength }),\n      rightAdornment: button ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        ActionButton,\n        {\n          ...button,\n          onClick: () => button.onClick({ [name]: value }),\n          disabled: button.disabled || value === \"\" || !isValid\n        }\n      ) : null,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"input\",\n        {\n          type: \"text\",\n          placeholder: placeholderWithRequired,\n          value,\n          onChange: extendedChange,\n          ...validationProps,\n          required: button ? true : required,\n          disabled\n        }\n      )\n    }\n  );\n};\n\n// src/ui/internal/inputs/ActionUrlInput.tsx\n\n\nvar ActionUrlInput = ({\n  placeholder,\n  name,\n  button,\n  disabled,\n  onChange,\n  onValidityChange,\n  pattern,\n  min,\n  max,\n  description,\n  required\n}) => {\n  const isStandalone = !!button;\n  const id = (0,react__WEBPACK_IMPORTED_MODULE_1__.useId)();\n  const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n  const [isValid, setValid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!isStandalone && !required);\n  const minLength = min;\n  const maxLength = max;\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    onValidityChange?.(isValid);\n  }, []);\n  const extendedChange = (e) => {\n    const value2 = e.currentTarget.value;\n    const validity = e.currentTarget.checkValidity();\n    setValue(value2);\n    setValid(validity);\n    onChange?.(value2);\n    onValidityChange?.(validity);\n  };\n  const placeholderWithRequired = (placeholder || \"https://\") + (required && !isStandalone ? \"*\" : \"\");\n  const validationProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => ({\n      minLength,\n      maxLength,\n      pattern,\n      title: description\n    }),\n    [minLength, maxLength, pattern, description]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    BaseInputContainer,\n    {\n      className: \"blink-input-url\",\n      standalone: isStandalone,\n      description: description ?? buildDefaultTextDescription({ min: minLength, max: maxLength }),\n      leftAdornment: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"label\", { htmlFor: id, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(LinkIcon, { className: \"text-icon-primary\" }) }),\n      rightAdornment: button ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        ActionButton,\n        {\n          ...button,\n          onClick: () => button.onClick({ [name]: value }),\n          disabled: button.disabled || value === \"\" || !isValid\n        }\n      ) : null,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"input\",\n        {\n          id,\n          type: pattern ? \"text\" : \"url\",\n          placeholder: placeholderWithRequired,\n          value,\n          onChange: extendedChange,\n          ...validationProps,\n          required: button ? true : required,\n          disabled\n        }\n      )\n    }\n  );\n};\n\n// src/ui/layouts/presets.ts\nvar themeClassMap = {\n  default: \"dial-light\",\n  \"x-dark\": \"x-dark\",\n  \"x-light\": \"x-light\",\n  custom: \"custom\"\n};\n\n// src/ui/layouts/BaseBlinkLayout.tsx\n\nvar Linkable = ({\n  url,\n  className,\n  children\n}) => url ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n  \"a\",\n  {\n    href: url,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    className,\n    children\n  }\n) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className, children });\nvar NotSupportedBlock = ({\n  message,\n  className\n}) => {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"blink-not-supported-block\", className), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    \"div\",\n    {\n      className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n        \"bg-bg-secondary text-subtext text-text-secondary rounded-xl border border-none p-3\"\n      ),\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: \"flex flex-row gap-2\", children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ConfigIcon, { className: \"text-icon-primary\" }) }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: \"flex flex-col justify-center gap-[3px]\", children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"a\", { className: \"font-semibold\", children: \"This action is not supported\" }),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"p\", { children: message })\n        ] })\n      ] })\n    }\n  ) });\n};\nvar DisclaimerBlock = ({\n  type,\n  hidden,\n  ignorable,\n  onSkip,\n  className\n}) => {\n  if (type === _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.DisclaimerType.BLOCKED && !hidden) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(Snackbar, { variant: \"error\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"p\", { children: [\n        \"This Action or it's origin has been flagged as an unsafe action, & has been blocked. If you believe this action has been blocked in error, please\",\n        \" \",\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          \"a\",\n          {\n            href: \"https://discord.gg/saydialect\",\n            className: \"cursor-pointer underline\",\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: \"submit an issue\"\n          }\n        ),\n        \".\",\n        !ignorable && \" Your action provider blocks execution of this action.\"\n      ] }),\n      ignorable && onSkip && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"button\",\n        {\n          className: \"hover:text-text-error-hover mt-3 font-semibold transition-colors motion-reduce:transition-none\",\n          onClick: onSkip,\n          children: \"Ignore warning & proceed\"\n        }\n      )\n    ] }) });\n  }\n  if (type === _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.DisclaimerType.UNKNOWN) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(Snackbar, { variant: \"warning\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"p\", { children: [\n        \"This Action has not yet been registered. Only use it if you trust the source. This Action will not unfurl on X until it is registered.\",\n        !ignorable && \" Your action provider blocks execution of this action.\"\n      ] }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n        \"a\",\n        {\n          className: \"hover:text-text-warning-hover mt-3 inline-block font-semibold transition-colors motion-reduce:transition-none\",\n          href: \"https://discord.gg/saydialect\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: \"Report\"\n        }\n      )\n    ] }) });\n  }\n  return null;\n};\nvar BaseBlinkLayout = ({\n  stylePreset = \"default\",\n  title,\n  description,\n  image,\n  websiteUrl,\n  websiteText,\n  securityState,\n  disclaimer,\n  buttons,\n  inputs,\n  form,\n  error,\n  success,\n  message,\n  supportability,\n  id,\n  shouldShowWebsiteLink\n}) => {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"blink\", themeClassMap[stylePreset]), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: \"border-stroke-primary bg-bg-primary shadow-action w-full cursor-default overflow-hidden rounded-2xl border\", children: [\n    image && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      Linkable,\n      {\n        url: websiteUrl,\n        className: \"blink-image px-padding pt-padding block max-h-[100cqw] overflow-y-hidden\",\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          \"img\",\n          {\n            className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n              \"aspect-auto w-full rounded-xl object-cover object-center\"\n            ),\n            src: image,\n            alt: \"action-image\"\n          }\n        )\n      }\n    ),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: \"px-padding pb-padding pt-gap flex flex-col\", children: [\n      shouldShowWebsiteLink ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: \"flex items-center gap-2\", children: [\n        websiteUrl && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n          \"a\",\n          {\n            href: websiteUrl,\n            target: \"_blank\",\n            className: \"blink-provider-url text-subtext group flex min-w-0 items-center gap-2 hover:cursor-pointer\",\n            rel: \"noopener noreferrer\",\n            children: [\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(LinkIcon, { className: \"text-icon-primary group-hover:text-icon-primary-hover h-4 min-w-4 transition-colors motion-reduce:transition-none\" }),\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"text-text-link group-hover:text-text-link-hover mt-[1px] block min-w-0 truncate transition-colors group-hover:underline motion-reduce:transition-none\", children: websiteText ?? websiteUrl })\n            ]\n          }\n        ),\n        websiteText && !websiteUrl && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"blink-provider-url text-subtext text-text-link min-w-0 truncate\", children: websiteText }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n          \"a\",\n          {\n            href: \"https://docs.dialect.to/documentation/actions/security\",\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"blink-security-badge mb-0.5 flex items-center\",\n            children: [\n              securityState === \"malicious\" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                Badge,\n                {\n                  variant: \"error\",\n                  icon: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ExclamationShieldIcon, { width: 13, height: 13 }),\n                  children: \"Blocked\"\n                }\n              ),\n              securityState === \"trusted\" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                Badge,\n                {\n                  variant: \"default\",\n                  icon: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(InfoShieldIcon, { width: 13, height: 13 })\n                }\n              ),\n              securityState === \"unknown\" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n                Badge,\n                {\n                  variant: \"warning\",\n                  icon: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(InfoShieldIcon, { width: 13, height: 13 })\n                }\n              )\n            ]\n          }\n        )\n      ] }) : null,\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"blink-title text-text text-text-primary mb-1 mt-1.5 break-words font-semibold\", children: title }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"blink-description text-subtext text-text-secondary mb-gap break-words\", children: description && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(SimpleMarkdown, { text: description }) }),\n      !supportability.isSupported ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(NotSupportedBlock, { message: supportability.message }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment, { children: [\n        disclaimer && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          DisclaimerBlock,\n          {\n            className: \"blink-disclaimer-block mb-gap\",\n            type: disclaimer.type,\n            ignorable: disclaimer.ignorable,\n            hidden: disclaimer.type === _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.DisclaimerType.BLOCKED ? disclaimer.hidden : false,\n            onSkip: disclaimer.type === _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.DisclaimerType.BLOCKED ? disclaimer.onSkip : void 0\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n          ActionContent,\n          {\n            form,\n            inputs,\n            buttons\n          },\n          id\n        ),\n        success && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"blink-message-success text-subtext text-text-success mt-between-inputs break-words text-center\", children: success }),\n        error && !success && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"blink-message-error text-subtext text-text-error mt-between-inputs break-words text-center\", children: error }),\n        message && !success && !error && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"blink-message-default text-subtext text-text-secondary mt-between-inputs break-words text-center\", children: message })\n      ] }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className: \"blink-powered-by mt-4 flex justify-center\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\n        \"a\",\n        {\n          href: \"https://dialect.to\",\n          target: \"_blank\",\n          className: \"text-subtext text-text-link hover:text-text-link-hover flex items-center gap-1 transition-colors hover:cursor-pointer motion-reduce:transition-none\",\n          rel: \"noreferrer\",\n          children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { children: \"powered by\" }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(DialectLogo, {})\n          ]\n        }\n      ) })\n    ] })\n  ] }) });\n};\nvar ActionContent = ({\n  form,\n  inputs,\n  buttons\n}) => {\n  if (form) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionForm, { form });\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: \"gap-between-inputs flex flex-col\", children: [\n    buttons && buttons.length > 0 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"div\", { className: \"gap-between-buttons flex flex-wrap items-center\", children: buttons?.map((it, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      \"div\",\n      {\n        className: \"flex flex-grow basis-[calc(33.333%-2*4px)]\",\n        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionButton, { ...it })\n      },\n      index\n    )) }),\n    inputs?.map((input) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionInputFactory, { ...input }, input.name))\n  ] });\n};\nvar buildDefaultFormValues = (inputs) => {\n  return Object.fromEntries(\n    inputs.map((i) => {\n      if (i.type === \"checkbox\") {\n        return [\n          i.name,\n          i.options?.filter((o) => o.selected).map((o) => o.value)\n        ];\n      }\n      return i.type === \"radio\" || i.type === \"select\" ? [i.name, i.options?.find((o) => o.selected)?.value] : null;\n    }).filter((i) => !!i)\n  );\n};\nvar ActionForm = ({ form }) => {\n  const [values, setValues] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    buildDefaultFormValues(form.inputs)\n  );\n  const [validity, setValidity] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    Object.fromEntries(form.inputs.map((i) => [i.name, false]))\n  );\n  const onChange = (name, value) => {\n    setValues((prev) => ({ ...prev, [name]: value }));\n  };\n  const onValidityChange = (name, state) => {\n    setValidity((prev) => ({ ...prev, [name]: state }));\n  };\n  const disabled = Object.values(validity).some((v) => !v);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: \"gap-between-inputs flex flex-col\", children: [\n    form.inputs.map((input) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      ActionInputFactory,\n      {\n        ...input,\n        onChange: (v) => onChange(input.name, v),\n        onValidityChange: (v) => onValidityChange(input.name, v)\n      },\n      input.name\n    )),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n      ActionButton,\n      {\n        ...form.button,\n        onClick: () => form.button.onClick(values),\n        disabled: form.button.disabled || disabled\n      }\n    )\n  ] });\n};\nvar ActionInputFactory = (input) => {\n  switch (input.type) {\n    case \"checkbox\":\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionCheckboxGroup, { ...input });\n    case \"radio\":\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionRadioGroup, { ...input });\n    case \"date\":\n    case \"datetime-local\":\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionDateInput, { ...input, type: input.type });\n    case \"select\":\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionSelect, { ...input });\n    case \"email\":\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionEmailInput, { ...input });\n    case \"number\":\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionNumberInput, { ...input });\n    case \"url\":\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionUrlInput, { ...input });\n    case \"textarea\":\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionTextArea, { ...input });\n    default:\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionTextInput, { ...input });\n  }\n};\n\n// src/ui/ActionsOnlyBlink.tsx\n\n\n\n// src/ui/layouts/ActionsOnlyBlinkLayout.tsx\n\n\nvar ActionsOnlyBlinkLayout = ({\n  stylePreset = \"default\",\n  id,\n  success,\n  error,\n  message,\n  inputs,\n  buttons,\n  form\n}) => {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"blink w-full\", themeClassMap[stylePreset]), children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionContent, { form, inputs, buttons }, id),\n    success && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"blink-message-success text-subtext text-text-success mt-between-inputs break-words text-center\", children: success }),\n    error && !success && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"blink-message-error text-subtext text-text-error mt-between-inputs break-words text-center\", children: error }),\n    message && !success && !error && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"blink-message-default text-subtext text-text-secondary mt-between-inputs break-words text-center\", children: message })\n  ] });\n};\n\n// src/ui/ActionsOnlyBlink.tsx\n\nvar ActionsOnlyBlink = ({\n  _Layout: Layout = NormalizedActionsOnlyBlinkLayout,\n  stylePreset,\n  ...props\n}) => {\n  const LayoutWithPreset = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (props2) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(Layout, { ...props2, stylePreset }),\n    [Layout, stylePreset]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.BlinkContainer,\n    {\n      ...props,\n      selector: void 0,\n      Layout: LayoutWithPreset\n    }\n  );\n};\nvar NormalizedActionsOnlyBlinkLayout = (props) => {\n  const normalizedProps = useBaseLayoutPropNormalizer(props);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionsOnlyBlinkLayout, { ...normalizedProps });\n};\n\n// src/ui/BlinkComponent.tsx\n\n\n\nvar BlinkComponent = ({\n  _Layout: Layout = NormalizedBaseBlinkLayout,\n  stylePreset,\n  ...props\n}) => {\n  const LayoutWithPreset = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (props2) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(Layout, { ...props2, stylePreset }),\n    [Layout, stylePreset]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\n    _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.BlinkContainer,\n    {\n      ...props,\n      selector: void 0,\n      Layout: LayoutWithPreset\n    }\n  );\n};\nvar NormalizedBaseBlinkLayout = (props) => {\n  const normalizedProps = useBaseLayoutPropNormalizer(props);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(BaseBlinkLayout, { ...normalizedProps });\n};\n\n// src/ui/Miniblink.tsx\n\n\n\n// src/ui/hooks/useIsolatedLayoutPropNormalizer.ts\n\n\nvar SOFT_LIMIT_FORM_INPUTS2 = 10;\nvar useIsolatedLayoutPropNormalizer = ({\n  executeFn,\n  executionStatus,\n  executingAction,\n  blink,\n  component,\n  caption,\n  ...props\n}) => {\n  const asButtonProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (it) => {\n      return {\n        text: buttonLabelMap[executionStatus] ?? it.label,\n        loading: executionStatus === \"executing\" && (it === executingAction || it.parentComponent === executingAction),\n        disabled: blink.disabled || blink.type === \"completed\" || executionStatus !== \"idle\",\n        variant: buttonVariantMap[blink.type === \"completed\" ? \"success\" : executionStatus],\n        ctaType: (it.type === \"external-link\" || it.type === \"inline-link\") && (executionStatus === \"idle\" || executionStatus === \"blocked\") ? \"link\" : \"button\",\n        onClick: async (params) => {\n          const extra = await executeFn(it.parentComponent ?? it, params);\n          if (!extra) {\n            return;\n          }\n          if (extra.type === \"external-link\") {\n            const result = window.confirm(\n              `This action redirects to another website: ${extra.data.externalLink}, the link will open in a new tab of your browser`\n            );\n            if (result) {\n              window.open(\n                extra.data.externalLink,\n                \"_blank\",\n                \"norefferer,noopener\"\n              );\n              return extra.onNext();\n            }\n            return extra.onCancel?.();\n          }\n        }\n      };\n    },\n    [blink.disabled, blink.type, executeFn, executingAction, executionStatus]\n  );\n  const asInputProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (it, { placement } = {\n      placement: \"standalone\"\n    }) => {\n      return {\n        type: it.parameter.type ?? \"text\",\n        placeholder: it.parameter.label,\n        disabled: blink.disabled || blink.type === \"completed\" || executionStatus !== \"idle\",\n        name: it.parameter.name,\n        required: it.parameter.required,\n        min: it.parameter.min,\n        max: it.parameter.max,\n        pattern: it instanceof _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.SingleValueActionComponent && (0,_dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.isPatternAllowed)(it.parameter) ? it.parameter.pattern : void 0,\n        options: (0,_dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.isParameterSelectable)(it.parameter) ? it.parameter.options : void 0,\n        description: it.parameter.patternDescription,\n        button: placement === \"standalone\" ? asButtonProps(it.toButtonActionComponent()) : void 0\n      };\n    },\n    [blink.disabled, blink.type, asButtonProps, executionStatus]\n  );\n  const asFormProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (it) => {\n      return {\n        button: asButtonProps(it.toButtonActionComponent()),\n        inputs: it.parameters.toSpliced(SOFT_LIMIT_FORM_INPUTS2).map(\n          (parameter) => asInputProps(it.toInputActionComponent(parameter.name), {\n            placement: \"form\"\n          })\n        )\n      };\n    },\n    [asButtonProps, asInputProps]\n  );\n  const elementProps = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (!component) {\n      return null;\n    }\n    if (component instanceof _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.SingleValueActionComponent || component instanceof _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.MultiValueActionComponent) {\n      return {\n        elementType: \"input\",\n        element: asInputProps(component)\n      };\n    }\n    if (component instanceof _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.FormActionComponent) {\n      return { elementType: \"form\", element: asFormProps(component) };\n    }\n    if (component instanceof _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.ButtonActionComponent) {\n      return {\n        elementType: \"button\",\n        element: asButtonProps(component)\n      };\n    }\n    return null;\n  }, [asButtonProps, asFormProps, asInputProps, component]);\n  const normalizedCaption = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (!caption) {\n      return {};\n    }\n    if (caption.type === \"success\") {\n      return {\n        success: caption.text\n      };\n    }\n    if (caption.type === \"error\") {\n      return {\n        error: caption.text\n      };\n    }\n    return {};\n  }, [caption]);\n  if (!elementProps) {\n    return null;\n  }\n  return {\n    ...props,\n    websiteText: (props.websiteText === false ? \"\" : props.websiteText) ?? props.websiteUrl ?? blink.url,\n    ...elementProps,\n    ...normalizedCaption\n  };\n};\n\n// src/ui/layouts/IsolatedBlinkLayout.tsx\n\n\n\nvar IsolatedBlinkLayout = ({\n  stylePreset = \"default\",\n  id,\n  success,\n  error,\n  message,\n  ...props\n}) => {\n  const element = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (props.elementType === \"form\") {\n      return { form: props.element };\n    }\n    if (props.elementType === \"button\") {\n      return { buttons: [props.element] };\n    }\n    if (props.elementType === \"input\") {\n      return { inputs: [props.element] };\n    }\n    return {};\n  }, [props.element, props.elementType]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"blink w-full\", themeClassMap[stylePreset]), children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(ActionContent, { ...element }, id),\n    success && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"blink-message-success text-subtext text-text-success mt-1.5 break-words text-center\", children: success }),\n    error && !success && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"blink-message-error text-subtext text-text-error mt-1.5 break-words text-center\", children: error }),\n    message && !success && !error && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(\"span\", { className: \"blink-message-default text-subtext text-text-secondary mt-1.5 break-words text-center\", children: message })\n  ] });\n};\n\n// src/ui/Miniblink.tsx\n\nvar Miniblink = ({\n  _Layout: Layout = NormalizedIsolatedBlinkLayout,\n  stylePreset,\n  ...props\n}) => {\n  const LayoutWithPreset = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n    (props2) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(Layout, { ...props2, stylePreset }),\n    [Layout, stylePreset]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__.BlinkContainer, { ...props, securityLevel: \"all\", Layout: LayoutWithPreset });\n};\nvar NormalizedIsolatedBlinkLayout = (props) => {\n  const normalizedProps = useIsolatedLayoutPropNormalizer(props);\n  if (!normalizedProps) {\n    console.warn(\n      \"[@dialectlabs/blinks] No `selector` prop provided for Miniblink\"\n    );\n    return null;\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(IsolatedBlinkLayout, { ...normalizedProps });\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGRpYWxlY3RsYWJzL2JsaW5rcy9kaXN0L2NodW5rLVZDVEFEQk9VLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFRa0M7QUFDRjs7QUFFaEM7QUFDQTtBQUNBO0FBQ0EsaURBQWlELElBQUk7QUFDckQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWtCLDhDQUFPO0FBQ3pCLHNEQUFzRCwyRUFBcUI7QUFDM0U7QUFDQTtBQUNBLGlCQUFpQiw4Q0FBTztBQUN4QjtBQUNBLDRCQUE0QixnRkFBMEIsa0JBQWtCLCtFQUF5QjtBQUNqRztBQUNBO0FBQ0E7QUFDQSxlQUFlLDhDQUFPO0FBQ3RCLHdFQUF3RSx5RUFBbUI7QUFDM0Y7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFlBQVk7QUFDMUM7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixnRkFBMEIsSUFBSSwwRUFBZ0I7QUFDM0UsZUFBZSwrRUFBcUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDhDQUFPO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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Q0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHNEQUFJO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDK0Q7QUFDL0QsNENBQTRDLHVEQUFLO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHNEQUFJO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixzREFBSTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDK0Q7QUFDL0QsOENBQThDLHVEQUFLO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHNEQUFJO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixzREFBSTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDK0Q7QUFDL0QsNkNBQTZDLHVEQUFLO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixzREFBSTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isc0RBQUk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixzREFBSTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isc0RBQUk7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixzREFBSTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDZTtBQUNpQztBQUNoRCx1REFBdUQsc0RBQUk7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUNmO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsR0FBRztBQUNILHlCQUF5Qix1REFBTSxVQUFVLFdBQVcsZ0RBQU07QUFDMUQsb0JBQW9CLHNEQUFLLGtCQUFrQixZQUFZO0FBQ3ZELCtCQUErQixzREFBSyxXQUFXLHFIQUFxSDtBQUNwSyx5Q0FBeUMsc0RBQUssV0FBVywrR0FBK0c7QUFDeEsscURBQXFELHNEQUFLLFdBQVcsdUhBQXVIO0FBQzVMLEtBQUs7QUFDTDs7QUFFQTtBQUNpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCwyQkFBMkIsa0RBQVk7QUFDdkMsZ0NBQWdDLHNEQUFLLFdBQVcsd0JBQXdCO0FBQ3hFO0FBQ0E7QUFDQSx5QkFBeUIsc0RBQUssQ0FBQyxvRUFBZSxJQUFJLDBEQUEwRDtBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsc0RBQUssd0JBQXdCLG9CQUFvQjtBQUMxRTs7QUFZRSIsInNvdXJjZXMiOlsid2VicGFjazovL2JsaW5rLXN0YXJ0ZXItbW9uYWQvLi9ub2RlX21vZHVsZXMvQGRpYWxlY3RsYWJzL2JsaW5rcy9kaXN0L2NodW5rLVZDVEFEQk9VLmpzP2ZkN2MiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3VpL2hvb2tzL3VzZUJhc2VMYXlvdXRQcm9wTm9ybWFsaXplci50c3hcbmltcG9ydCB7XG4gIEJ1dHRvbkFjdGlvbkNvbXBvbmVudCxcbiAgRm9ybUFjdGlvbkNvbXBvbmVudCxcbiAgaXNQYXJhbWV0ZXJTZWxlY3RhYmxlLFxuICBpc1BhdHRlcm5BbGxvd2VkLFxuICBNdWx0aVZhbHVlQWN0aW9uQ29tcG9uZW50LFxuICBTaW5nbGVWYWx1ZUFjdGlvbkNvbXBvbmVudFxufSBmcm9tIFwiQGRpYWxlY3RsYWJzL2JsaW5rcy1jb3JlXCI7XG5pbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy91aS9pbnRlcm5hbC91dGlscy50c1xudmFyIGNvbmZpcm1MaW5rVHJhbnNpdGlvbiA9ICh1cmwpID0+IHtcbiAgcmV0dXJuIHdpbmRvdy5jb25maXJtKFxuICAgIGBUaGlzIGFjdGlvbiByZWRpcmVjdHMgdG8gYW5vdGhlciB3ZWJzaXRlOiAke3VybH0sIHRoZSBsaW5rIHdpbGwgb3BlbiBpbiBhIG5ldyB0YWIgb2YgeW91ciBicm93c2VyYFxuICApO1xufTtcblxuLy8gc3JjL3VpL2hvb2tzL3VpLW1hcHBlcnMudHNcbnZhciBidXR0b25WYXJpYW50TWFwID0ge1xuICBcImNoZWNraW5nLXN1cHBvcnRhYmlsaXR5XCI6IFwiZGVmYXVsdFwiLFxuICBibG9ja2VkOiBcImRlZmF1bHRcIixcbiAgaWRsZTogXCJkZWZhdWx0XCIsXG4gIGV4ZWN1dGluZzogXCJkZWZhdWx0XCIsXG4gIHN1Y2Nlc3M6IFwic3VjY2Vzc1wiLFxuICBlcnJvcjogXCJlcnJvclwiXG59O1xudmFyIGJ1dHRvbkxhYmVsTWFwID0ge1xuICBcImNoZWNraW5nLXN1cHBvcnRhYmlsaXR5XCI6IFwiTG9hZGluZ1wiLFxuICBibG9ja2VkOiBudWxsLFxuICBpZGxlOiBudWxsLFxuICBleGVjdXRpbmc6IFwiRXhlY3V0aW5nXCIsXG4gIHN1Y2Nlc3M6IFwiQ29tcGxldGVkXCIsXG4gIGVycm9yOiBcIkZhaWxlZFwiXG59O1xuXG4vLyBzcmMvdWkvaG9va3MvdXNlQmFzZUxheW91dFByb3BOb3JtYWxpemVyLnRzeFxudmFyIFNPRlRfTElNSVRfQlVUVE9OUyA9IDEwO1xudmFyIFNPRlRfTElNSVRfSU5QVVRTID0gMztcbnZhciBTT0ZUX0xJTUlUX0ZPUk1fSU5QVVRTID0gMTA7XG52YXIgdXNlQmFzZUxheW91dFByb3BOb3JtYWxpemVyID0gKHtcbiAgZXhlY3V0ZUZuLFxuICBleGVjdXRpb25TdGF0dXMsXG4gIGV4ZWN1dGluZ0FjdGlvbixcbiAgYmxpbmssXG4gIGNhcHRpb24sXG4gIC4uLnByb3BzXG59KSA9PiB7XG4gIGNvbnN0IGJ1dHRvbnMgPSB1c2VNZW1vKFxuICAgICgpID0+IGJsaW5rPy5hY3Rpb25zLmZpbHRlcigoaXQpID0+IGl0IGluc3RhbmNlb2YgQnV0dG9uQWN0aW9uQ29tcG9uZW50KS5maWx0ZXIoKGl0KSA9PiBleGVjdXRpbmdBY3Rpb24gPyBleGVjdXRpbmdBY3Rpb24gPT09IGl0IDogdHJ1ZSkudG9TcGxpY2VkKFNPRlRfTElNSVRfQlVUVE9OUykgPz8gW10sXG4gICAgW2JsaW5rLCBleGVjdXRpbmdBY3Rpb25dXG4gICk7XG4gIGNvbnN0IGlucHV0cyA9IHVzZU1lbW8oXG4gICAgKCkgPT4gYmxpbms/LmFjdGlvbnMuZmlsdGVyKFxuICAgICAgKGl0KSA9PiBpdCBpbnN0YW5jZW9mIFNpbmdsZVZhbHVlQWN0aW9uQ29tcG9uZW50IHx8IGl0IGluc3RhbmNlb2YgTXVsdGlWYWx1ZUFjdGlvbkNvbXBvbmVudFxuICAgICkuZmlsdGVyKChpdCkgPT4gZXhlY3V0aW5nQWN0aW9uID8gZXhlY3V0aW5nQWN0aW9uID09PSBpdCA6IHRydWUpLnRvU3BsaWNlZChTT0ZUX0xJTUlUX0lOUFVUUykgPz8gW10sXG4gICAgW2JsaW5rLCBleGVjdXRpbmdBY3Rpb25dXG4gICk7XG4gIGNvbnN0IGZvcm0gPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBbZm9ybUNvbXBvbmVudF0gPSBibGluaz8uYWN0aW9ucy5maWx0ZXIoKGl0KSA9PiBpdCBpbnN0YW5jZW9mIEZvcm1BY3Rpb25Db21wb25lbnQpLmZpbHRlcigoaXQpID0+IGV4ZWN1dGluZ0FjdGlvbiA/IGV4ZWN1dGluZ0FjdGlvbiA9PT0gaXQgOiB0cnVlKSA/PyBbXTtcbiAgICByZXR1cm4gZm9ybUNvbXBvbmVudDtcbiAgfSwgW2JsaW5rLCBleGVjdXRpbmdBY3Rpb25dKTtcbiAgY29uc3QgYXNCdXR0b25Qcm9wcyA9IChpdCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICB0ZXh0OiBidXR0b25MYWJlbE1hcFtleGVjdXRpb25TdGF0dXNdID8/IGl0LmxhYmVsLFxuICAgICAgbG9hZGluZzogZXhlY3V0aW9uU3RhdHVzID09PSBcImV4ZWN1dGluZ1wiICYmIChpdCA9PT0gZXhlY3V0aW5nQWN0aW9uIHx8IGl0LnBhcmVudENvbXBvbmVudCA9PT0gZXhlY3V0aW5nQWN0aW9uKSxcbiAgICAgIGRpc2FibGVkOiBibGluay5kaXNhYmxlZCB8fCBibGluay50eXBlID09PSBcImNvbXBsZXRlZFwiIHx8IGV4ZWN1dGlvblN0YXR1cyAhPT0gXCJpZGxlXCIsXG4gICAgICB2YXJpYW50OiBidXR0b25WYXJpYW50TWFwW2JsaW5rLnR5cGUgPT09IFwiY29tcGxldGVkXCIgPyBcInN1Y2Nlc3NcIiA6IGV4ZWN1dGlvblN0YXR1c10sXG4gICAgICBjdGFUeXBlOiAoaXQudHlwZSA9PT0gXCJleHRlcm5hbC1saW5rXCIgfHwgaXQudHlwZSA9PT0gXCJpbmxpbmUtbGlua1wiKSAmJiAoZXhlY3V0aW9uU3RhdHVzID09PSBcImlkbGVcIiB8fCBleGVjdXRpb25TdGF0dXMgPT09IFwiYmxvY2tlZFwiKSA/IFwibGlua1wiIDogXCJidXR0b25cIixcbiAgICAgIG9uQ2xpY2s6IGFzeW5jIChwYXJhbXMpID0+IHtcbiAgICAgICAgY29uc3QgZXh0cmEgPSBhd2FpdCBleGVjdXRlRm4oaXQucGFyZW50Q29tcG9uZW50ID8/IGl0LCBwYXJhbXMpO1xuICAgICAgICBpZiAoIWV4dHJhKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleHRyYS50eXBlID09PSBcImV4dGVybmFsLWxpbmtcIikge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbmZpcm1MaW5rVHJhbnNpdGlvbihleHRyYS5kYXRhLmV4dGVybmFsTGluayk7XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgd2luZG93Lm9wZW4oXG4gICAgICAgICAgICAgIGV4dHJhLmRhdGEuZXh0ZXJuYWxMaW5rLFxuICAgICAgICAgICAgICBcIl9ibGFua1wiLFxuICAgICAgICAgICAgICBcIm5vcmVmZmVyZXIsbm9vcGVuZXJcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiBleHRyYS5vbk5leHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGV4dHJhLm9uQ2FuY2VsPy4oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH07XG4gIGNvbnN0IGFzSW5wdXRQcm9wcyA9IChpdCwgeyBwbGFjZW1lbnQgfSA9IHtcbiAgICBwbGFjZW1lbnQ6IFwic3RhbmRhbG9uZVwiXG4gIH0pID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogaXQucGFyYW1ldGVyLnR5cGUgPz8gXCJ0ZXh0XCIsXG4gICAgICBwbGFjZWhvbGRlcjogaXQucGFyYW1ldGVyLmxhYmVsLFxuICAgICAgZGlzYWJsZWQ6IGJsaW5rLmRpc2FibGVkIHx8IGJsaW5rLnR5cGUgPT09IFwiY29tcGxldGVkXCIgfHwgZXhlY3V0aW9uU3RhdHVzICE9PSBcImlkbGVcIixcbiAgICAgIG5hbWU6IGl0LnBhcmFtZXRlci5uYW1lLFxuICAgICAgcmVxdWlyZWQ6IGl0LnBhcmFtZXRlci5yZXF1aXJlZCxcbiAgICAgIG1pbjogaXQucGFyYW1ldGVyLm1pbixcbiAgICAgIG1heDogaXQucGFyYW1ldGVyLm1heCxcbiAgICAgIHBhdHRlcm46IGl0IGluc3RhbmNlb2YgU2luZ2xlVmFsdWVBY3Rpb25Db21wb25lbnQgJiYgaXNQYXR0ZXJuQWxsb3dlZChpdC5wYXJhbWV0ZXIpID8gaXQucGFyYW1ldGVyLnBhdHRlcm4gOiB2b2lkIDAsXG4gICAgICBvcHRpb25zOiBpc1BhcmFtZXRlclNlbGVjdGFibGUoaXQucGFyYW1ldGVyKSA/IGl0LnBhcmFtZXRlci5vcHRpb25zIDogdm9pZCAwLFxuICAgICAgZGVzY3JpcHRpb246IGl0LnBhcmFtZXRlci5wYXR0ZXJuRGVzY3JpcHRpb24sXG4gICAgICBidXR0b246IHBsYWNlbWVudCA9PT0gXCJzdGFuZGFsb25lXCIgPyBhc0J1dHRvblByb3BzKGl0LnRvQnV0dG9uQWN0aW9uQ29tcG9uZW50KCkpIDogdm9pZCAwXG4gICAgfTtcbiAgfTtcbiAgY29uc3QgYXNGb3JtUHJvcHMgPSAoaXQpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgYnV0dG9uOiBhc0J1dHRvblByb3BzKGl0LnRvQnV0dG9uQWN0aW9uQ29tcG9uZW50KCkpLFxuICAgICAgaW5wdXRzOiBpdC5wYXJhbWV0ZXJzLnRvU3BsaWNlZChTT0ZUX0xJTUlUX0ZPUk1fSU5QVVRTKS5tYXAoXG4gICAgICAgIChwYXJhbWV0ZXIpID0+IGFzSW5wdXRQcm9wcyhpdC50b0lucHV0QWN0aW9uQ29tcG9uZW50KHBhcmFtZXRlci5uYW1lKSwge1xuICAgICAgICAgIHBsYWNlbWVudDogXCJmb3JtXCJcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICB9O1xuICB9O1xuICBjb25zdCBub3JtYWxpemVkQ2FwdGlvbiA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghY2FwdGlvbikge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBpZiAoY2FwdGlvbi50eXBlID09PSBcInN1Y2Nlc3NcIikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogY2FwdGlvbi50ZXh0XG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoY2FwdGlvbi50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVycm9yOiBjYXB0aW9uLnRleHRcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChjYXB0aW9uLnR5cGUgPT09IFwiZGVmYXVsdFwiKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtZXNzYWdlOiBjYXB0aW9uLnRleHRcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7fTtcbiAgfSwgW2NhcHRpb25dKTtcbiAgcmV0dXJuIHtcbiAgICAuLi5wcm9wcyxcbiAgICB0aXRsZTogYmxpbmsudGl0bGUsXG4gICAgZGVzY3JpcHRpb246IGJsaW5rLmRlc2NyaXB0aW9uLFxuICAgIGltYWdlOiBibGluay5pY29uLFxuICAgIGJ1dHRvbnM6IGJ1dHRvbnMubWFwKGFzQnV0dG9uUHJvcHMpLFxuICAgIGlucHV0czogaW5wdXRzLm1hcCgoaSkgPT4gYXNJbnB1dFByb3BzKGkpKSxcbiAgICBmb3JtOiBmb3JtID8gYXNGb3JtUHJvcHMoZm9ybSkgOiB2b2lkIDAsXG4gICAgd2Vic2l0ZVRleHQ6IChwcm9wcy53ZWJzaXRlVGV4dCA9PT0gZmFsc2UgPyBcIlwiIDogcHJvcHMud2Vic2l0ZVRleHQpID8/IHByb3BzLndlYnNpdGVVcmwgPz8gYmxpbmsudXJsLFxuICAgIHNob3VsZFNob3dXZWJzaXRlTGluazogcHJvcHMud2Vic2l0ZVRleHQgIT09IGZhbHNlLFxuICAgIC4uLm5vcm1hbGl6ZWRDYXB0aW9uXG4gIH07XG59O1xuXG4vLyBzcmMvdWkvbGF5b3V0cy9CYXNlQmxpbmtMYXlvdXQudHN4XG5pbXBvcnQge1xuICBEaXNjbGFpbWVyVHlwZVxufSBmcm9tIFwiQGRpYWxlY3RsYWJzL2JsaW5rcy1jb3JlXCI7XG5pbXBvcnQgY2xzeDkgZnJvbSBcImNsc3hcIjtcbmltcG9ydCB7IHVzZVN0YXRlIGFzIHVzZVN0YXRlMTAgfSBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL3VpL2ludGVybmFsL0JhZGdlLnRzeFxuaW1wb3J0IGNsc3ggZnJvbSBcImNsc3hcIjtcbmltcG9ydCB7IGpzeCwganN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIHZhcmlhbnRDbGFzc2VzID0ge1xuICBlcnJvcjoge1xuICAgIGNvbnRhaW5lcjogXCJncm91cCBiZy10cmFuc3BhcmVudC1lcnJvclwiLFxuICAgIHRleHQ6IFwidGV4dC10ZXh0LWVycm9yIGdyb3VwLWhvdmVyOnRleHQtdGV4dC1lcnJvci1ob3ZlclwiLFxuICAgIGljb246IFwidGV4dC1pY29uLWVycm9yIGdyb3VwLWhvdmVyOnRleHQtaWNvbi1lcnJvci1ob3ZlclwiXG4gIH0sXG4gIHdhcm5pbmc6IHtcbiAgICBjb250YWluZXI6IFwiZ3JvdXAgYmctdHJhbnNwYXJlbnQtd2FybmluZ1wiLFxuICAgIHRleHQ6IFwidGV4dC10ZXh0LXdhcm5pbmcgZ3JvdXAtaG92ZXI6dGV4dC10ZXh0LXdhcm5pbmctaG92ZXJcIixcbiAgICBpY29uOiBcInRleHQtaWNvbi13YXJuaW5nIGdyb3VwLWhvdmVyOnRleHQtaWNvbi13YXJuaW5nLWhvdmVyXCJcbiAgfSxcbiAgZGVmYXVsdDoge1xuICAgIGNvbnRhaW5lcjogXCJncm91cCBiZy10cmFuc3BhcmVudC1ncmV5XCIsXG4gICAgdGV4dDogXCJ0ZXh0LXRleHQtcHJpbWFyeSBncm91cC1ob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeS1ob3ZlclwiLFxuICAgIGljb246IFwidGV4dC1pY29uLXByaW1hcnkgZ3JvdXAtaG92ZXI6dGV4dC1pY29uLXByaW1hcnktaG92ZXJcIlxuICB9XG59O1xudmFyIEJhZGdlID0gKHtcbiAgdmFyaWFudCA9IFwiZGVmYXVsdFwiLFxuICBjaGlsZHJlbixcbiAgY2xhc3NOYW1lLFxuICBpY29uXG59KSA9PiB7XG4gIGNvbnN0IHsgY29udGFpbmVyLCBpY29uOiBpY29uQ2xhc3NOYW1lcywgdGV4dCB9ID0gdmFyaWFudENsYXNzZXNbdmFyaWFudF07XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcImRpdlwiLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogY2xzeChcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBcInRleHQtc3VidGV4dCBpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgZ2FwLTEgcm91bmRlZC1mdWxsIGZvbnQtc2VtaWJvbGQgbGVhZGluZy1ub25lXCIsXG4gICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAge1xuICAgICAgICAgIFwiYXNwZWN0LXNxdWFyZSBwLTFcIjogIWNoaWxkcmVuICYmIGljb24sXG4gICAgICAgICAgXCJweC0xLjUgcHktMVwiOiBjaGlsZHJlblxuICAgICAgICB9XG4gICAgICApLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgY2hpbGRyZW4gJiYgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcInNwYW5cIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IGNsc3goXG4gICAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICAgIFwibXQtMC41IHRyYW5zaXRpb24tY29sb3JzIG1vdGlvbi1yZWR1Y2U6dHJhbnNpdGlvbi1ub25lXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBjaGlsZHJlblxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgaWNvbiAmJiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBjbHN4KFxuICAgICAgICAgICAgICBpY29uQ2xhc3NOYW1lcyxcbiAgICAgICAgICAgICAgXCJ0cmFuc2l0aW9uLWNvbG9ycyBtb3Rpb24tcmVkdWNlOnRyYW5zaXRpb24tbm9uZVwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgY2hpbGRyZW46IGljb25cbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59O1xuXG4vLyBzcmMvdWkvaW50ZXJuYWwvU2ltcGxlTWFya2Rvd24udHN4XG5pbXBvcnQgTWFya2Rvd24sIHsgUnVsZVR5cGUsIHNhbml0aXplciB9IGZyb20gXCJtYXJrZG93bi10by1qc3hcIjtcbmltcG9ydCB7IHVzZUlkIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3ggYXMganN4MiB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIExpbmtXaXRoQ29uZmlybSA9ICh7XG4gIGhyZWYsXG4gIHRpdGxlLFxuICBjaGlsZHJlblxufSkgPT4ge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDIoXG4gICAgXCJhXCIsXG4gICAge1xuICAgICAgaHJlZixcbiAgICAgIGNsYXNzTmFtZTogXCJ0ZXh0LXRleHQtbGluayBob3Zlcjp0ZXh0LXRleHQtbGluay1ob3ZlciB1bmRlcmxpbmUgdHJhbnNpdGlvbi1jb2xvcnMgbW90aW9uLXJlZHVjZTp0cmFuc2l0aW9uLW5vbmVcIixcbiAgICAgIHRhcmdldDogXCJfYmxhbmtcIixcbiAgICAgIHRpdGxlLFxuICAgICAgb25DbGljazogKGUpID0+IHtcbiAgICAgICAgaWYgKCFjb25maXJtTGlua1RyYW5zaXRpb24oaHJlZikpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICByZWw6IFwibm9vcGVuZXIgbm9yZWZlcnJlclwiLFxuICAgICAgY2hpbGRyZW5cbiAgICB9XG4gICk7XG59O1xudmFyIFNpbXBsZU1hcmtkb3duID0gKHsgdGV4dCB9KSA9PiB7XG4gIGNvbnN0IGlkID0gdXNlSWQoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyKFxuICAgIE1hcmtkb3duLFxuICAgIHtcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgZGlzYWJsZVBhcnNpbmdSYXdIVE1MOiB0cnVlLFxuICAgICAgICBzbHVnaWZ5OiAoc3RyKSA9PiBgJHtzdHJ9LSR7aWR9YCxcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIHJldHVybiB0eXBlIFJlYWN0Q2hpbGQgaXMgZGVwcmVjYXRlZCwgYXNzdW1pbmcgUmVhY3ROb2RlXG4gICAgICAgIHJlbmRlclJ1bGUobmV4dCwgbm9kZSwgcmVuZGVyQ2hpbGRyZW4sIHN0YXRlKSB7XG4gICAgICAgICAgc3dpdGNoIChub2RlLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgUnVsZVR5cGUuaW1hZ2U6XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgY2FzZSBSdWxlVHlwZS5nZm1UYXNrOlxuICAgICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDIoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcIm1iLVswLjEyNWVtXSBpbmxpbmUtYmxvY2tcIiwgY2hpbGRyZW46IG5vZGUuY29tcGxldGVkID8gXCJcXHUyNzA1XCIgOiBcIlxcdTJCMUNcIiB9KTtcbiAgICAgICAgICAgIGNhc2UgUnVsZVR5cGUubGluazpcbiAgICAgICAgICAgICAgY29uc3Qgc2FuaXRpemVkSHJlZiA9IHNhbml0aXplcihub2RlLnRhcmdldCk7XG4gICAgICAgICAgICAgIGlmIChzYW5pdGl6ZWRIcmVmKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyKFxuICAgICAgICAgICAgICAgICAgTGlua1dpdGhDb25maXJtLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBocmVmOiBzYW5pdGl6ZWRIcmVmLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogbm9kZS50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IHJlbmRlckNoaWxkcmVuKG5vZGUuY2hpbGRyZW4sIHN0YXRlKVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlLmtleVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyKFwic3BhblwiLCB7IGNoaWxkcmVuOiByZW5kZXJDaGlsZHJlbihub2RlLmNoaWxkcmVuLCBzdGF0ZSkgfSwgc3RhdGUua2V5KTtcbiAgICAgICAgICAgIGNhc2UgUnVsZVR5cGUuaGVhZGluZzpcbiAgICAgICAgICAgIGNhc2UgUnVsZVR5cGUucGFyYWdyYXBoOlxuICAgICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDIoXCJwXCIsIHsgY2xhc3NOYW1lOiBcIm1iLVswLjM1ZW1dIGxhc3Q6bWItMFwiLCBjaGlsZHJlbjogcmVuZGVyQ2hpbGRyZW4obm9kZS5jaGlsZHJlbiwgc3RhdGUpIH0sIHN0YXRlLmtleSk7XG4gICAgICAgICAgICBjYXNlIFJ1bGVUeXBlLmJsb2NrUXVvdGU6XG4gICAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MihcImJsb2NrcXVvdGVcIiwgeyBjbGFzc05hbWU6IFwibWItWzAuMzVlbV0gbGFzdDptYi0wXCIsIGNoaWxkcmVuOiByZW5kZXJDaGlsZHJlbihub2RlLmNoaWxkcmVuLCBzdGF0ZSkgfSwgc3RhdGUua2V5KTtcbiAgICAgICAgICAgIGNhc2UgUnVsZVR5cGUuY29kZUJsb2NrOlxuICAgICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDIoXCJwcmVcIiwgeyBjbGFzc05hbWU6IFwidGV4dC13cmFwXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MihcImNvZGVcIiwgeyBjaGlsZHJlbjogbm9kZS50ZXh0IH0pIH0sIHN0YXRlLmtleSk7XG4gICAgICAgICAgICBjYXNlIFJ1bGVUeXBlLm9yZGVyZWRMaXN0OlxuICAgICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDIoXG4gICAgICAgICAgICAgICAgXCJvbFwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJsaXN0LWluc2lkZSBsaXN0LWRlY2ltYWwgW2xpPiZdOnBzLTRcIixcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBub2RlLml0ZW1zLm1hcCgoaXRlbSwgaW5kZXgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3gyKFwibGlcIiwgeyBjaGlsZHJlbjogcmVuZGVyQ2hpbGRyZW4oaXRlbSwgc3RhdGUpIH0sIGluZGV4KSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0YXRlLmtleVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgY2FzZSBSdWxlVHlwZS51bm9yZGVyZWRMaXN0OlxuICAgICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDIoXG4gICAgICAgICAgICAgICAgXCJ1bFwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJsaXN0LWluc2lkZSBsaXN0LWRpc2MgW2xpPiZdOnBzLTRcIixcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBub2RlLml0ZW1zLm1hcCgoaXRlbSwgaW5kZXgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3gyKFwibGlcIiwgeyBjaGlsZHJlbjogcmVuZGVyQ2hpbGRyZW4oaXRlbSwgc3RhdGUpIH0sIGluZGV4KSlcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0YXRlLmtleVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgY2FzZSBSdWxlVHlwZS5icmVha1RoZW1hdGljOlxuICAgICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDIoXCJoclwiLCB7IGNsYXNzTmFtZTogXCJteS1bMC41ZW1dXCIgfSwgc3RhdGUua2V5KTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2hpbGRyZW46IHRleHRcbiAgICB9XG4gICk7XG59O1xuXG4vLyBzcmMvdWkvaW50ZXJuYWwvU25hY2tiYXIudHN4XG5pbXBvcnQgY2xzeDIgZnJvbSBcImNsc3hcIjtcbmltcG9ydCB7IGpzeCBhcyBqc3gzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgdmFyaWFudENsYXNzZXMyID0ge1xuICBlcnJvcjogXCJiZy10cmFuc3BhcmVudC1lcnJvciB0ZXh0LXRleHQtZXJyb3IgYm9yZGVyLXN0cm9rZS1lcnJvclwiLFxuICB3YXJuaW5nOiBcImJnLXRyYW5zcGFyZW50LXdhcm5pbmcgdGV4dC10ZXh0LXdhcm5pbmcgYm9yZGVyLXN0cm9rZS13YXJuaW5nXCJcbn07XG52YXIgU25hY2tiYXIgPSAoeyB2YXJpYW50ID0gXCJ3YXJuaW5nXCIsIGNoaWxkcmVuIH0pID0+IHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gzKFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBjbHN4MihcbiAgICAgICAgdmFyaWFudENsYXNzZXMyW3ZhcmlhbnRdLFxuICAgICAgICBcInJvdW5kZWQtbGcgYm9yZGVyIHAtMyB0ZXh0LXN1YnRleHRcIlxuICAgICAgKSxcbiAgICAgIGNoaWxkcmVuXG4gICAgfVxuICApO1xufTtcblxuLy8gc3JjL3VpL2ludGVybmFsL2ljb25zL0NoZWNrSWNvbi50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3g0IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgQ2hlY2tJY29uID0gKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8ganN4NChcbiAgXCJzdmdcIixcbiAge1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgd2lkdGg6IDE3LFxuICAgIGhlaWdodDogMTYsXG4gICAgdmlld0JveDogXCIwIDAgMTcgMTZcIixcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAuLi5wcm9wcyxcbiAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDQoXG4gICAgICBcInBhdGhcIixcbiAgICAgIHtcbiAgICAgICAgZDogXCJNMTUuMzQ4IDMuNTA5YS45ODQuOTg0IDAgMDEwIDEuNDM3bC04LjE3MyA4LjE3MmEuOTg0Ljk4NCAwIDAxLTEuNDM3IDBMMS42NTIgOS4wMzJhLjk4NC45ODQgMCAwMTAtMS40MzcuOTg0Ljk4NCAwIDAxMS40MzcgMGwzLjM4NCAzLjM1MyA3LjQzOC03LjQzOWEuOTg0Ljk4NCAwIDAxMS40MzcgMHpcIixcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICAgICAgfVxuICAgIClcbiAgfVxuKTtcblxuLy8gc3JjL3VpL2ludGVybmFsL2ljb25zL0NvbmZpZ0ljb24udHN4XG5pbXBvcnQgeyBqc3ggYXMganN4NSwganN4cyBhcyBqc3hzMiB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIENvbmZpZ0ljb24gPSAocHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3hzMihcbiAgXCJzdmdcIixcbiAge1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgd2lkdGg6IDE2LFxuICAgIGhlaWdodDogMTYsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiBcInhNaWRZTWlkIG1lZXRcIixcbiAgICAuLi5wcm9wcyxcbiAgICBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIGpzeDUoXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBkOiBcIk03LjAzNyA4LjEwOGEyLjY1IDIuNjUgMCAxIDEgMS4wNy0xLjA3MSAxLjUyMiAxLjUyMiAwIDAgMSAxLjU1My4wOTQgMS41MjMgMS41MjMgMCAwIDEgMS40OTgtMS4yMzloLjM5OHYtLjQ5YS42NjYuNjY2IDAgMCAwLS41NS0uNjUzbC0uODY2LS4xNTFhNC40ODggNC40ODggMCAwIDAtLjQ0Ny0xLjA3OGwuNTA1LS43MmEuNjY2LjY2NiAwIDAgMC0uMDc2LS44NGwtLjUxOS0uNTI4YS42NjYuNjY2IDAgMCAwLS44NTItLjA3NGwtLjcyLjUwNWE0LjQ4MiA0LjQ4MiAwIDAgMC0xLjA3OC0uNDQ3TDYuODAyLjU1QS42NjYuNjY2IDAgMCAwIDYuMTQ5IDBoLS43MzVhLjY2Ni42NjYgMCAwIDAtLjY1My41NWwtLjE1Mi44NjZhNC40OCA0LjQ4IDAgMCAwLTEuMDc4LjQ0N2wtLjcyNi0uNTA1YS42NjYuNjY2IDAgMCAwLS44NDYuMDc0bC0uNTI3LjUyN2EuNjY2LjY2NiAwIDAgMC0uMDc0Ljg1NGwuNTA1LjcyYy0uMTk1LjMzOC0uMzQ2LjctLjQ0NyAxLjA3OGwtLjg2Ni4xNTFhLjY2Ni42NjYgMCAwIDAtLjU1LjY1NHYuNzM0YS42NjYuNjY2IDAgMCAwIC41NS42NTNsLjg2Ni4xNTJjLjEwMS4zNzcuMjUxLjc0LjQ0NyAxLjA3OGwtLjUwNS43MTZhLjY2Ni42NjYgMCAwIDAgLjA3NC44NTRsLjUyNy41MmEuNjY2LjY2NiAwIDAgMCAuODU0LjA3NWwuNzItLjUwNWMuMzM4LjE5NS43LjM0NiAxLjA3OC40NDdsLjE1MS44NjZhLjY2Ni42NjYgMCAwIDAgLjY1NC41NWguNDl2LS4zOThBMS41MjMgMS41MjMgMCAwIDEgNy4xNDMgOS42NmExLjUyMiAxLjUyMiAwIDAgMS0uMTA3LTEuNTUyWk0xNiAxMS4xNTh2LjU3OGEuNTI0LjUyNCAwIDAgMS0uNDM0LjUwOWwtLjY4My4xMmEzLjUzIDMuNTMgMCAwIDEtLjM1Mi44NmwuMzk4LjU2OGEuNTI0LjUyNCAwIDAgMS0uMDU5LjY3MmwtLjQxLjQxYS41MjQuNTI0IDAgMCAxLS42NzIuMDU5bC0uNTYzLS40MDNhMy41MzcgMy41MzcgMCAwIDEtLjg1LjM1MmwtLjEzLjY4M2EuNTI0LjUyNCAwIDAgMS0uNTEuNDM0aC0uNTc3YS41MjQuNTI0IDAgMCAxLS41MTgtLjQzNGwtLjEyLS42ODNhMy41MzYgMy41MzYgMCAwIDEtLjg0OC0uMzUybC0uNTY4LjM5OGEuNTI1LjUyNSAwIDAgMS0uNjczLS4wNTlsLS40MS0uNDFhLjUyNC41MjQgMCAwIDEtLjA1OS0uNjcybC40LS41NjNhMy41MzUgMy41MzUgMCAwIDEtLjM1Mi0uODVsLS42ODMtLjEzYS41MjQuNTI0IDAgMCAxLS40MzQtLjUxOHYtLjU3YS41MjQuNTI0IDAgMCAxIC40MzQtLjUxN2wuNjgzLS4xMmEzLjU0IDMuNTQgMCAwIDEgLjM1Mi0uODQ4bC0uMzk4LS41NjdhLjUyNC41MjQgMCAwIDEgLjA1OS0uNjcybC40MS0uNDFhLjUyNC41MjQgMCAwIDEgLjY3Mi0uMDU5bC41NjcuMzk4Yy4yNjYtLjE1NC41NTItLjI3Mi44NDktLjM1MmwuMTE5LS42ODNhLjUyNC41MjQgMCAwIDEgLjUxOC0uNDM0aC41NzhhLjUyNC41MjQgMCAwIDEgLjUwOS40MzRsLjEyLjY4M2MuMy4wNzkuNTkuMTk3Ljg2LjM1MmwuNTY2LS4zOThhLjUyNC41MjQgMCAwIDEgLjY3My4wNTlsLjQxLjQxYS41MjQuNTI0IDAgMCAxIC4wNTguNjcybC0uNDAxLjU2N2MuMTU0LjI2Ni4yNzIuNTUyLjM1Mi44NDlsLjY4My4xMTlhLjUyNC41MjQgMCAwIDEgLjQzNC41MThabS0yLjk5MS4yODlhMS41NjMgMS41NjMgMCAxIDAtMy4xMjYgMCAxLjU2MyAxLjU2MyAwIDAgMCAzLjEyNiAwWlwiXG4gICAgICAgIH1cbiAgICAgICksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4NShcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIGQ6IFwiTTYuODg2IDUuNzc3YTEuMTA1IDEuMTA1IDAgMSAxLTIuMjEgMCAxLjEwNSAxLjEwNSAwIDAgMSAyLjIxIDBaXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIF1cbiAgfVxuKTtcblxuLy8gc3JjL3VpL2ludGVybmFsL2ljb25zL0RlZXBMaW5rSWNvbi50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3g2LCBqc3hzIGFzIGpzeHMzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgRGVlcExpbmtJY29uID0gKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8ganN4czMoXG4gIFwic3ZnXCIsXG4gIHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiAxMCxcbiAgICBoZWlnaHQ6IDEwLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDEwIDEwXCIsXG4gICAgcHJlc2VydmVBc3BlY3RSYXRpbzogXCJ4TWlkWU1pZCBtZWV0XCIsXG4gICAgLi4ucHJvcHMsXG4gICAgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3g2KFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgICAgZDogXCJNMi41IDFoMS43OTN2MUgyLjVhLjUuNSAwIDAgMC0uNS41djVhLjUuNSAwIDAgMCAuNS41aDVhLjUuNSAwIDAgMCAuNS0uNVY1LjcwN2gxVjcuNUExLjUgMS41IDAgMCAxIDcuNSA5aC01QTEuNSAxLjUgMCAwIDEgMSA3LjV2LTVBMS41IDEuNSAwIDAgMSAyLjUgMVpcIlxuICAgICAgICB9XG4gICAgICApLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeDYoXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBkOiBcIk05IDRIOFYyLjcwOGwtMyAzTDQuMjkzIDVsMy0zSDZWMWgyLjVhLjUuNSAwIDAgMSAuNS41VjRaXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIF1cbiAgfVxuKTtcblxuLy8gc3JjL3VpL2ludGVybmFsL2ljb25zL0RpYWxlY3RMb2dvLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDcsIGpzeHMgYXMganN4czQgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBEaWFsZWN0TG9nbyA9IChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIGpzeHM0KFxuICBcInN2Z1wiLFxuICB7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB3aWR0aDogNjMsXG4gICAgaGVpZ2h0OiAxMixcbiAgICB2aWV3Qm94OiBcIjAgMCA2MyAxMlwiLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIC4uLnByb3BzLFxuICAgIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4NyhcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIGQ6IFwiTTEuMjYgOC42OTZDLjkxMSA3LjQ2Ny45NTcgNS4xOTguOTU3IDUuMTk4czEuMjcgMi4wNDggMy40NTkgMi42ODhjMS42MTMuNDcyIDMuODMzLjUwOCA1LjIzLS4xMjMgMS42OTItLjU1NSAyLjc0Mi0yLjI4MSAyLjI0Ni0zLjUxNS0uNzI4LTEuODE0LTIuODQ2LTIuNTMyLTUuMDU1LTIuMzZhNi41NDEgNi41NDEgMCAwIDAtMy45MjIgMS43NDFjLS44MjYuNzktMS4wMzQgMS40MjUtMS4wMzQgMS40MjVzLS42NDQtLjY4Ny0uNzIyLTEuNDI1Qy45OCAxLjkzNiAyLjUwMi42MTcgNC42NzIuMTYxYzIuOTM5LS42MTggNi4zOTEuNTgyIDguMjc2IDIuOTMgMS4zMDMgMS42MjMgMS42NjUgMy44MjQuNTg4IDUuNzItMS42MTMgMi44MzctNS4yMDUgMy4zOTktNy41MyAzLjEyOC0yLjMyNy0uMjctNC4zNTQtMS44NTEtNC43NDctMy4yNDNaTTI3LjczMyAxMS4yNjh2LTcuNzJoMi40MzN2Ny43MmgtMi40MzNaTTI4Ljk1NiAyLjY0N2ExLjI0IDEuMjQgMCAwIDEtLjg4LS4zNCAxLjEwMyAxLjEwMyAwIDAgMS0uMzY4LS44MzdjMC0uMzIuMTIzLS41OTUuMzY4LS44MjMuMjQ2LS4yMjkuNTM3LS4zNDcuODgtLjM0Ny4zNDMgMCAuNjQuMTE4Ljg4LjM0Ny4yNDUuMjI4LjM2OC41MDMuMzY4LjgyMyAwIC4zMjctLjEyMy42MDItLjM2OC44MzdhMS4yNCAxLjI0IDAgMCAxLS44OC4zNFpcIlxuICAgICAgICB9XG4gICAgICApLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeDcoXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgICAgICAgZDogXCJNMjIuMDYzIDExLjI2OEgxOC4zVi45NzRoMy43NThjMS4wMzUgMCAxLjkzNC4yMDkgMi42NzguNjIuNzUuNDEyIDEuMzMyIDEgMS43NCAxLjc3Mi40MDcuNzY0LjYxNCAxLjY4Ni42MTQgMi43NTEgMCAxLjA3Mi0uMjA3IDEuOTk0LS42MTQgMi43NjVhNC4yMTggNC4yMTggMCAwIDEtMS43MzQgMS43NzJjLS43NS40MDUtMS42NDMuNjE0LTIuNjc4LjYxNFptLTEuMy0yLjEyNGgxLjIxYy41NjkgMCAxLjA1NC0uMDk4IDEuNDQ5LS4yOTQuNC0uMTk2LjY5OC0uNTE3Ljg5OS0uOTYxLjIwNy0uNDQ1LjMxLTEuMDQuMzEtMS43NzggMC0uNzM5LS4xMDMtMS4zMjctLjMxLTEuNzcxLS4yMDctLjQ0NS0uNTExLS43NTktLjkxMi0uOTU1LS40MDEtLjE5Ni0uODg2LS4yOTQtMS40NzUtLjI5NGgtMS4xN3Y2LjA1M1pNMzEuODYgMTEuMTVhMy4yMyAzLjIzIDAgMCAwIDEuMy4yNDljLjM1NiAwIC42NzMtLjA0Ni45NTgtLjEzOGEyLjIyIDIuMjIgMCAwIDAgLjc0My0uNDA1Yy4yMTQtLjE4My4zODgtLjQwNS41MjQtLjY2aC4wNTh2MS4wNzloMi4yOVY2LjAxOGEyLjMgMi4zIDAgMCAwLS4yNTItMS4wOTEgMi4yNiAyLjI2IDAgMCAwLS43MDUtLjgwNCAzLjQwNCAzLjQwNCAwIDAgMC0xLjA3NC0uNTAzIDQuODk0IDQuODk0IDAgMCAwLTEuMzQ1LS4xNzdjLS42ODYgMC0xLjI2OC4xMDUtMS43NTMuMzItLjQ4NS4yMS0uODY3LjUwNC0xLjE0NS44NzZhMi42MjYgMi42MjYgMCAwIDAtLjUxIDEuMjU1bDIuMjQ0LjA3OWEuODk3Ljg5NyAwIDAgMSAuMzc1LS41ODJjLjE5NC0uMTQ0LjQ1My0uMjEuNzc2LS4yMS4yOTcgMCAuNTM3LjA3My43MTEuMjEuMTkuMTU2LjI2Ni4zNzkuMjY2LjYyYS40MTguNDE4IDAgMCAxLS4xODIuMzY3Yy0uMTE2LjA4NS0uMzEuMTUtLjU3NS4xOTZhMTMuOTMgMTMuOTMgMCAwIDEtMS4wNDguMTI0Yy0uMzg4LjAzMy0uNzUuMDk4LTEuMDkzLjE5Ni0uMzQzLjA5Mi0uNjQuMjM2LS45MDYuNDE5YTEuODg1IDEuODg1IDAgMCAwLS42MTQuNzE5Yy0uMTQ5LjI5NC0uMjI2LjY1My0uMjI2IDEuMDg1IDAgLjUxLjExLjkzNC4zMjMgMS4yNzQuMTg4LjM0LjQ4NS41ODguODYuNzU4Wm0yLjc1NS0xLjUyM2ExLjU1NyAxLjU1NyAwIDAgMS0uNzA1LjE2NGMtLjI3OCAwLS41MS0uMDY2LS42OTItLjIwMy0uMTgtLjEzNy0uMjcxLS4zMjctLjI3MS0uNTgyYS43Mi43MiAwIDAgMSAuMTIzLS40My45MDYuOTA2IDAgMCAxIC4zNjgtLjMwMmMuMTYyLS4wNzguMzU2LS4xMzcuNTg5LS4xNy4xMS0uMDIuMjMzLS4wMzIuMzU2LS4wNTIuMTIzLS4wMi4yMzktLjA0Ni4zNTUtLjA3MmEyLjU5IDIuNTkgMCAwIDAgLjU3LS4xODN2LjczMmMwIC4yNDktLjA2NS40Ny0uMTg4LjY2YTEuMjc1IDEuMjc1IDAgMCAxLS41MDUuNDM4WlwiLFxuICAgICAgICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICAgICAgICB9XG4gICAgICApLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeDcoXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBkOiBcIk00MC44NDQuOTc0djEwLjI5NGgtMi40MzJWLjk3NGgyLjQzMlpNNTEuMjgzIDEwLjkwOWMuNTc2LjMzMyAxLjI2OC41MDMgMi4wNzYuNTAzLjcxOCAwIDEuMzMzLS4xMyAxLjg1Ny0uMzkyLjUyNC0uMjY4LjkzMS0uNjM0IDEuMjE2LTEuMTEyLjI5LS40NzcuNDQ2LTEuMDMyLjQ3Mi0xLjY2NmgtMi4yN2ExLjc3OSAxLjc3OSAwIDAgMS0uMjE0LjY5MyAxLjEzIDEuMTMgMCAwIDEtLjQzMy40MjQgMS4xODIgMS4xODIgMCAwIDEtLjU5NS4xNDRjLS4yODUgMC0uNTMtLjA3OC0uNzQ0LS4yMzUtLjIxNC0uMTYzLS4zNzUtLjM5OS0uNDk4LS43MDYtLjExNy0uMzE0LS4xNzUtLjctLjE3NS0xLjE1NyAwLS40NTcuMDU4LS44MzcuMTc1LTEuMTQ0LjExNi0uMzEzLjI4NS0uNTQ5LjQ5OC0uNzA2LjIxMy0uMTYzLjQ2LS4yNDEuNzQ0LS4yNDEuMzQ5IDAgLjYyNy4xMS44NDcuMzQuMjIuMjIyLjM1LjUzNS40MDEuOTI4aDIuMjdjLS4wMTktLjYzNC0uMTc0LTEuMTgzLS40NzItMS42NTRhMi45ODUgMi45ODUgMCAwIDAtMS4yMzUtMS4wOThjLS41MjQtLjI1NS0xLjEzOS0uMzg2LTEuODQ0LS4zODYtLjgwMiAwLTEuNDg3LjE3LTIuMDYzLjUwM2EzLjM3MyAzLjM3MyAwIDAgMC0xLjMyNiAxLjQwNmMtLjMxLjU5NS0uNDY2IDEuMjg3LS40NjYgMi4wNzggMCAuNzg1LjE1NiAxLjQ4NC40NjYgMi4wNzlhMy4yNSAzLjI1IDAgMCAwIDEuMzEzIDEuMzk5WlwiXG4gICAgICAgIH1cbiAgICAgICksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4NyhcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgICAgICBkOiBcIk00NS4yODUgMTEuNDEyYy0uODAxIDAtMS40ODctLjE1Ny0yLjA3LS40NzdhMy4yNjkgMy4yNjkgMCAwIDEtMS4zMzItMS4zNzNjLS4zMS0uNTk1LS40NjUtMS4zMDctLjQ2NS0yLjEyNCAwLS43OTguMTU1LTEuNDk3LjQ2NS0yLjA5Mi4zMS0uNjAxLjc1LTEuMDY1IDEuMzItMS4zOTkuNTY5LS4zMzMgMS4yMzUtLjUwMyAyLjAwNS0uNTAzYTQuMjIgNC4yMiAwIDAgMSAxLjQ5NC4yNTVjLjQ1My4xNy44NC40MjUgMS4xNy43NTguMzMuMzM0LjU4My43NTIuNzY0IDEuMjQyLjE4MS40OS4yNzIgMS4wNTMuMjcyIDEuNjg3VjhoLTUuMDl2LjA2NWMwIC4zMTQuMDU4LjU4OS4xOC44My4xMjMuMjM2LjI5OC40MTkuNTI0LjU1LjIyNy4xMy40OTIuMTk1LjgwOS4xOTUuMjEzIDAgLjQxNC0uMDMyLjU4OC0uMDkxLjE3NS0uMDU5LjMyNC0uMTUuNDUzLS4yNjguMTIzLS4xMTguMjItLjI2MS4yODUtLjQzMWwyLjIzMS4wNjVjLS4wOS41MDMtLjI5Ny45NDgtLjYxNCAxLjMyLS4zMS4zNzMtLjcxOC42Ni0xLjIzLjg3LS41MS4yMDItMS4wOTIuMzA3LTEuNzU4LjMwN1ptMS4zNjUtNC44NWMtLjAwNi0uMjYxLS4wNDUtLjQ2NC0uMTYxLS42NjdhMS4zNTYgMS4zNTYgMCAwIDAtLjUxMS0uNTAzIDEuNDAzIDEuNDAzIDAgMCAwLS43MTItLjE3NyAxLjQzIDEuNDMgMCAwIDAtLjczLjE4NCAxLjMzOSAxLjMzOSAwIDAgMC0uNTEyLjQ5NiAxLjQzNiAxLjQzNiAwIDAgMC0uMi42NjdoMi44MjZaXCIsXG4gICAgICAgICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiXG4gICAgICAgIH1cbiAgICAgICksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4NyhcbiAgICAgICAgXCJwYXRoXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICAgIGQ6IFwiTTYxLjkwMSAzLjU0OXYxLjgxaC0xLjM3N3YzLjQ4NGMwIC4xNS4wMjYuMjc1LjA3LjM2NmEuNDQ0LjQ0NCAwIDAgMCAuMjE0LjE5NmMuMDkuMDQuMjA3LjA1Mi4zMzcuMDUyLjA5IDAgLjE4Ny0uMDA2LjI5LS4wMjYuMTA0LS4wMi4xODgtLjAzOS4yNC0uMDUybC4zNjkgMS43NzFjLS4xMTcuMDMzLS4yNzguMDc5LS40OTIuMTI0YTMuODIgMy44MiAwIDAgMS0uNzUuMDk5Yy0uNTcuMDI2LTEuMDYtLjA0LTEuNDY4LS4yMDNhMS45MDcgMS45MDcgMCAwIDEtLjkzMi0uNzY1Yy0uMjEzLS4zNDYtLjMxNy0uNzc4LS4zMS0xLjNWNS4zNTNoLTEuMDFWMy41NDloMS4wMXYtMS44NWgyLjQzMnYxLjg1SDYxLjlaXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIF1cbiAgfVxuKTtcblxuLy8gc3JjL3VpL2ludGVybmFsL2ljb25zL0V4Y2xhbWF0aW9uU2hpZWxkSWNvbi50c3hcbmltcG9ydCBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3ggYXMganN4OCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIEV4Y2xhbWF0aW9uU2hpZWxkSWNvbiA9IChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIGpzeDgoXG4gIFwic3ZnXCIsXG4gIHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiAxNixcbiAgICBoZWlnaHQ6IDE2LFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgcHJlc2VydmVBc3BlY3RSYXRpbzogXCJ4TWlkWU1pZCBtZWV0XCIsXG4gICAgLi4ucHJvcHMsXG4gICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g4KFxuICAgICAgXCJwYXRoXCIsXG4gICAgICB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgICAgZDogXCJtOC4zOCAxLjA4NyA1LjQ4MyAyLjMzNGMuNjQxLjI5MSAxLjEzNy45MDQgMS4xMzcgMS42NjItLjAzIDIuOTE2LTEuMjI1IDguMTk1LTYuMjQxIDEwLjYxNmExLjc5NCAxLjc5NCAwIDAgMS0xLjU0NiAwYy01LjAxNi0yLjQyLTYuMjEyLTcuNy02LjIxMi0xMC42MTYtLjAyOS0uNzU4LjQ2Ny0xLjM3IDEuMTA4LTEuNjYybDUuNDgzLTIuMzM0YS45MzIuOTMyIDAgMCAxIC43ODggMFptLTEuMzEzIDEwLjI5YzAgLjUyNC40MDguOTMzLjkzMy45MzNhLjk0Ljk0IDAgMCAwIC45MzMtLjkzNC45Ni45NiAwIDAgMC0uOTMzLS45MzMuOTQuOTQgMCAwIDAtLjkzMy45MzRaTTggNC4xMDlhLjkuOSAwIDAgMC0uOS45djMuNjA2YS45LjkgMCAwIDAgMS44IDBWNS4wMWEuOS45IDAgMCAwLS45LS45WlwiLFxuICAgICAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgICAgIH1cbiAgICApXG4gIH1cbik7XG5cbi8vIHNyYy91aS9pbnRlcm5hbC9pY29ucy9JbmZvU2hpZWxkSWNvbi50c3hcbmltcG9ydCBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3ggYXMganN4OSB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIEluZm9TaGllbGRJY29uID0gKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8ganN4OShcbiAgXCJzdmdcIixcbiAge1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgd2lkdGg6IDE2LFxuICAgIGhlaWdodDogMTYsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiBcInhNaWRZTWlkIG1lZXRcIixcbiAgICAuLi5wcm9wcyxcbiAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDkoXG4gICAgICBcInBhdGhcIixcbiAgICAgIHtcbiAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgICBkOiBcIk0xMy44NjMgMy40MiA4LjM4IDEuMDg4YS45MzIuOTMyIDAgMCAwLS43ODcgMEwyLjEwOCAzLjQyMWMtLjY0MS4yOTEtMS4xMzcuOTA0LTEuMTA4IDEuNjYyIDAgMi45MTYgMS4xOTYgOC4xOTUgNi4yMTIgMTAuNjE2LjQ5Ni4yMzMgMS4wNS4yMzMgMS41NDYgMCA1LjAxNi0yLjQyIDYuMjEyLTcuNyA2LjI0MS0xMC42MTYgMC0uNzU4LS40OTYtMS4zNy0xLjEzNy0xLjY2MlptLTYuMzMgNy4zNWgtLjU4MmEuNjkuNjkgMCAwIDAtLjcuN2MwIC40MDguMjkyLjcuNy43aDIuMjE2Yy4zNzkgMCAuNy0uMjkyLjctLjcgMC0uMzgtLjMyMS0uNy0uNy0uN2gtLjIzNFY4LjIwNGMwLS4zOC0uMzItLjctLjctLjdINy4yMDhhLjY5LjY5IDAgMCAwLS43LjdjMCAuNDA4LjI5Mi43LjcuN2guMzI2djEuODY2Wm0tLjQ2Ni01LjEzM2MwIC41MjUuNDA4LjkzMy45MzMuOTMzYS45NC45NCAwIDAgMCAuOTMzLS45MzNBLjk2Ljk2IDAgMCAwIDggNC43MDRhLjk0Ljk0IDAgMCAwLS45MzMuOTMzWlwiLFxuICAgICAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgICAgIH1cbiAgICApXG4gIH1cbik7XG5cbi8vIHNyYy91aS9pbnRlcm5hbC9pY29ucy9MaW5rSWNvbi50c3hcbmltcG9ydCBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3ggYXMganN4MTAsIGpzeHMgYXMganN4czUgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBMaW5rSWNvbiA9IChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIGpzeHM1KFxuICBcInN2Z1wiLFxuICB7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB3aWR0aDogMTYsXG4gICAgaGVpZ2h0OiAxNixcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IFwieE1pZFlNaWQgbWVldFwiLFxuICAgIC4uLnByb3BzLFxuICAgIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4czUoXCJnXCIsIHsgZmlsbDogXCJjdXJyZW50Q29sb3JcIiwgY2xpcFBhdGg6IFwidXJsKCNhKVwiLCBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MTAoXCJwYXRoXCIsIHsgZDogXCJNNy40MDkgOS43NzQgOS43NzQgNy40MWEuODM2LjgzNiAwIDEgMC0xLjE4My0xLjE4M0w2LjIyNiA4LjU5MkEuODM2LjgzNiAwIDEgMCA3LjQxIDkuNzc0WlwiIH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MTAoXCJwYXRoXCIsIHsgZDogXCJNMTAuNzYuNTAzQTQuNzA5IDQuNzA5IDAgMCAwIDcuNDEgMS44ODlMNS44MyAzLjQ2N0EuODM2LjgzNiAwIDEgMCA3LjAxNCA0LjY1TDguNTkgMy4wNzJhMy4wNjcgMy4wNjcgMCAwIDEgNC4zMzggNC4zMzdMMTEuMzUgOC45ODdhLjgzNS44MzUgMCAxIDAgMS4xODIgMS4xODJsMS41NzgtMS41NzdhNC43MzggNC43MzggMCAwIDAtMy4zNS04LjA5Wk01LjI0IDE1LjQ5N2E0LjcwNiA0LjcwNiAwIDAgMCAzLjM1MS0xLjM4NmwxLjU3OC0xLjU3N2EuODM2LjgzNiAwIDEgMC0xLjE4Mi0xLjE4M2wtMS41NzggMS41NzhhMy4wNjcgMy4wNjcgMCAxIDEtNC4zMzctNC4zMzdMNC42NSA3LjAxNEEuODM2LjgzNiAwIDEgMCAzLjQ2NyA1LjgzTDEuODg5IDcuNDFhNC43MzcgNC43MzcgMCAwIDAgMy4zNTEgOC4wODhaXCIgfSlcbiAgICAgIF0gfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4MTAoXCJkZWZzXCIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gxMChcImNsaXBQYXRoXCIsIHsgaWQ6IFwiYVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDEwKFwicGF0aFwiLCB7IGZpbGw6IFwiI2ZmZlwiLCBkOiBcIk0wIDBoMTZ2MTZIMHpcIiB9KSB9KSB9KVxuICAgIF1cbiAgfVxuKTtcblxuLy8gc3JjL3VpL2ludGVybmFsL2ljb25zL1NwaW5uZXJEb3RzLnRzeFxuaW1wb3J0IHsgdXNlTWVtbyBhcyB1c2VNZW1vMiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgRnJhZ21lbnQsIGpzeCBhcyBqc3gxMSwganN4cyBhcyBqc3hzNiB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIFBPSU5UUyA9IFswLCA0NSwgOTAsIDEzNSwgMTgwLCAyMjUsIDI3MCwgMzE1XTtcbnZhciBTcGlubmVyRG90cyA9ICh7XG4gIHdpZHRoID0gMTZcbn0pID0+IHtcbiAgY29uc3QgZG90cyA9IHVzZU1lbW8yKFxuICAgICgpID0+IFBPSU5UUy5tYXAoKHBvaW50LCBpbmRleCkgPT4gLyogQF9fUFVSRV9fICovIGpzeDExKFxuICAgICAgXCJjaXJjbGVcIixcbiAgICAgIHtcbiAgICAgICAgY3k6IDEyLFxuICAgICAgICBjeDogMTIsXG4gICAgICAgIHI6IDQsXG4gICAgICAgIHRyYW5zZm9ybTogYHJvdGF0ZSgke3BvaW50fSwgMjQsIDI0KWAsXG4gICAgICAgIGZpbGxPcGFjaXR5OiBpbmRleCA8IDIgPyAwIDogMVxuICAgICAgfSxcbiAgICAgIHBvaW50XG4gICAgKSksXG4gICAgW11cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzNihGcmFnbWVudCwgeyBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxMShcInN0eWxlXCIsIHsgY2hpbGRyZW46IFwiQGtleWZyYW1lcyBzcGlue3Rve3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKX19XCIgfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDExKFxuICAgICAgXCJzdmdcIixcbiAgICAgIHtcbiAgICAgICAgdmlld0JveDogXCIwIDAgNDggNDhcIixcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIFwiZGF0YS10ZXN0aWRcIjogXCJyb3RhdGluZy1kb3RzLXN2Z1wiLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogXCJyb3RhdGluZy1kb3RzLWxvYWRpbmdcIixcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBhbmltYXRpb25EdXJhdGlvbjogXCIxc1wiLFxuICAgICAgICAgIGFuaW1hdGlvbjogXCJzcGluIDFzIHN0ZXBzKDgsIGVuZCkgaW5maW5pdGVcIlxuICAgICAgICB9LFxuICAgICAgICBjaGlsZHJlbjogZG90c1xuICAgICAgfVxuICAgIClcbiAgXSB9KTtcbn07XG5cbi8vIHNyYy91aS9pbnRlcm5hbC9CdXR0b24udHN4XG5pbXBvcnQgY2xzeDMgZnJvbSBcImNsc3hcIjtcbmltcG9ydCB7IGpzeCBhcyBqc3gxMiwganN4cyBhcyBqc3hzNyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIEJ1dHRvbiA9ICh7XG4gIG9uQ2xpY2ssXG4gIGRpc2FibGVkLFxuICB2YXJpYW50ID0gXCJkZWZhdWx0XCIsXG4gIGNoaWxkcmVuLFxuICBjdGFUeXBlID0gXCJidXR0b25cIixcbiAgY2xhc3NOYW1lXG59KSA9PiB7XG4gIGNvbnN0IGlzTGluayA9IGN0YVR5cGUgPT09IFwibGlua1wiO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHM3KFxuICAgIFwiYnV0dG9uXCIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBjbHN4MyhcbiAgICAgICAgXCJyb3VuZGVkLWJ1dHRvbiB0ZXh0LXRleHQgaC1pbnB1dC1oZWlnaHQgcmVsYXRpdmUgZmxleCB3LWZ1bGwgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQtbm93cmFwIHB4LTQgcHktMyBmb250LXNlbWlib2xkIHRyYW5zaXRpb24tY29sb3JzIG1vdGlvbi1yZWR1Y2U6dHJhbnNpdGlvbi1ub25lXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBcInB4LTVcIjogaXNMaW5rLFxuICAgICAgICAgIFwiYmctYnV0dG9uLWRpc2FibGVkIHRleHQtdGV4dC1idXR0b24tZGlzYWJsZWRcIjogZGlzYWJsZWQgJiYgdmFyaWFudCAhPT0gXCJzdWNjZXNzXCIsXG4gICAgICAgICAgXCJiZy1idXR0b24gdGV4dC10ZXh0LWJ1dHRvbiBob3ZlcjpiZy1idXR0b24taG92ZXJcIjogIWRpc2FibGVkICYmIHZhcmlhbnQgIT09IFwic3VjY2Vzc1wiLFxuICAgICAgICAgIFwiYmctYnV0dG9uLXN1Y2Nlc3MgdGV4dC10ZXh0LWJ1dHRvbi1zdWNjZXNzXCI6IHZhcmlhbnQgPT09IFwic3VjY2Vzc1wiXG4gICAgICAgICAgLy8gc3VjY2VzcyBpcyBsaWtlbHkgdG8gYmUgYWx3YXlzIGRpc2FibGVkXG4gICAgICAgIH0sXG4gICAgICAgIGNsYXNzTmFtZVxuICAgICAgKSxcbiAgICAgIGRpc2FibGVkLFxuICAgICAgb25DbGljayxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIGNoaWxkcmVuLFxuICAgICAgICBpc0xpbmsgJiYgLyogQF9fUFVSRV9fICovIGpzeDEyKFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJhYnNvbHV0ZSByaWdodC0yIHRvcC0yXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTIoXG4gICAgICAgICAgRGVlcExpbmtJY29uLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogY2xzeDMoXCJoLTIuNSB3LTIuNVwiLCB7XG4gICAgICAgICAgICAgIFwidGV4dC10ZXh0LWJ1dHRvbi1kaXNhYmxlZFwiOiBkaXNhYmxlZCAmJiB2YXJpYW50ICE9PSBcInN1Y2Nlc3NcIixcbiAgICAgICAgICAgICAgXCJ0ZXh0LXRleHQtYnV0dG9uXCI6ICFkaXNhYmxlZCAmJiB2YXJpYW50ICE9PSBcInN1Y2Nlc3NcIixcbiAgICAgICAgICAgICAgXCJ0ZXh0LXRleHQtYnV0dG9uLXN1Y2Nlc3NcIjogdmFyaWFudCA9PT0gXCJzdWNjZXNzXCJcbiAgICAgICAgICAgICAgLy8gc3VjY2VzcyBpcyBsaWtlbHkgdG8gYmUgYWx3YXlzIGRpc2FibGVkXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgKSB9KVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn07XG5cbi8vIHNyYy91aS9pbnRlcm5hbC9pbnB1dHMvQWN0aW9uQnV0dG9uLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDEzLCBqc3hzIGFzIGpzeHM4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgQWN0aW9uQnV0dG9uID0gKHtcbiAgdGV4dCxcbiAgbG9hZGluZyxcbiAgZGlzYWJsZWQsXG4gIHZhcmlhbnQsXG4gIG9uQ2xpY2ssXG4gIGN0YVR5cGVcbn0pID0+IHtcbiAgY29uc3QgQnV0dG9uQ29udGVudCA9ICgpID0+IHtcbiAgICBpZiAobG9hZGluZylcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4czgoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImZsZXggZmxleC1yb3cgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGdhcC0yIHRleHQtbm93cmFwXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgIHRleHQsXG4gICAgICAgIFwiIFwiLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MTMoU3Bpbm5lckRvdHMsIHt9KVxuICAgICAgXSB9KTtcbiAgICBpZiAodmFyaWFudCA9PT0gXCJzdWNjZXNzXCIpXG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHM4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGZsZXgtcm93IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBnYXAtMiB0ZXh0LW5vd3JhcFwiLCBjaGlsZHJlbjogW1xuICAgICAgICB0ZXh0LFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MTMoQ2hlY2tJY29uLCB7fSlcbiAgICAgIF0gfSk7XG4gICAgcmV0dXJuIHRleHQ7XG4gIH07XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MTMoXG4gICAgQnV0dG9uLFxuICAgIHtcbiAgICAgIG9uQ2xpY2s6ICgpID0+IG9uQ2xpY2soKSxcbiAgICAgIGRpc2FibGVkLFxuICAgICAgdmFyaWFudCxcbiAgICAgIGN0YVR5cGUsXG4gICAgICBjbGFzc05hbWU6IFwiYmxpbmstYWN0aW9uLWJ1dHRvblwiLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gxMyhcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwibWluLXctMCB0cnVuY2F0ZVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDEzKEJ1dHRvbkNvbnRlbnQsIHt9KSB9KVxuICAgIH1cbiAgKTtcbn07XG5cbi8vIHNyYy91aS9pbnRlcm5hbC9pbnB1dHMvQWN0aW9uQ2hlY2tib3hHcm91cC50c3hcbmltcG9ydCBjbHN4NSBmcm9tIFwiY2xzeFwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VNZW1vIGFzIHVzZU1lbW8zLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvdWkvaW50ZXJuYWwvQ2hlY2tib3gudHN4XG5pbXBvcnQgY2xzeDQgZnJvbSBcImNsc3hcIjtcbmltcG9ydCB7IHVzZUlkIGFzIHVzZUlkMiB9IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvdWkvaW50ZXJuYWwvaWNvbnMvQ2hlY2tib3hDaGVja0ljb24udHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MTQgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBTdmdDb21wb25lbnQgPSAocHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3gxNChcbiAgXCJzdmdcIixcbiAge1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgd2lkdGg6IDE2LFxuICAgIGhlaWdodDogMTYsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiBcInhNaWRZTWlkIG1lZXRcIixcbiAgICAuLi5wcm9wcyxcbiAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDE0KFxuICAgICAgXCJwYXRoXCIsXG4gICAgICB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgICAgZDogXCJNMTIuNiA1LjM5OGEuODUuODUgMCAwIDEtLjAwMSAxLjIwMmwtNC43ODQgNC43NzNhLjg1Ljg1IDAgMCAxLTEuMTkzLjAwOEwzLjkzNCA4Ljc3YS44NS44NSAwIDAgMSAxLjE4NC0xLjIybDIuMDg4IDIuMDI3IDQuMTkyLTQuMTgyYS44NS44NSAwIDAgMSAxLjIwMi4wMDJaXCIsXG4gICAgICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICAgICAgfVxuICAgIClcbiAgfVxuKTtcbnZhciBDaGVja2JveENoZWNrSWNvbl9kZWZhdWx0ID0gU3ZnQ29tcG9uZW50O1xuXG4vLyBzcmMvdWkvaW50ZXJuYWwvQ2hlY2tib3gudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MTUsIGpzeHMgYXMganN4czkgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBDaGVja2JveCA9ICh7XG4gIGxhYmVsLFxuICB2YWx1ZSxcbiAgb25DaGFuZ2UsXG4gIG5hbWUsXG4gIGRpc2FibGVkLFxuICBpbnB1dFZhbHVlXG59KSA9PiB7XG4gIGNvbnN0IGlkID0gdXNlSWQyKCk7XG4gIGNvbnN0IGxhYmVsSWQgPSBgJHtpZH1fbGFiZWxgO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHM5KFxuICAgIFwiYnV0dG9uXCIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBjbHN4NChcImZsZXggaC1mdWxsIGdhcC0yLjVcIiwge1xuICAgICAgICBcImN1cnNvci1wb2ludGVyXCI6ICFkaXNhYmxlZCxcbiAgICAgICAgXCJjdXJzb3Itbm90LWFsbG93ZWRcIjogZGlzYWJsZWRcbiAgICAgIH0pLFxuICAgICAgb25DbGljazogKCkgPT4gIWRpc2FibGVkICYmIG9uQ2hhbmdlKCF2YWx1ZSksXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4czkoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZmxleCBoLWZ1bGwgaXRlbXMtY2VudGVyXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDE1KFxuICAgICAgICAgICAgXCJpbnB1dFwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJoaWRkZW5cIixcbiAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBpbnB1dFZhbHVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKSxcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MTUoXG4gICAgICAgICAgICBcInNwYW5cIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcm9sZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogbGFiZWxJZCxcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbHN4NChcbiAgICAgICAgICAgICAgICBcIm10LTAuNSBmbGV4IGFzcGVjdC1zcXVhcmUgaC1bMTZweF0gaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHJvdW5kZWQtbGcgYm9yZGVyIHRyYW5zaXRpb24tY29sb3JzIG1vdGlvbi1yZWR1Y2U6dHJhbnNpdGlvbi1ub25lXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgXCJib3JkZXItaW5wdXQtc3Ryb2tlIGJnLWlucHV0LWJnXCI6ICF2YWx1ZSAmJiAhZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgICBcImJvcmRlci1pbnB1dC1zdHJva2Utc2VsZWN0ZWQgYmctaW5wdXQtYmctc2VsZWN0ZWRcIjogdmFsdWUgJiYgIWRpc2FibGVkLFxuICAgICAgICAgICAgICAgICAgXCJib3JkZXItaW5wdXQtc3Ryb2tlLWRpc2FibGVkIGJnLWlucHV0LWJnXCI6ICF2YWx1ZSAmJiBkaXNhYmxlZCxcbiAgICAgICAgICAgICAgICAgIFwiYm9yZGVyLWlucHV0LXN0cm9rZS1kaXNhYmxlZCBiZy1pbnB1dC1iZy1kaXNhYmxlZFwiOiB2YWx1ZSAmJiBkaXNhYmxlZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gxNShcbiAgICAgICAgICAgICAgICBDaGVja2JveENoZWNrSWNvbl9kZWZhdWx0LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xzeDQoXCJoLWZ1bGwgdy1mdWxsIHRleHQtaW5wdXQtYmdcIiwge1xuICAgICAgICAgICAgICAgICAgICBibG9jazogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGhpZGRlbjogIXZhbHVlXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgXSB9KSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDE1KFxuICAgICAgICAgIFwibGFiZWxcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBjbGFzc05hbWU6IFwiY3Vyc29yLVtpbmhlcml0XSB0ZXh0LXRleHQgdGV4dC10ZXh0LWlucHV0XCIsXG4gICAgICAgICAgICBpZDogbGFiZWxJZCxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBsYWJlbFxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH1cbiAgKTtcbn07XG5cbi8vIHNyYy91aS9pbnRlcm5hbC9pbnB1dHMvdXRpbHMudHNcbnZhciBidWlsZERlZmF1bHRUZXh0RGVzY3JpcHRpb24gPSAoe1xuICBtaW4sXG4gIG1heFxufSkgPT4ge1xuICBpZiAobWluICYmIG1heCkgcmV0dXJuIGBUeXBlIGJldHdlZW4gJHttaW59IGFuZCAke21heH0gY2hhcmFjdGVyc2A7XG4gIGlmIChtaW4pIHJldHVybiBgVHlwZSBtaW5pbXVtICR7bWlufSBjaGFyYWN0ZXJzYDtcbiAgaWYgKG1heCkgcmV0dXJuIGBUeXBlIG1heGltdW0gJHttYXh9IGNoYXJhY3RlcnNgO1xuICByZXR1cm4gbnVsbDtcbn07XG52YXIgYnVpbGREZWZhdWx0TnVtYmVyRGVzY3JpcHRpb24gPSAoe1xuICBtaW4sXG4gIG1heFxufSkgPT4ge1xuICBpZiAobWluICYmIG1heCkgcmV0dXJuIGBFbnRlciBhIG51bWJlciBiZXR3ZWVuICR7bWlufSBhbmQgJHttYXh9YDtcbiAgaWYgKG1pbikgcmV0dXJuIGBFbnRlciBhIG51bWJlciBncmVhdGVyIHRoYW4gJHttaW59YDtcbiAgaWYgKG1heCkgcmV0dXJuIGBFbnRlciBhIG51bWJlciBsZXNzIHRoYW4gJHttYXh9YDtcbiAgcmV0dXJuIG51bGw7XG59O1xudmFyIGJ1aWxkRGVmYXVsdERhdGVEZXNjcmlwdGlvbiA9ICh7XG4gIG1pbixcbiAgbWF4LFxuICBpbmNsdWRlVGltZVxufSkgPT4ge1xuICBjb25zdCBtaW5EYXRlID0gbWluID8gbmV3IERhdGUobWluKSA6IG51bGw7XG4gIGNvbnN0IG1heERhdGUgPSBtYXggPyBuZXcgRGF0ZShtYXgpIDogbnVsbDtcbiAgY29uc3QgZm9ybWF0dGVyID0gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoXCJlblwiLCB7XG4gICAgeWVhcjogXCJudW1lcmljXCIsXG4gICAgbW9udGg6IFwibnVtZXJpY1wiLFxuICAgIGRheTogXCJudW1lcmljXCIsXG4gICAgaG91cjogaW5jbHVkZVRpbWUgPyBcIm51bWVyaWNcIiA6IHZvaWQgMCxcbiAgICBtaW51dGU6IGluY2x1ZGVUaW1lID8gXCJudW1lcmljXCIgOiB2b2lkIDBcbiAgfSk7XG4gIGlmIChtaW5EYXRlICYmIG1heERhdGUpXG4gICAgcmV0dXJuIGBQaWNrIGEgZGF0ZSBiZXR3ZWVuICR7Zm9ybWF0dGVyLmZvcm1hdChtaW5EYXRlKX0gYW5kICR7Zm9ybWF0dGVyLmZvcm1hdChtYXhEYXRlKX1gO1xuICBpZiAobWluRGF0ZSkgcmV0dXJuIGBQaWNrIGEgZGF0ZSBhZnRlciAke2Zvcm1hdHRlci5mb3JtYXQobWluRGF0ZSl9YDtcbiAgaWYgKG1heERhdGUpIHJldHVybiBgUGljayBhIGRhdGUgYmVmb3JlICR7Zm9ybWF0dGVyLmZvcm1hdChtYXhEYXRlKX1gO1xuICByZXR1cm4gbnVsbDtcbn07XG52YXIgYnVpbGREZWZhdWx0Q2hlY2tib3hHcm91cERlc2NyaXB0aW9uID0gKHtcbiAgbWluLFxuICBtYXhcbn0pID0+IHtcbiAgaWYgKG1pbiAmJiBtYXgpIHJldHVybiBgU2VsZWN0IGJldHdlZW4gJHttaW59IGFuZCAke21heH0gb3B0aW9uc2A7XG4gIGlmIChtaW4pIHJldHVybiBgU2VsZWN0IG1pbmltdW0gJHttaW59IG9wdGlvbnNgO1xuICBpZiAobWF4KSByZXR1cm4gYFNlbGVjdCBtYXhpbXVtICR7bWF4fSBvcHRpb25zYDtcbiAgcmV0dXJuIG51bGw7XG59O1xuXG4vLyBzcmMvdWkvaW50ZXJuYWwvaW5wdXRzL0FjdGlvbkNoZWNrYm94R3JvdXAudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MTYsIGpzeHMgYXMganN4czEwIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgdmFsaWRhdGUgPSAodmFsdWVzLCB7IHJlcXVpcmVkLCBtaW4sIG1heCB9KSA9PiB7XG4gIGlmIChyZXF1aXJlZCAmJiAhdmFsdWVzLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAobWluICYmIHZhbHVlcy5sZW5ndGggPCBtaW4pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKG1heCAmJiB2YWx1ZXMubGVuZ3RoID4gbWF4KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufTtcbnZhciBub3JtYWxpemVWYWx1ZSA9ICh2YWx1ZSkgPT4ge1xuICByZXR1cm4gT2JqZWN0LmVudHJpZXModmFsdWUpLmZpbHRlcigoWywgdl0pID0+IHYpLm1hcCgoW2tdKSA9PiBrKTtcbn07XG52YXIgQWN0aW9uQ2hlY2tib3hHcm91cCA9ICh7XG4gIHBsYWNlaG9sZGVyOiBsYWJlbCxcbiAgLy8gaW4gYmFzZSBpbnB1dHMgaXQncyBwbGFjZWhvbGRlciwgZm9yIHNlbGVjdGFibGVzIC0gbGFiZWxcbiAgbmFtZSxcbiAgYnV0dG9uLFxuICBkaXNhYmxlZCxcbiAgb25DaGFuZ2UsXG4gIG9uVmFsaWRpdHlDaGFuZ2UsXG4gIG1pbixcbiAgbWF4LFxuICBkZXNjcmlwdGlvbixcbiAgb3B0aW9ucyA9IFtdLFxuICByZXF1aXJlZFxufSkgPT4ge1xuICBjb25zdCBtaW5DaG9pY2VzID0gbWluO1xuICBjb25zdCBtYXhDaG9pY2VzID0gbWF4O1xuICBjb25zdCBpc1N0YW5kYWxvbmUgPSAhIWJ1dHRvbjtcbiAgY29uc3QgZmluYWxEZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uIHx8IGJ1aWxkRGVmYXVsdENoZWNrYm94R3JvdXBEZXNjcmlwdGlvbih7XG4gICAgbWluOiBtaW5DaG9pY2VzLFxuICAgIG1heDogbWF4Q2hvaWNlc1xuICB9KTtcbiAgY29uc3QgaGFzSW5pdGlhbGx5U2VsZWN0ZWRPcHRpb24gPSB1c2VNZW1vMyhcbiAgICAoKSA9PiBvcHRpb25zLmZpbmQoKG9wdGlvbikgPT4gb3B0aW9uLnNlbGVjdGVkKSxcbiAgICBbb3B0aW9uc11cbiAgKTtcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZSh7XG4gICAgdmFsdWU6IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgIG9wdGlvbnMubWFwKChvcHRpb24pID0+IFtvcHRpb24udmFsdWUsIG9wdGlvbi5zZWxlY3RlZCA/PyBmYWxzZV0pXG4gICAgKSxcbiAgICB2YWxpZDogaXNTdGFuZGFsb25lID8gISFoYXNJbml0aWFsbHlTZWxlY3RlZE9wdGlvbiA6ICEocmVxdWlyZWQgJiYgIWhhc0luaXRpYWxseVNlbGVjdGVkT3B0aW9uKVxuICB9KTtcbiAgY29uc3QgW3RvdWNoZWQsIHNldFRvdWNoZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIG9uVmFsaWRpdHlDaGFuZ2U/LihzdGF0ZS52YWxpZCk7XG4gIH0sIFtdKTtcbiAgY29uc3QgZXh0ZW5kZWRDaGFuZ2UgPSAobmFtZTIsIHZhbHVlKSA9PiB7XG4gICAgc2V0U3RhdGUoKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0geyAuLi5wcmV2LnZhbHVlLCBbbmFtZTJdOiB2YWx1ZSB9O1xuICAgICAgY29uc3Qgbm9ybWFsaXplZFZhbHVlMiA9IG5vcm1hbGl6ZVZhbHVlKG5ld1ZhbHVlKTtcbiAgICAgIG9uQ2hhbmdlPy4obm9ybWFsaXplZFZhbHVlMik7XG4gICAgICBjb25zdCB2YWxpZGl0eSA9IHZhbGlkYXRlKG5vcm1hbGl6ZWRWYWx1ZTIsIHtcbiAgICAgICAgcmVxdWlyZWQ6IGlzU3RhbmRhbG9uZSxcbiAgICAgICAgbWluOiBtaW5DaG9pY2VzLFxuICAgICAgICBtYXg6IG1heENob2ljZXNcbiAgICAgIH0pO1xuICAgICAgb25WYWxpZGl0eUNoYW5nZT8uKHZhbGlkaXR5KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiBuZXdWYWx1ZSxcbiAgICAgICAgdmFsaWQ6IHZhbGlkaXR5XG4gICAgICB9O1xuICAgIH0pO1xuICAgIHNldFRvdWNoZWQodHJ1ZSk7XG4gIH07XG4gIGNvbnN0IG5vcm1hbGl6ZWRWYWx1ZSA9IHVzZU1lbW8zKFxuICAgICgpID0+IG5vcm1hbGl6ZVZhbHVlKHN0YXRlLnZhbHVlKSxcbiAgICBbc3RhdGUudmFsdWVdXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4czEwKFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBjbHN4NShcImJsaW5rLWlucHV0IHB5LTEuNVwiLCB7XG4gICAgICAgIFwiYmctYmctc2Vjb25kYXJ5IHJvdW5kZWQtaW5wdXQgcHgtMS41IHB0LTJcIjogaXNTdGFuZGFsb25lXG4gICAgICB9KSxcbiAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzMTAoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3g1KGlzU3RhbmRhbG9uZSAmJiBcInB4LTJcIiksIGNoaWxkcmVuOiBbXG4gICAgICAgICAgbGFiZWwgJiYgLyogQF9fUFVSRV9fICovIGpzeDE2KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJsaW5rLWlucHV0LWxhYmVsIG1iLTFcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzMTAoXCJsYWJlbFwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXN1YnRleHQgdGV4dC10ZXh0LWlucHV0IGJsb2NrIGZvbnQtc2VtaWJvbGRcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgICAgcmVxdWlyZWQgJiYgIWlzU3RhbmRhbG9uZSA/IFwiKlwiIDogXCJcIlxuICAgICAgICAgIF0gfSkgfSksXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDE2KFxuICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbHN4NShcInB0LTJcIiwge1xuICAgICAgICAgICAgICAgIFwiZmxleCBmbGV4LWNvbCBnYXAtM1wiOiAhaXNTdGFuZGFsb25lLFxuICAgICAgICAgICAgICAgIFwiZ3JpZCBncmlkLWNvbHMtMiBnYXAteC00IGdhcC15LTVcIjogaXNTdGFuZGFsb25lXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogb3B0aW9ucy5tYXAoKG9wdGlvbikgPT4gLyogQF9fUFVSRV9fICovIGpzeDE2KFxuICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImlubGluZS1mbGV4XCIsXG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDE2KFxuICAgICAgICAgICAgICAgICAgICBDaGVja2JveCxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBvcHRpb24ubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHN0YXRlLnZhbHVlW29wdGlvbi52YWx1ZV0sXG4gICAgICAgICAgICAgICAgICAgICAgaW5wdXRWYWx1ZTogb3B0aW9uLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiAodmFsdWUpID0+IGV4dGVuZGVkQ2hhbmdlKG9wdGlvbi52YWx1ZSwgdmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYCR7b3B0aW9uLnZhbHVlfV8ke29wdGlvbi5sYWJlbH1gXG4gICAgICAgICAgICAgICkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICAgICBdIH0pLFxuICAgICAgICBpc1N0YW5kYWxvbmUgJiYgLyogQF9fUFVSRV9fICovIGpzeDE2KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIm10LTRcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gxNihcbiAgICAgICAgICBBY3Rpb25CdXR0b24sXG4gICAgICAgICAge1xuICAgICAgICAgICAgLi4uYnV0dG9uLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gYnV0dG9uLm9uQ2xpY2soeyBbbmFtZV06IG5vcm1hbGl6ZWRWYWx1ZSB9KSxcbiAgICAgICAgICAgIGRpc2FibGVkOiBidXR0b24uZGlzYWJsZWQgfHwgIW5vcm1hbGl6ZWRWYWx1ZS5sZW5ndGggfHwgIXN0YXRlLnZhbGlkXG4gICAgICAgICAgfVxuICAgICAgICApIH0pLFxuICAgICAgICBmaW5hbERlc2NyaXB0aW9uICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gxNihcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogY2xzeDUoXG4gICAgICAgICAgICAgIFwiYmxpbmstaW5wdXQtZGVzY3JpcHRpb24gdGV4dC1jYXB0aW9uXCIsXG4gICAgICAgICAgICAgIHRvdWNoZWQgJiYgIXN0YXRlLnZhbGlkID8gXCJ0ZXh0LXRleHQtZXJyb3JcIiA6IFwidGV4dC10ZXh0LXNlY29uZGFyeVwiLFxuICAgICAgICAgICAgICBpc1N0YW5kYWxvbmUgPyBcIm1iLTIgbXQtMi41IHB4LTJcIiA6IFwibXQtM1wiXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gxNihTaW1wbGVNYXJrZG93biwgeyB0ZXh0OiBmaW5hbERlc2NyaXB0aW9uIH0pXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufTtcblxuLy8gc3JjL3VpL2ludGVybmFsL2lucHV0cy9BY3Rpb25EYXRlSW5wdXQudHN4XG5pbXBvcnQge1xuICB1c2VDYWxsYmFjayxcbiAgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdDIsXG4gIHVzZUlkIGFzIHVzZUlkMyxcbiAgdXNlTWVtbyBhcyB1c2VNZW1vNCxcbiAgdXNlU3RhdGUgYXMgdXNlU3RhdGUyXG59IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvdWkvaW50ZXJuYWwvaWNvbnMvQ2FsZW5kYXJJY29uLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDE3LCBqc3hzIGFzIGpzeHMxMSB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIFN2Z0NvbXBvbmVudDIgPSAocHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3hzMTEoXG4gIFwic3ZnXCIsXG4gIHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiAxNixcbiAgICBoZWlnaHQ6IDE2LFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgcHJlc2VydmVBc3BlY3RSYXRpbzogXCJ4TWlkWU1pZCBtZWV0XCIsXG4gICAgLi4ucHJvcHMsXG4gICAgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxNyhcImdcIiwgeyBjbGlwUGF0aDogXCJ1cmwoI2EpXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTcoXG4gICAgICAgIFwicGF0aFwiLFxuICAgICAgICB7XG4gICAgICAgICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgICAgICAgZDogXCJNNS44MDUgMS4yMzJhLjczMi43MzIgMCAxIDAtMS40NjQgMHYuMzdjLS4zNjIuMDA2LS42ODUuMDE5LS45NjkuMDQ4LS41MjYuMDU1LTEuMDA0LjE3NC0xLjQyOC40NjgtLjI5LjItLjU0LjQ1MS0uNzQxLjc0LS4yOTQuNDI1LS40MTIuOTAyLS40NjcgMS40MjktLjA0OS40NjItLjA1MyAxLjAyNi0uMDUzIDEuN1YxMC40M2MwIC45OSAwIDEuODA4LjA4NyAyLjQ1NC4wOTEuNjguMjkgMS4yNzkuNzcgMS43NTkuNDguNDggMS4wOC42NzkgMS43NTkuNzcuNjQ2LjA4NyAxLjQ2My4wODcgMi40NTQuMDg3aDQuNDk0Yy45OSAwIDEuODA4IDAgMi40NTQtLjA4Ny42OC0uMDkxIDEuMjc5LS4yOSAxLjc1OS0uNzcuNDgtLjQ4LjY3OS0xLjA4Ljc3LTEuNzU5LjA4Ny0uNjQ2LjA4Ny0xLjQ2My4wODctMi40NTRWNS45ODhjMC0uNjc1LS4wMDQtMS4yMzktLjA1My0xLjcwMS0uMDU1LS41MjctLjE3My0xLjAwNC0uNDY3LTEuNDI4LS4yLS4yOS0uNDUyLS41NC0uNzQxLS43NDEtLjQyNS0uMjk0LS45MDItLjQxMy0xLjQyOC0uNDY4LS4yODQtLjAzLS42MDctLjA0Mi0uOTctLjA0OHYtLjM3YS43MzIuNzMyIDAgMCAwLTEuNDYzIDB2LjM2NmgtNC4zOXYtLjM2NlptOC4wNDkgNC43NTZjLS4wMDEtLjY4NS0uMDA2LTEuMTctLjA0NS0xLjU1LS4wNDMtLjQwNi0uMTItLjYwNy0uMjE1LS43NDYtLjEtLjE0NS0uMjI2LS4yNy0uMzcxLS4zNy0uMTQtLjA5Ny0uMzQtLjE3NC0uNzQ3LS4yMTZhOS41MzIgOS41MzIgMCAwIDAtLjgxOC0uMDR2LjM2YS43MzIuNzMyIDAgMCAxLTEuNDYzIDB2LS4zNjVoLTQuMzl2LjM2NmEuNzMyLjczMiAwIDEgMS0xLjQ2NCAwdi0uMzYxYy0uMzI0LjAwNS0uNTkuMDE2LS44MTcuMDQtLjQwNy4wNDItLjYwOC4xMTktLjc0Ny4yMTUtLjE0NS4xLS4yNy4yMjYtLjM3LjM3LS4wOTcuMTQtLjE3My4zNC0uMjE2Ljc0OC0uMDQuMzc5LS4wNDQuODY0LS4wNDUgMS41NDloMTEuNzA3Wk0yLjE0NiA3LjQ1djIuOTI3YzAgMS4wNTYuMDAyIDEuNzc0LjA3NCAyLjMxMS4wNy41MTcuMTkyLjc1Ni4zNTUuOTE5LjE2My4xNjMuNDAyLjI4NS45MTkuMzU1LjUzNy4wNzIgMS4yNTUuMDc0IDIuMzEuMDc0aDQuMzkxYzEuMDU2IDAgMS43NzQtLjAwMiAyLjMxMS0uMDc0LjUxNy0uMDcuNzU2LS4xOTIuOTE5LS4zNTUuMTYzLS4xNjMuMjg1LS40MDIuMzU1LS45MTkuMDcyLS41MzcuMDc0LTEuMjU1LjA3NC0yLjMxMVY3LjQ1MUgyLjE0NlpcIixcbiAgICAgICAgICBjbGlwUnVsZTogXCJldmVub2RkXCJcbiAgICAgICAgfVxuICAgICAgKSB9KSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gxNyhcImRlZnNcIiwgeyBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDE3KFwiY2xpcFBhdGhcIiwgeyBpZDogXCJhXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTcoXCJwYXRoXCIsIHsgZmlsbDogXCIjZmZmXCIsIGQ6IFwiTTAgMGgxNnYxNkgwelwiIH0pIH0pIH0pXG4gICAgXVxuICB9XG4pO1xudmFyIENhbGVuZGFySWNvbl9kZWZhdWx0ID0gU3ZnQ29tcG9uZW50MjtcblxuLy8gc3JjL3VpL2ludGVybmFsL2lucHV0cy9CYXNlSW5wdXRDb250YWluZXIudHN4XG5pbXBvcnQgY2xzeDYgZnJvbSBcImNsc3hcIjtcbmltcG9ydCB7XG4gIGNsb25lRWxlbWVudFxufSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGpzeCBhcyBqc3gxOCwganN4cyBhcyBqc3hzMTIgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBCYXNlSW5wdXRDb250YWluZXIgPSAoe1xuICBjaGlsZHJlbixcbiAgbGVmdEFkb3JubWVudCxcbiAgcmlnaHRBZG9ybm1lbnQsXG4gIGZvb3RlcixcbiAgZGVzY3JpcHRpb24sXG4gIHN0YW5kYWxvbmUgPSB0cnVlLFxuICBjbGFzc05hbWVcbn0pID0+IHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzMTIoXCJkaXZcIiwgeyBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzMTIoXG4gICAgICBcImRpdlwiLFxuICAgICAge1xuICAgICAgICBjbGFzc05hbWU6IGNsc3g2KFxuICAgICAgICAgIFwiYmxpbmstaW5wdXQgYm9yZGVyLWlucHV0LXN0cm9rZSBtaW4taC1pbnB1dC1oZWlnaHQgcGVlciByZWxhdGl2ZSBib3gtYm9yZGVyIGZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlciBnYXAtMS41IGdhcC15LTIgYm9yZGVyIHB4LTEuNSB0cmFuc2l0aW9uLWNvbG9ycyBtb3Rpb24tcmVkdWNlOnRyYW5zaXRpb24tbm9uZVwiLFxuICAgICAgICAgIC8vIGZvY3VzLCBpbnZhbGlkLCByZXF1aXJlZFxuICAgICAgICAgIFwiZm9jdXMtd2l0aGluOmhhcy1bOmludmFsaWRdOmJvcmRlci1pbnB1dC1zdHJva2UtZXJyb3IgZm9jdXMtd2l0aGluOmhhcy1bOnZhbGlkXTpib3JkZXItaW5wdXQtc3Ryb2tlLXNlbGVjdGVkIGZvY3VzLXdpdGhpbjpob3ZlcjpoYXMtWzppbnZhbGlkXTpib3JkZXItaW5wdXQtc3Ryb2tlLWVycm9yIGZvY3VzLXdpdGhpbjpob3ZlcjpoYXMtWzp2YWxpZF06Ym9yZGVyLWlucHV0LXN0cm9rZS1zZWxlY3RlZFwiLFxuICAgICAgICAgIC8vIGVuYWJsZWQsXG4gICAgICAgICAgXCJob3ZlcjpoYXMtWzplbmFibGVkXTpib3JkZXItaW5wdXQtc3Ryb2tlLWhvdmVyXCIsXG4gICAgICAgICAgeyBcInB5LTEuNVwiOiAhIXJpZ2h0QWRvcm5tZW50IH0sXG4gICAgICAgICAgc3RhbmRhbG9uZSA/IFwicm91bmRlZC1pbnB1dC1zdGFuZGFsb25lXCIgOiBcInJvdW5kZWQtaW5wdXRcIixcbiAgICAgICAgICBjbGFzc05hbWVcbiAgICAgICAgKSxcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4czEyKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggbWluLXctMCBmbGV4LVsxMF0gYmFzaXMtMS8yIGl0ZW1zLWNlbnRlciBnYXAtMS41IHBsLTIuNVwiLCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgbGVmdEFkb3JubWVudCAmJiAvKiBAX19QVVJFX18gKi8ganN4MTgoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYmxpbmstaW5wdXQtbGVmdC1hZG9ybm1lbnRcIiwgY2hpbGRyZW46IGxlZnRBZG9ybm1lbnQgfSksXG4gICAgICAgICAgICBjbG9uZUVsZW1lbnQoY2hpbGRyZW4sIHtcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbHN4NihcbiAgICAgICAgICAgICAgICBcImJsaW5rLWlucHV0LWlubmVyIGJnLWlucHV0LWJnIHRleHQtdGV4dC1pbnB1dCBwbGFjZWhvbGRlcjp0ZXh0LXRleHQtaW5wdXQtcGxhY2Vob2xkZXIgZGlzYWJsZWQ6dGV4dC10ZXh0LWlucHV0LWRpc2FibGVkIG1pbi1oLTcgbWluLXctMCBmbGV4LTEgdHJ1bmNhdGUgb3V0bGluZS1ub25lXCIsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4ucHJvcHMuY2xhc3NOYW1lXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgXSB9KSxcbiAgICAgICAgICByaWdodEFkb3JubWVudCAmJiAvKiBAX19QVVJFX18gKi8ganN4MTgoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYmxpbmstaW5wdXQtcmlnaHQtYWRvcm5tZW50IG1heC13LWZ1bGwgZmxleC0xIHdoaXRlc3BhY2Utbm93cmFwXCIsIGNoaWxkcmVuOiByaWdodEFkb3JubWVudCB9KVxuICAgICAgICBdXG4gICAgICB9XG4gICAgKSxcbiAgICBmb290ZXIgJiYgLyogQF9fUFVSRV9fICovIGpzeDE4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJsaW5rLWlucHV0LWZvb3RlciBtdC0yXCIsIGNoaWxkcmVuOiBmb290ZXIgfSksXG4gICAgZGVzY3JpcHRpb24gJiYgLyogQF9fUFVSRV9fICovIGpzeDE4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJsaW5rLWlucHV0LWRlc2NyaXB0aW9uIHRleHQtY2FwdGlvbiB0ZXh0LXRleHQtc2Vjb25kYXJ5IHBlZXItWzpmb2N1cy13aXRoaW46aGFzKDppbnZhbGlkKV06dGV4dC10ZXh0LWVycm9yIG10LTEuNSBmb250LW1lZGl1bVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDE4KFNpbXBsZU1hcmtkb3duLCB7IHRleHQ6IGRlc2NyaXB0aW9uIH0pIH0pXG4gIF0gfSk7XG59O1xuXG4vLyBzcmMvdWkvaW50ZXJuYWwvaW5wdXRzL0FjdGlvbkRhdGVJbnB1dC50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3gxOSB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIEFjdGlvbkRhdGVJbnB1dCA9ICh7XG4gIHR5cGUgPSBcImRhdGVcIixcbiAgcGxhY2Vob2xkZXIsXG4gIG5hbWUsXG4gIGJ1dHRvbixcbiAgZGlzYWJsZWQsXG4gIG9uQ2hhbmdlLFxuICBvblZhbGlkaXR5Q2hhbmdlLFxuICBwYXR0ZXJuLFxuICBtaW4sXG4gIG1heCxcbiAgZGVzY3JpcHRpb24sXG4gIHJlcXVpcmVkXG59KSA9PiB7XG4gIGNvbnN0IGlkID0gdXNlSWQzKCk7XG4gIGNvbnN0IGlzU3RhbmRhbG9uZSA9ICEhYnV0dG9uO1xuICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVN0YXRlMihcIlwiKTtcbiAgY29uc3QgW2lzVmFsaWQsIHNldFZhbGlkXSA9IHVzZVN0YXRlMighaXNTdGFuZGFsb25lICYmICFyZXF1aXJlZCk7XG4gIGNvbnN0IFt0b3VjaGVkLCBzZXRUb3VjaGVkXSA9IHVzZVN0YXRlMihmYWxzZSk7XG4gIGNvbnN0IG1pbkRhdGUgPSBtaW47XG4gIGNvbnN0IG1heERhdGUgPSBtYXg7XG4gIHVzZUVmZmVjdDIoKCkgPT4ge1xuICAgIG9uVmFsaWRpdHlDaGFuZ2U/Lihpc1ZhbGlkKTtcbiAgfSwgW10pO1xuICBjb25zdCBleHRlbmRlZENoYW5nZSA9IHVzZUNhbGxiYWNrKFxuICAgIChlKSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZTIgPSBlLmN1cnJlbnRUYXJnZXQudmFsdWU7XG4gICAgICBjb25zdCB2YWxpZGl0eSA9IGUuY3VycmVudFRhcmdldC5jaGVja1ZhbGlkaXR5KCk7XG4gICAgICBzZXRWYWx1ZSh2YWx1ZTIpO1xuICAgICAgc2V0VmFsaWQodmFsaWRpdHkpO1xuICAgICAgb25DaGFuZ2U/Lih2YWx1ZTIpO1xuICAgICAgb25WYWxpZGl0eUNoYW5nZT8uKHZhbGlkaXR5KTtcbiAgICB9LFxuICAgIFtvbkNoYW5nZSwgb25WYWxpZGl0eUNoYW5nZV1cbiAgKTtcbiAgY29uc3QgcGxhY2Vob2xkZXJXaXRoUmVxdWlyZWQgPSAocGxhY2Vob2xkZXIgfHwgXCJFbnRlciBhIGRhdGVcIikgKyAocmVxdWlyZWQgJiYgIWlzU3RhbmRhbG9uZSA/IFwiKlwiIDogXCJcIik7XG4gIGNvbnN0IHZhbGlkYXRpb25Qcm9wcyA9IHVzZU1lbW80KFxuICAgICgpID0+ICh7XG4gICAgICBtaW46IG1pbkRhdGUsXG4gICAgICBtYXg6IG1heERhdGUsXG4gICAgICBwYXR0ZXJuLFxuICAgICAgdGl0bGU6IGRlc2NyaXB0aW9uXG4gICAgfSksXG4gICAgW21pbkRhdGUsIG1heERhdGUsIHBhdHRlcm4sIGRlc2NyaXB0aW9uXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDE5KFxuICAgIEJhc2VJbnB1dENvbnRhaW5lcixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwiYmxpbmstaW5wdXQtZGF0ZVwiLFxuICAgICAgc3RhbmRhbG9uZTogaXNTdGFuZGFsb25lLFxuICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uID8/IGJ1aWxkRGVmYXVsdERhdGVEZXNjcmlwdGlvbih7IG1pbjogbWluRGF0ZSwgbWF4OiBtYXhEYXRlIH0pLFxuICAgICAgbGVmdEFkb3JubWVudDogLyogQF9fUFVSRV9fICovIGpzeDE5KFwibGFiZWxcIiwgeyBodG1sRm9yOiBpZCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gxOShDYWxlbmRhckljb25fZGVmYXVsdCwgeyBjbGFzc05hbWU6IFwidGV4dC1pY29uLXByaW1hcnlcIiB9KSB9KSxcbiAgICAgIHJpZ2h0QWRvcm5tZW50OiBidXR0b24gPyAvKiBAX19QVVJFX18gKi8ganN4MTkoXG4gICAgICAgIEFjdGlvbkJ1dHRvbixcbiAgICAgICAge1xuICAgICAgICAgIC4uLmJ1dHRvbixcbiAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBidXR0b24ub25DbGljayh7IFtuYW1lXTogdmFsdWUgfSksXG4gICAgICAgICAgZGlzYWJsZWQ6IGJ1dHRvbi5kaXNhYmxlZCB8fCB2YWx1ZSA9PT0gXCJcIiB8fCAhaXNWYWxpZFxuICAgICAgICB9XG4gICAgICApIDogbnVsbCxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MTkoXG4gICAgICAgIFwiaW5wdXRcIixcbiAgICAgICAge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHR5cGU6IHBhdHRlcm4gfHwgIXRvdWNoZWQgPyBcInRleHRcIiA6IHR5cGUsXG4gICAgICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyV2l0aFJlcXVpcmVkLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIG9uQ2hhbmdlOiBleHRlbmRlZENoYW5nZSxcbiAgICAgICAgICBvbkZvY3VzOiAoKSA9PiBzZXRUb3VjaGVkKHRydWUpLFxuICAgICAgICAgIC4uLnZhbGlkYXRpb25Qcm9wcyxcbiAgICAgICAgICByZXF1aXJlZDogYnV0dG9uID8gdHJ1ZSA6IHJlcXVpcmVkLFxuICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59O1xuXG4vLyBzcmMvdWkvaW50ZXJuYWwvaW5wdXRzL0FjdGlvbkVtYWlsSW5wdXQudHN4XG5pbXBvcnQgeyB1c2VFZmZlY3QgYXMgdXNlRWZmZWN0MywgdXNlSWQgYXMgdXNlSWQ0LCB1c2VNZW1vIGFzIHVzZU1lbW81LCB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTMgfSBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL3VpL2ludGVybmFsL2ljb25zL0VtYWlsSWNvbi50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3gyMCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIFN2Z0NvbXBvbmVudDMgPSAocHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3gyMChcbiAgXCJzdmdcIixcbiAge1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgd2lkdGg6IDE2LFxuICAgIGhlaWdodDogMTYsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiBcInhNaWRZTWlkIG1lZXRcIixcbiAgICAuLi5wcm9wcyxcbiAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDIwKFxuICAgICAgXCJwYXRoXCIsXG4gICAgICB7XG4gICAgICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICAgICAgZDogXCJNMS4zNjEgMi42ODVhLjc2NC43NjQgMCAwIDAtLjE1Ny4yMjdBMi45ODYgMi45ODYgMCAwIDAgLjc1IDQuNXY3YTMgMyAwIDAgMCAzIDNoOC41YTMgMyAwIDAgMCAzLTN2LTdjMC0uNTgzLS4xNjYtMS4xMjgtLjQ1NC0xLjU4OGEuNzUuNzUgMCAwIDAtLjE1Ny0uMjI3QTIuOTk1IDIuOTk1IDAgMCAwIDEyLjI1IDEuNWgtOC41Yy0uOTc1IDAtMS44NDEuNDY1LTIuMzg5IDEuMTg1Wk0zLjc1IDNoOC41Yy4yNyAwIC41MjIuMDcxLjc0LjE5NUw4LjgxNSA2LjgxN2ExLjI1IDEuMjUgMCAwIDEtMS42MzgtLjAwMWwtNC4xNjctMy42MkMzLjIyNyAzLjA3IDMuNDggMyAzLjc1IDNabTEwIDEuNTIyVjExLjVhMS41IDEuNSAwIDAgMS0xLjUgMS41aC04LjVhMS41IDEuNSAwIDAgMS0xLjUtMS41VjQuNTI0bDMuOTQyIDMuNDI0YTIuNzUgMi43NSAwIDAgMCAzLjYwNS4wMDJsMy45NTMtMy40MjhaXCIsXG4gICAgICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICAgICAgfVxuICAgIClcbiAgfVxuKTtcbnZhciBFbWFpbEljb25fZGVmYXVsdCA9IFN2Z0NvbXBvbmVudDM7XG5cbi8vIHNyYy91aS9pbnRlcm5hbC9pbnB1dHMvQWN0aW9uRW1haWxJbnB1dC50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3gyMSB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIEFjdGlvbkVtYWlsSW5wdXQgPSAoe1xuICBwbGFjZWhvbGRlcixcbiAgbmFtZSxcbiAgYnV0dG9uLFxuICBkaXNhYmxlZCxcbiAgb25DaGFuZ2UsXG4gIG9uVmFsaWRpdHlDaGFuZ2UsXG4gIHBhdHRlcm4sXG4gIG1pbixcbiAgbWF4LFxuICBkZXNjcmlwdGlvbixcbiAgcmVxdWlyZWRcbn0pID0+IHtcbiAgY29uc3QgaWQgPSB1c2VJZDQoKTtcbiAgY29uc3QgaXNTdGFuZGFsb25lID0gISFidXR0b247XG4gIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlU3RhdGUzKFwiXCIpO1xuICBjb25zdCBbaXNWYWxpZCwgc2V0VmFsaWRdID0gdXNlU3RhdGUzKCFpc1N0YW5kYWxvbmUgJiYgIXJlcXVpcmVkKTtcbiAgY29uc3QgbWluTGVuZ3RoID0gbWluO1xuICBjb25zdCBtYXhMZW5ndGggPSBtYXg7XG4gIHVzZUVmZmVjdDMoKCkgPT4ge1xuICAgIG9uVmFsaWRpdHlDaGFuZ2U/Lihpc1ZhbGlkKTtcbiAgfSwgW10pO1xuICBjb25zdCBleHRlbmRlZENoYW5nZSA9IChlKSA9PiB7XG4gICAgY29uc3QgdmFsdWUyID0gZS5jdXJyZW50VGFyZ2V0LnZhbHVlO1xuICAgIGNvbnN0IHZhbGlkaXR5ID0gZS5jdXJyZW50VGFyZ2V0LmNoZWNrVmFsaWRpdHkoKTtcbiAgICBzZXRWYWx1ZSh2YWx1ZTIpO1xuICAgIHNldFZhbGlkKHZhbGlkaXR5KTtcbiAgICBvbkNoYW5nZT8uKHZhbHVlMik7XG4gICAgb25WYWxpZGl0eUNoYW5nZT8uKHZhbGlkaXR5KTtcbiAgfTtcbiAgY29uc3QgcGxhY2Vob2xkZXJXaXRoUmVxdWlyZWQgPSAocGxhY2Vob2xkZXIgfHwgXCJoZWxsb0BleGFtcGxlLmNvbVwiKSArIChyZXF1aXJlZCAmJiAhaXNTdGFuZGFsb25lID8gXCIqXCIgOiBcIlwiKTtcbiAgY29uc3QgdmFsaWRhdGlvblByb3BzID0gdXNlTWVtbzUoXG4gICAgKCkgPT4gKHtcbiAgICAgIG1pbkxlbmd0aCxcbiAgICAgIG1heExlbmd0aCxcbiAgICAgIHBhdHRlcm4sXG4gICAgICB0aXRsZTogZGVzY3JpcHRpb25cbiAgICB9KSxcbiAgICBbbWluTGVuZ3RoLCBtYXhMZW5ndGgsIHBhdHRlcm4sIGRlc2NyaXB0aW9uXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDIxKFxuICAgIEJhc2VJbnB1dENvbnRhaW5lcixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwiYmxpbmstaW5wdXQtZW1haWxcIixcbiAgICAgIHN0YW5kYWxvbmU6IGlzU3RhbmRhbG9uZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiA/PyBidWlsZERlZmF1bHRUZXh0RGVzY3JpcHRpb24oeyBtaW46IG1pbkxlbmd0aCwgbWF4OiBtYXhMZW5ndGggfSksXG4gICAgICBsZWZ0QWRvcm5tZW50OiAvKiBAX19QVVJFX18gKi8ganN4MjEoXCJsYWJlbFwiLCB7IGh0bWxGb3I6IGlkLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDIxKEVtYWlsSWNvbl9kZWZhdWx0LCB7IGNsYXNzTmFtZTogXCJ0ZXh0LWljb24tcHJpbWFyeVwiIH0pIH0pLFxuICAgICAgcmlnaHRBZG9ybm1lbnQ6IGJ1dHRvbiA/IC8qIEBfX1BVUkVfXyAqLyBqc3gyMShcbiAgICAgICAgQWN0aW9uQnV0dG9uLFxuICAgICAgICB7XG4gICAgICAgICAgLi4uYnV0dG9uLFxuICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IGJ1dHRvbi5vbkNsaWNrKHsgW25hbWVdOiB2YWx1ZSB9KSxcbiAgICAgICAgICBkaXNhYmxlZDogYnV0dG9uLmRpc2FibGVkIHx8IHZhbHVlID09PSBcIlwiIHx8ICFpc1ZhbGlkXG4gICAgICAgIH1cbiAgICAgICkgOiBudWxsLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyMShcbiAgICAgICAgXCJpbnB1dFwiLFxuICAgICAgICB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgdHlwZTogcGF0dGVybiA/IFwidGV4dFwiIDogXCJlbWFpbFwiLFxuICAgICAgICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlcldpdGhSZXF1aXJlZCxcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBvbkNoYW5nZTogZXh0ZW5kZWRDaGFuZ2UsXG4gICAgICAgICAgLi4udmFsaWRhdGlvblByb3BzLFxuICAgICAgICAgIHJlcXVpcmVkOiBidXR0b24gPyB0cnVlIDogcmVxdWlyZWQsXG4gICAgICAgICAgZGlzYWJsZWRcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cbiAgKTtcbn07XG5cbi8vIHNyYy91aS9pbnRlcm5hbC9pbnB1dHMvQWN0aW9uTnVtYmVySW5wdXQudHN4XG5pbXBvcnQgeyB1c2VFZmZlY3QgYXMgdXNlRWZmZWN0NCwgdXNlSWQgYXMgdXNlSWQ1LCB1c2VNZW1vIGFzIHVzZU1lbW82LCB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTQgfSBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL3VpL2ludGVybmFsL2ljb25zL051bWJlckljb24udHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MjIgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBTdmdDb21wb25lbnQ0ID0gKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8ganN4MjIoXG4gIFwic3ZnXCIsXG4gIHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiAxNixcbiAgICBoZWlnaHQ6IDE2LFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgcHJlc2VydmVBc3BlY3RSYXRpbzogXCJ4TWlkWU1pZCBtZWV0XCIsXG4gICAgLi4ucHJvcHMsXG4gICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyMihcbiAgICAgIFwicGF0aFwiLFxuICAgICAge1xuICAgICAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgICAgICBkOiBcIk0xMS43MjEgMWEuNzUuNzUgMCAwIDAtLjc0NS42NjRsLS4yOTkgMi41ODZoLTQuNWwuMjgtMi40MmEuNzQ1Ljc0NSAwIDAgMC0xLjQ4LS4xN2wtLjMgMi41OUgxLjc1YS43NS43NSAwIDAgMCAwIDEuNUg0LjVsLS41MTUgNC41SDEuNzVhLjc1Ljc1IDAgMCAwIDAgMS41aDIuMDYzbC0uMjggMi40MmEuNzQ1Ljc0NSAwIDEgMCAxLjQ4LjE3bC4zLTIuNTloNC41bC0uMjggMi40MmEuNzQ1Ljc0NSAwIDAgMCAxLjQ4LjE3bC4zLTIuNTloMi45MzdhLjc1Ljc1IDAgMCAwIDAtMS41SDExLjVsLjUyLTQuNWgyLjIzYS43NS43NSAwIDAgMCAwLTEuNWgtMi4wNjNsLjI3OS0yLjQxNEEuNzUuNzUgMCAwIDAgMTEuNzIxIDFabS0xLjczNiA5LjI1SDUuNWwuNTItNC41aDQuNDhsLS41MTUgNC41WlwiXG4gICAgICB9XG4gICAgKVxuICB9XG4pO1xudmFyIE51bWJlckljb25fZGVmYXVsdCA9IFN2Z0NvbXBvbmVudDQ7XG5cbi8vIHNyYy91aS9pbnRlcm5hbC9pbnB1dHMvQWN0aW9uTnVtYmVySW5wdXQudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MjMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBBY3Rpb25OdW1iZXJJbnB1dCA9ICh7XG4gIHBsYWNlaG9sZGVyLFxuICBuYW1lLFxuICBidXR0b24sXG4gIGRpc2FibGVkLFxuICBvbkNoYW5nZSxcbiAgb25WYWxpZGl0eUNoYW5nZSxcbiAgcGF0dGVybixcbiAgbWluLFxuICBtYXgsXG4gIGRlc2NyaXB0aW9uLFxuICByZXF1aXJlZFxufSkgPT4ge1xuICBjb25zdCBpZCA9IHVzZUlkNSgpO1xuICBjb25zdCBpc1N0YW5kYWxvbmUgPSAhIWJ1dHRvbjtcbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VTdGF0ZTQoXCJcIik7XG4gIGNvbnN0IFtpc1ZhbGlkLCBzZXRWYWxpZF0gPSB1c2VTdGF0ZTQoIWlzU3RhbmRhbG9uZSAmJiAhcmVxdWlyZWQpO1xuICB1c2VFZmZlY3Q0KCgpID0+IHtcbiAgICBvblZhbGlkaXR5Q2hhbmdlPy4oaXNWYWxpZCk7XG4gIH0sIFtdKTtcbiAgY29uc3QgZXh0ZW5kZWRDaGFuZ2UgPSAoZSkgPT4ge1xuICAgIGNvbnN0IHZhbHVlMiA9IGUuY3VycmVudFRhcmdldC52YWx1ZTtcbiAgICBjb25zdCB2YWxpZGl0eSA9IGUuY3VycmVudFRhcmdldC5jaGVja1ZhbGlkaXR5KCk7XG4gICAgc2V0VmFsdWUodmFsdWUyKTtcbiAgICBzZXRWYWxpZCh2YWxpZGl0eSk7XG4gICAgb25DaGFuZ2U/Lih2YWx1ZTIpO1xuICAgIG9uVmFsaWRpdHlDaGFuZ2U/Lih2YWxpZGl0eSk7XG4gIH07XG4gIGNvbnN0IHBsYWNlaG9sZGVyV2l0aFJlcXVpcmVkID0gKHBsYWNlaG9sZGVyIHx8IFwiVHlwZSBoZXJlLi4uXCIpICsgKHJlcXVpcmVkICYmICFpc1N0YW5kYWxvbmUgPyBcIipcIiA6IFwiXCIpO1xuICBjb25zdCB2YWxpZGF0aW9uUHJvcHMgPSB1c2VNZW1vNihcbiAgICAoKSA9PiAoe1xuICAgICAgbWluOiAhcGF0dGVybiA/IG1pbiA6IHZvaWQgMCxcbiAgICAgIG1heDogIXBhdHRlcm4gPyBtYXggOiB2b2lkIDAsXG4gICAgICBwYXR0ZXJuLFxuICAgICAgdGl0bGU6IGRlc2NyaXB0aW9uXG4gICAgfSksXG4gICAgW21pbiwgbWF4LCBwYXR0ZXJuLCBkZXNjcmlwdGlvbl1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyMyhcbiAgICBCYXNlSW5wdXRDb250YWluZXIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBcImJsaW5rLWlucHV0LW51bWJlclwiLFxuICAgICAgc3RhbmRhbG9uZTogaXNTdGFuZGFsb25lLFxuICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uID8/IGJ1aWxkRGVmYXVsdE51bWJlckRlc2NyaXB0aW9uKHtcbiAgICAgICAgbWluLFxuICAgICAgICBtYXhcbiAgICAgIH0pLFxuICAgICAgbGVmdEFkb3JubWVudDogLyogQF9fUFVSRV9fICovIGpzeDIzKFwibGFiZWxcIiwgeyBodG1sRm9yOiBpZCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyMyhOdW1iZXJJY29uX2RlZmF1bHQsIHsgY2xhc3NOYW1lOiBcInRleHQtaWNvbi1wcmltYXJ5XCIgfSkgfSksXG4gICAgICByaWdodEFkb3JubWVudDogYnV0dG9uID8gLyogQF9fUFVSRV9fICovIGpzeDIzKFxuICAgICAgICBBY3Rpb25CdXR0b24sXG4gICAgICAgIHtcbiAgICAgICAgICAuLi5idXR0b24sXG4gICAgICAgICAgb25DbGljazogKCkgPT4gYnV0dG9uLm9uQ2xpY2soeyBbbmFtZV06IHZhbHVlIH0pLFxuICAgICAgICAgIGRpc2FibGVkOiBidXR0b24uZGlzYWJsZWQgfHwgdmFsdWUgPT09IFwiXCIgfHwgIWlzVmFsaWRcbiAgICAgICAgfVxuICAgICAgKSA6IG51bGwsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDIzKFxuICAgICAgICBcImlucHV0XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBpZCxcbiAgICAgICAgICB0eXBlOiBwYXR0ZXJuID8gXCJ0ZXh0XCIgOiBcIm51bWJlclwiLFxuICAgICAgICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlcldpdGhSZXF1aXJlZCxcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBzdGVwOiBcImFueVwiLFxuICAgICAgICAgIG9uQ2hhbmdlOiBleHRlbmRlZENoYW5nZSxcbiAgICAgICAgICAuLi52YWxpZGF0aW9uUHJvcHMsXG4gICAgICAgICAgcmVxdWlyZWQ6IGJ1dHRvbiA/IHRydWUgOiByZXF1aXJlZCxcbiAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufTtcblxuLy8gc3JjL3VpL2ludGVybmFsL2lucHV0cy9BY3Rpb25SYWRpb0dyb3VwLnRzeFxuaW1wb3J0IGNsc3g4IGZyb20gXCJjbHN4XCI7XG5pbXBvcnQgeyB1c2VDYWxsYmFjayBhcyB1c2VDYWxsYmFjazIsIHVzZUVmZmVjdCBhcyB1c2VFZmZlY3Q1LCB1c2VNZW1vIGFzIHVzZU1lbW83LCB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTUgfSBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL3VpL2ludGVybmFsL1JhZGlvLnRzeFxuaW1wb3J0IGNsc3g3IGZyb20gXCJjbHN4XCI7XG5pbXBvcnQgeyB1c2VJZCBhcyB1c2VJZDYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGpzeCBhcyBqc3gyNCwganN4cyBhcyBqc3hzMTMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBSYWRpbyA9ICh7XG4gIGxhYmVsLFxuICB2YWx1ZSxcbiAgb25DaGFuZ2UsXG4gIG5hbWUsXG4gIGRpc2FibGVkLFxuICBpbnB1dFZhbHVlXG59KSA9PiB7XG4gIGNvbnN0IGlkID0gdXNlSWQ2KCk7XG4gIGNvbnN0IGxhYmVsSWQgPSBgJHtpZH1fbGFiZWxgO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMxMyhcbiAgICBcImJ1dHRvblwiLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogY2xzeDcoXCJmbGV4IGgtZnVsbCBnYXAtMi41XCIsIHtcbiAgICAgICAgXCJjdXJzb3ItcG9pbnRlclwiOiAhZGlzYWJsZWQsXG4gICAgICAgIFwiY3Vyc29yLW5vdC1hbGxvd2VkXCI6IGRpc2FibGVkXG4gICAgICB9KSxcbiAgICAgIG9uQ2xpY2s6ICgpID0+ICFkaXNhYmxlZCAmJiBvbkNoYW5nZSghdmFsdWUpLFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeHMxMyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJmbGV4IGgtZnVsbCBpdGVtcy1jZW50ZXJcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MjQoXG4gICAgICAgICAgICBcImlucHV0XCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGU6IFwicmFkaW9cIixcbiAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImhpZGRlblwiLFxuICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGlucHV0VmFsdWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApLFxuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gyNChcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJvbGU6IFwicmFkaW9cIixcbiAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGxhYmVsSWQsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xzeDcoXG4gICAgICAgICAgICAgICAgXCJtdC0wLjUgZmxleCBhc3BlY3Qtc3F1YXJlIGgtWzE2cHhdIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgYm9yZGVyIHRyYW5zaXRpb24tY29sb3JzIG1vdGlvbi1yZWR1Y2U6dHJhbnNpdGlvbi1ub25lXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgXCJib3JkZXItaW5wdXQtc3Ryb2tlIGJnLWlucHV0LWJnXCI6ICF2YWx1ZSAmJiAhZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgICBcImJvcmRlci1pbnB1dC1zdHJva2Utc2VsZWN0ZWQgYmctaW5wdXQtYmctc2VsZWN0ZWRcIjogdmFsdWUgJiYgIWRpc2FibGVkLFxuICAgICAgICAgICAgICAgICAgXCJib3JkZXItaW5wdXQtc3Ryb2tlLWRpc2FibGVkIGJnLWlucHV0LWJnXCI6ICF2YWx1ZSAmJiBkaXNhYmxlZCxcbiAgICAgICAgICAgICAgICAgIFwiYm9yZGVyLWlucHV0LXN0cm9rZS1kaXNhYmxlZCBiZy1pbnB1dC1iZy1kaXNhYmxlZFwiOiB2YWx1ZSAmJiBkaXNhYmxlZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyNChcbiAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xzeDcoXCJhc3BlY3Qtc3F1YXJlIGgtWzhweF0gcm91bmRlZC1mdWxsIGJnLWlucHV0LWJnXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgaW52aXNpYmxlOiAhdmFsdWVcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICAgICBdIH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MjQoXG4gICAgICAgICAgXCJsYWJlbFwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJjdXJzb3ItW2luaGVyaXRdIHRleHQtdGV4dCB0ZXh0LXRleHQtaW5wdXRcIixcbiAgICAgICAgICAgIGlkOiBsYWJlbElkLFxuICAgICAgICAgICAgY2hpbGRyZW46IGxhYmVsXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufTtcblxuLy8gc3JjL3VpL2ludGVybmFsL2lucHV0cy9BY3Rpb25SYWRpb0dyb3VwLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDI1LCBqc3hzIGFzIGpzeHMxNCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIEFjdGlvblJhZGlvR3JvdXAgPSAoe1xuICBwbGFjZWhvbGRlcjogbGFiZWwsXG4gIC8vIGluIGJhc2UgaW5wdXRzIGl0J3MgcGxhY2Vob2xkZXIsIGZvciBzZWxlY3RhYmxlcyAtIGxhYmVsXG4gIG5hbWUsXG4gIGJ1dHRvbixcbiAgZGlzYWJsZWQsXG4gIG9uQ2hhbmdlLFxuICBvblZhbGlkaXR5Q2hhbmdlLFxuICBkZXNjcmlwdGlvbixcbiAgb3B0aW9ucyA9IFtdLFxuICByZXF1aXJlZFxufSkgPT4ge1xuICBjb25zdCBpc1N0YW5kYWxvbmUgPSAhIWJ1dHRvbjtcbiAgY29uc3QgaGFzSW5pdGlhbGx5U2VsZWN0ZWRPcHRpb24gPSB1c2VNZW1vNyhcbiAgICAoKSA9PiBvcHRpb25zLmZpbmQoKG9wdGlvbikgPT4gb3B0aW9uLnNlbGVjdGVkKSxcbiAgICBbb3B0aW9uc11cbiAgKTtcbiAgY29uc3QgW3ZhbHVlLCBzZXRWYWx1ZV0gPSB1c2VTdGF0ZTUoXG4gICAgb3B0aW9ucy5maW5kKChvcHRpb24pID0+IG9wdGlvbi5zZWxlY3RlZCk/LnZhbHVlID8/IFwiXCJcbiAgKTtcbiAgY29uc3QgW2lzVmFsaWQsIHNldFZhbGlkXSA9IHVzZVN0YXRlNShcbiAgICBpc1N0YW5kYWxvbmUgPyAhIWhhc0luaXRpYWxseVNlbGVjdGVkT3B0aW9uIDogIShyZXF1aXJlZCAmJiAhaGFzSW5pdGlhbGx5U2VsZWN0ZWRPcHRpb24pXG4gICk7XG4gIGNvbnN0IFt0b3VjaGVkLCBzZXRUb3VjaGVkXSA9IHVzZVN0YXRlNShmYWxzZSk7XG4gIHVzZUVmZmVjdDUoKCkgPT4ge1xuICAgIG9uVmFsaWRpdHlDaGFuZ2U/Lihpc1ZhbGlkKTtcbiAgfSwgW10pO1xuICBjb25zdCBleHRlbmRlZENoYW5nZSA9IHVzZUNhbGxiYWNrMihcbiAgICAodmFsdWUyKSA9PiB7XG4gICAgICBzZXRWYWx1ZSh2YWx1ZTIpO1xuICAgICAgc2V0VmFsaWQodHJ1ZSk7XG4gICAgICBzZXRUb3VjaGVkKHRydWUpO1xuICAgICAgb25DaGFuZ2U/Lih2YWx1ZTIpO1xuICAgICAgb25WYWxpZGl0eUNoYW5nZT8uKHRydWUpO1xuICAgIH0sXG4gICAgW29uQ2hhbmdlLCBvblZhbGlkaXR5Q2hhbmdlXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMxNChcbiAgICBcImRpdlwiLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogY2xzeDgoXCJibGluay1pbnB1dCBibGluay1pbnB1dC1yYWRpby1ncm91cCBweS0xLjVcIiwge1xuICAgICAgICBcImJnLWJnLXNlY29uZGFyeSByb3VuZGVkLWlucHV0IHB4LTEuNSBwdC0yXCI6IGlzU3RhbmRhbG9uZVxuICAgICAgfSksXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4czE0KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHN4OChpc1N0YW5kYWxvbmUgJiYgXCJweC0yXCIpLCBjaGlsZHJlbjogW1xuICAgICAgICAgIGxhYmVsICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gyNShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJibGluay1pbnB1dC1sYWJlbCBtYi0xXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4czE0KFwibGFiZWxcIiwgeyBjbGFzc05hbWU6IFwidGV4dC1zdWJ0ZXh0IHRleHQtdGV4dC1pbnB1dCBibG9jayBmb250LXNlbWlib2xkXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICAgIHJlcXVpcmVkICYmICFpc1N0YW5kYWxvbmUgPyBcIipcIiA6IFwiXCJcbiAgICAgICAgICBdIH0pIH0pLFxuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gyNShcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xzeDgoXCJwdC0yXCIsIHtcbiAgICAgICAgICAgICAgICBcImZsZXggZmxleC1jb2wgZ2FwLTNcIjogIWlzU3RhbmRhbG9uZSxcbiAgICAgICAgICAgICAgICBcImdyaWQgZ3JpZC1jb2xzLTIgZ2FwLXgtNCBnYXAteS01XCI6IGlzU3RhbmRhbG9uZVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IG9wdGlvbnMubWFwKChvcHRpb24pID0+IC8qIEBfX1BVUkVfXyAqLyBqc3gyNShcbiAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJpbmxpbmUtZmxleFwiLFxuICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyNShcbiAgICAgICAgICAgICAgICAgICAgUmFkaW8sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogb3B0aW9uLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBvcHRpb24udmFsdWUgPT09IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIGlucHV0VmFsdWU6IG9wdGlvbi52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogKCkgPT4gZXh0ZW5kZWRDaGFuZ2Uob3B0aW9uLnZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGAke29wdGlvbi52YWx1ZX1fJHtvcHRpb24ubGFiZWx9YFxuICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgXSB9KSxcbiAgICAgICAgaXNTdGFuZGFsb25lICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gyNShcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJtdC00XCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MjUoXG4gICAgICAgICAgQWN0aW9uQnV0dG9uLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIC4uLmJ1dHRvbixcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IGJ1dHRvbi5vbkNsaWNrKHsgW25hbWVdOiB2YWx1ZSB9KSxcbiAgICAgICAgICAgIGRpc2FibGVkOiBidXR0b24uZGlzYWJsZWQgfHwgIXZhbHVlIHx8ICFpc1ZhbGlkXG4gICAgICAgICAgfVxuICAgICAgICApIH0pLFxuICAgICAgICBkZXNjcmlwdGlvbiAmJiAvKiBAX19QVVJFX18gKi8ganN4MjUoXG4gICAgICAgICAgXCJzcGFuXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBjbHN4OChcbiAgICAgICAgICAgICAgXCJibGluay1pbnB1dC1kZXNjcmlwdGlvbiB0ZXh0LWNhcHRpb24gZm9udC1tZWRpdW1cIixcbiAgICAgICAgICAgICAgdG91Y2hlZCAmJiAhaXNWYWxpZCA/IFwidGV4dC10ZXh0LWVycm9yXCIgOiBcInRleHQtdGV4dC1zZWNvbmRhcnlcIixcbiAgICAgICAgICAgICAgaXNTdGFuZGFsb25lID8gXCJtYi0yIG10LTIuNVwiIDogXCJtdC0zXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDI1KFNpbXBsZU1hcmtkb3duLCB7IHRleHQ6IGRlc2NyaXB0aW9uIH0pXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICBdXG4gICAgfVxuICApO1xufTtcblxuLy8gc3JjL3VpL2ludGVybmFsL2lucHV0cy9BY3Rpb25TZWxlY3QudHN4XG5pbXBvcnQgeyB1c2VFZmZlY3QgYXMgdXNlRWZmZWN0NiwgdXNlSWQgYXMgdXNlSWQ3LCB1c2VNZW1vIGFzIHVzZU1lbW84LCB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGpzeCBhcyBqc3gyNiwganN4cyBhcyBqc3hzMTUgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBBY3Rpb25TZWxlY3QgPSAoe1xuICBwbGFjZWhvbGRlcixcbiAgbmFtZSxcbiAgYnV0dG9uLFxuICBkaXNhYmxlZCxcbiAgb25DaGFuZ2UsXG4gIG9uVmFsaWRpdHlDaGFuZ2UsXG4gIGRlc2NyaXB0aW9uLFxuICByZXF1aXJlZCxcbiAgb3B0aW9ucyA9IFtdXG59KSA9PiB7XG4gIGNvbnN0IGlzU3RhbmRhbG9uZSA9ICEhYnV0dG9uO1xuICBjb25zdCBwbGFjZWhvbGRlclZhbHVlSWQgPSB1c2VJZDcoKTtcbiAgY29uc3QgcGxhY2Vob2xkZXJXaXRoUmVxdWlyZWQgPSAocGxhY2Vob2xkZXIgfHwgXCJTZWxlY3QuLi5cIikgKyAocmVxdWlyZWQgJiYgIWlzU3RhbmRhbG9uZSA/IFwiKlwiIDogXCJcIik7XG4gIGNvbnN0IGluaXRpYWxseVNlbGVjdGVkT3B0aW9uID0gdXNlTWVtbzgoXG4gICAgKCkgPT4gb3B0aW9ucy5maW5kKChvcHRpb24pID0+IG9wdGlvbi5zZWxlY3RlZCksXG4gICAgW29wdGlvbnNdXG4gICk7XG4gIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlU3RhdGU2KFxuICAgIGluaXRpYWxseVNlbGVjdGVkT3B0aW9uPy52YWx1ZSA/PyBwbGFjZWhvbGRlclZhbHVlSWRcbiAgKTtcbiAgY29uc3QgW2lzVmFsaWQsIHNldFZhbGlkXSA9IHVzZVN0YXRlNihcbiAgICBpc1N0YW5kYWxvbmUgPyAhIWluaXRpYWxseVNlbGVjdGVkT3B0aW9uIDogIShyZXF1aXJlZCAmJiAhaW5pdGlhbGx5U2VsZWN0ZWRPcHRpb24pXG4gICk7XG4gIHVzZUVmZmVjdDYoKCkgPT4ge1xuICAgIG9uVmFsaWRpdHlDaGFuZ2U/Lihpc1ZhbGlkKTtcbiAgfSwgW10pO1xuICBjb25zdCBleHRlbmRlZENoYW5nZSA9IChlKSA9PiB7XG4gICAgY29uc3QgdmFsdWUyID0gZS5jdXJyZW50VGFyZ2V0LnZhbHVlO1xuICAgIGNvbnN0IHZhbGlkaXR5ID0gZS5jdXJyZW50VGFyZ2V0LmNoZWNrVmFsaWRpdHkoKSAmJiBwbGFjZWhvbGRlclZhbHVlSWQgIT09IHZhbHVlMjtcbiAgICBzZXRWYWx1ZSh2YWx1ZTIpO1xuICAgIHNldFZhbGlkKHZhbGlkaXR5KTtcbiAgICBvbkNoYW5nZT8uKHZhbHVlMik7XG4gICAgb25WYWxpZGl0eUNoYW5nZT8uKHZhbGlkaXR5KTtcbiAgfTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyNihcbiAgICBCYXNlSW5wdXRDb250YWluZXIsXG4gICAge1xuICAgICAgY2xhc3NOYW1lOiBcImJsaW5rLWlucHV0LXNlbGVjdFwiLFxuICAgICAgc3RhbmRhbG9uZTogaXNTdGFuZGFsb25lLFxuICAgICAgZGVzY3JpcHRpb24sXG4gICAgICByaWdodEFkb3JubWVudDogYnV0dG9uID8gLyogQF9fUFVSRV9fICovIGpzeDI2KFxuICAgICAgICBBY3Rpb25CdXR0b24sXG4gICAgICAgIHtcbiAgICAgICAgICAuLi5idXR0b24sXG4gICAgICAgICAgb25DbGljazogKCkgPT4gYnV0dG9uLm9uQ2xpY2soeyBbbmFtZV06IHZhbHVlIH0pLFxuICAgICAgICAgIGRpc2FibGVkOiBidXR0b24uZGlzYWJsZWQgfHwgdmFsdWUgPT09IFwiXCIgfHwgIWlzVmFsaWRcbiAgICAgICAgfVxuICAgICAgKSA6IG51bGwsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMxNShcbiAgICAgICAgXCJzZWxlY3RcIixcbiAgICAgICAge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJtci0xLjUgY3Vyc29yLXBvaW50ZXJcIixcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBvbkNoYW5nZTogZXh0ZW5kZWRDaGFuZ2UsXG4gICAgICAgICAgcmVxdWlyZWQ6IGJ1dHRvbiA/IHRydWUgOiByZXF1aXJlZCxcbiAgICAgICAgICBkaXNhYmxlZCxcbiAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDI2KFwib3B0aW9uXCIsIHsgZGlzYWJsZWQ6IHRydWUsIHZhbHVlOiBwbGFjZWhvbGRlclZhbHVlSWQsIGNoaWxkcmVuOiBwbGFjZWhvbGRlcldpdGhSZXF1aXJlZCB9KSxcbiAgICAgICAgICAgIG9wdGlvbnMubWFwKChvcHRpb24pID0+IC8qIEBfX1BVUkVfXyAqLyBqc3gyNihcIm9wdGlvblwiLCB7IHZhbHVlOiBvcHRpb24udmFsdWUsIGNoaWxkcmVuOiBvcHRpb24ubGFiZWwgfSwgYCR7b3B0aW9uLnZhbHVlfV8ke29wdGlvbi5sYWJlbH1gKSlcbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59O1xuXG4vLyBzcmMvdWkvaW50ZXJuYWwvaW5wdXRzL0FjdGlvblRleHRBcmVhLnRzeFxuaW1wb3J0IHsgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdDcsIHVzZU1lbW8gYXMgdXNlTWVtbzksIHVzZVN0YXRlIGFzIHVzZVN0YXRlNyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsganN4IGFzIGpzeDI3IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgQWN0aW9uVGV4dEFyZWEgPSAoe1xuICBwbGFjZWhvbGRlcixcbiAgbmFtZSxcbiAgYnV0dG9uLFxuICBkaXNhYmxlZCxcbiAgb25DaGFuZ2UsXG4gIG9uVmFsaWRpdHlDaGFuZ2UsXG4gIG1pbixcbiAgbWF4LFxuICBkZXNjcmlwdGlvbixcbiAgcmVxdWlyZWRcbn0pID0+IHtcbiAgY29uc3QgaXNTdGFuZGFsb25lID0gISFidXR0b247XG4gIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlU3RhdGU3KFwiXCIpO1xuICBjb25zdCBbaXNWYWxpZCwgc2V0VmFsaWRdID0gdXNlU3RhdGU3KCFpc1N0YW5kYWxvbmUgJiYgIXJlcXVpcmVkKTtcbiAgY29uc3QgbWluTGVuZ3RoID0gbWluO1xuICBjb25zdCBtYXhMZW5ndGggPSBtYXg7XG4gIHVzZUVmZmVjdDcoKCkgPT4ge1xuICAgIG9uVmFsaWRpdHlDaGFuZ2U/Lihpc1ZhbGlkKTtcbiAgfSwgW10pO1xuICBjb25zdCBleHRlbmRlZENoYW5nZSA9IChlKSA9PiB7XG4gICAgY29uc3QgdmFsdWUyID0gZS5jdXJyZW50VGFyZ2V0LnZhbHVlO1xuICAgIGNvbnN0IHZhbGlkaXR5ID0gZS5jdXJyZW50VGFyZ2V0LmNoZWNrVmFsaWRpdHkoKTtcbiAgICBzZXRWYWx1ZSh2YWx1ZTIpO1xuICAgIHNldFZhbGlkKHZhbGlkaXR5KTtcbiAgICBvbkNoYW5nZT8uKHZhbHVlMik7XG4gICAgb25WYWxpZGl0eUNoYW5nZT8uKHZhbGlkaXR5KTtcbiAgfTtcbiAgY29uc3QgcGxhY2Vob2xkZXJXaXRoUmVxdWlyZWQgPSAocGxhY2Vob2xkZXIgfHwgXCJUeXBlIGhlcmUuLi5cIikgKyAocmVxdWlyZWQgJiYgIWlzU3RhbmRhbG9uZSA/IFwiKlwiIDogXCJcIik7XG4gIGNvbnN0IHZhbGlkYXRpb25Qcm9wcyA9IHVzZU1lbW85KFxuICAgICgpID0+ICh7XG4gICAgICBtaW5MZW5ndGgsXG4gICAgICBtYXhMZW5ndGgsXG4gICAgICB0aXRsZTogZGVzY3JpcHRpb25cbiAgICB9KSxcbiAgICBbbWluTGVuZ3RoLCBtYXhMZW5ndGgsIGRlc2NyaXB0aW9uXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDI3KFxuICAgIEJhc2VJbnB1dENvbnRhaW5lcixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IFwiYmxpbmstaW5wdXQtdGV4dGFyZWFcIixcbiAgICAgIHN0YW5kYWxvbmU6IGZhbHNlLFxuICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uID8/IGJ1aWxkRGVmYXVsdFRleHREZXNjcmlwdGlvbih7IG1pbjogbWluTGVuZ3RoLCBtYXg6IG1heExlbmd0aCB9KSxcbiAgICAgIGZvb3RlcjogYnV0dG9uID8gLyogQF9fUFVSRV9fICovIGpzeDI3KFxuICAgICAgICBBY3Rpb25CdXR0b24sXG4gICAgICAgIHtcbiAgICAgICAgICAuLi5idXR0b24sXG4gICAgICAgICAgb25DbGljazogKCkgPT4gYnV0dG9uLm9uQ2xpY2soeyBbbmFtZV06IHZhbHVlIH0pLFxuICAgICAgICAgIGRpc2FibGVkOiBidXR0b24uZGlzYWJsZWQgfHwgdmFsdWUgPT09IFwiXCIgfHwgIWlzVmFsaWRcbiAgICAgICAgfVxuICAgICAgKSA6IG51bGwsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDI3KFxuICAgICAgICBcInRleHRhcmVhXCIsXG4gICAgICAgIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwibXktMS41IHdoaXRlc3BhY2Utbm9ybWFsXCIsXG4gICAgICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyV2l0aFJlcXVpcmVkLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIG9uQ2hhbmdlOiBleHRlbmRlZENoYW5nZSxcbiAgICAgICAgICAuLi52YWxpZGF0aW9uUHJvcHMsXG4gICAgICAgICAgcm93czogMyxcbiAgICAgICAgICByZXF1aXJlZDogYnV0dG9uID8gdHJ1ZSA6IHJlcXVpcmVkLFxuICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59O1xuXG4vLyBzcmMvdWkvaW50ZXJuYWwvaW5wdXRzL0FjdGlvblRleHRJbnB1dC50c3hcbmltcG9ydCB7IHVzZUVmZmVjdCBhcyB1c2VFZmZlY3Q4LCB1c2VNZW1vIGFzIHVzZU1lbW8xMCwgdXNlU3RhdGUgYXMgdXNlU3RhdGU4IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3ggYXMganN4MjggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBBY3Rpb25UZXh0SW5wdXQgPSAoe1xuICBwbGFjZWhvbGRlcixcbiAgbmFtZSxcbiAgYnV0dG9uLFxuICBkaXNhYmxlZCxcbiAgb25DaGFuZ2UsXG4gIG9uVmFsaWRpdHlDaGFuZ2UsXG4gIHBhdHRlcm4sXG4gIG1pbixcbiAgbWF4LFxuICBkZXNjcmlwdGlvbixcbiAgcmVxdWlyZWRcbn0pID0+IHtcbiAgY29uc3QgaXNTdGFuZGFsb25lID0gISFidXR0b247XG4gIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlU3RhdGU4KFwiXCIpO1xuICBjb25zdCBbaXNWYWxpZCwgc2V0VmFsaWRdID0gdXNlU3RhdGU4KCFpc1N0YW5kYWxvbmUgJiYgIXJlcXVpcmVkKTtcbiAgY29uc3QgbWluTGVuZ3RoID0gbWluO1xuICBjb25zdCBtYXhMZW5ndGggPSBtYXg7XG4gIHVzZUVmZmVjdDgoKCkgPT4ge1xuICAgIG9uVmFsaWRpdHlDaGFuZ2U/Lihpc1ZhbGlkKTtcbiAgfSwgW10pO1xuICBjb25zdCBleHRlbmRlZENoYW5nZSA9IChlKSA9PiB7XG4gICAgY29uc3QgdmFsdWUyID0gZS5jdXJyZW50VGFyZ2V0LnZhbHVlO1xuICAgIGNvbnN0IHZhbGlkaXR5ID0gZS5jdXJyZW50VGFyZ2V0LmNoZWNrVmFsaWRpdHkoKTtcbiAgICBzZXRWYWx1ZSh2YWx1ZTIpO1xuICAgIHNldFZhbGlkKHZhbGlkaXR5KTtcbiAgICBvbkNoYW5nZT8uKHZhbHVlMik7XG4gICAgb25WYWxpZGl0eUNoYW5nZT8uKHZhbGlkaXR5KTtcbiAgfTtcbiAgY29uc3QgcGxhY2Vob2xkZXJXaXRoUmVxdWlyZWQgPSAocGxhY2Vob2xkZXIgfHwgXCJUeXBlIGhlcmUuLi5cIikgKyAocmVxdWlyZWQgJiYgIWlzU3RhbmRhbG9uZSA/IFwiKlwiIDogXCJcIik7XG4gIGNvbnN0IHZhbGlkYXRpb25Qcm9wcyA9IHVzZU1lbW8xMChcbiAgICAoKSA9PiAoe1xuICAgICAgbWluTGVuZ3RoLFxuICAgICAgbWF4TGVuZ3RoLFxuICAgICAgcGF0dGVybixcbiAgICAgIHRpdGxlOiBkZXNjcmlwdGlvblxuICAgIH0pLFxuICAgIFttaW5MZW5ndGgsIG1heExlbmd0aCwgcGF0dGVybiwgZGVzY3JpcHRpb25dXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MjgoXG4gICAgQmFzZUlucHV0Q29udGFpbmVyLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogXCJibGluay1pbnB1dC10ZXh0XCIsXG4gICAgICBzdGFuZGFsb25lOiBpc1N0YW5kYWxvbmUsXG4gICAgICBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gPz8gYnVpbGREZWZhdWx0VGV4dERlc2NyaXB0aW9uKHsgbWluOiBtaW5MZW5ndGgsIG1heDogbWF4TGVuZ3RoIH0pLFxuICAgICAgcmlnaHRBZG9ybm1lbnQ6IGJ1dHRvbiA/IC8qIEBfX1BVUkVfXyAqLyBqc3gyOChcbiAgICAgICAgQWN0aW9uQnV0dG9uLFxuICAgICAgICB7XG4gICAgICAgICAgLi4uYnV0dG9uLFxuICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IGJ1dHRvbi5vbkNsaWNrKHsgW25hbWVdOiB2YWx1ZSB9KSxcbiAgICAgICAgICBkaXNhYmxlZDogYnV0dG9uLmRpc2FibGVkIHx8IHZhbHVlID09PSBcIlwiIHx8ICFpc1ZhbGlkXG4gICAgICAgIH1cbiAgICAgICkgOiBudWxsLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyOChcbiAgICAgICAgXCJpbnB1dFwiLFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyV2l0aFJlcXVpcmVkLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIG9uQ2hhbmdlOiBleHRlbmRlZENoYW5nZSxcbiAgICAgICAgICAuLi52YWxpZGF0aW9uUHJvcHMsXG4gICAgICAgICAgcmVxdWlyZWQ6IGJ1dHRvbiA/IHRydWUgOiByZXF1aXJlZCxcbiAgICAgICAgICBkaXNhYmxlZFxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuICApO1xufTtcblxuLy8gc3JjL3VpL2ludGVybmFsL2lucHV0cy9BY3Rpb25VcmxJbnB1dC50c3hcbmltcG9ydCB7IHVzZUVmZmVjdCBhcyB1c2VFZmZlY3Q5LCB1c2VJZCBhcyB1c2VJZDgsIHVzZU1lbW8gYXMgdXNlTWVtbzExLCB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTkgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGpzeCBhcyBqc3gyOSB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIEFjdGlvblVybElucHV0ID0gKHtcbiAgcGxhY2Vob2xkZXIsXG4gIG5hbWUsXG4gIGJ1dHRvbixcbiAgZGlzYWJsZWQsXG4gIG9uQ2hhbmdlLFxuICBvblZhbGlkaXR5Q2hhbmdlLFxuICBwYXR0ZXJuLFxuICBtaW4sXG4gIG1heCxcbiAgZGVzY3JpcHRpb24sXG4gIHJlcXVpcmVkXG59KSA9PiB7XG4gIGNvbnN0IGlzU3RhbmRhbG9uZSA9ICEhYnV0dG9uO1xuICBjb25zdCBpZCA9IHVzZUlkOCgpO1xuICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVN0YXRlOShcIlwiKTtcbiAgY29uc3QgW2lzVmFsaWQsIHNldFZhbGlkXSA9IHVzZVN0YXRlOSghaXNTdGFuZGFsb25lICYmICFyZXF1aXJlZCk7XG4gIGNvbnN0IG1pbkxlbmd0aCA9IG1pbjtcbiAgY29uc3QgbWF4TGVuZ3RoID0gbWF4O1xuICB1c2VFZmZlY3Q5KCgpID0+IHtcbiAgICBvblZhbGlkaXR5Q2hhbmdlPy4oaXNWYWxpZCk7XG4gIH0sIFtdKTtcbiAgY29uc3QgZXh0ZW5kZWRDaGFuZ2UgPSAoZSkgPT4ge1xuICAgIGNvbnN0IHZhbHVlMiA9IGUuY3VycmVudFRhcmdldC52YWx1ZTtcbiAgICBjb25zdCB2YWxpZGl0eSA9IGUuY3VycmVudFRhcmdldC5jaGVja1ZhbGlkaXR5KCk7XG4gICAgc2V0VmFsdWUodmFsdWUyKTtcbiAgICBzZXRWYWxpZCh2YWxpZGl0eSk7XG4gICAgb25DaGFuZ2U/Lih2YWx1ZTIpO1xuICAgIG9uVmFsaWRpdHlDaGFuZ2U/Lih2YWxpZGl0eSk7XG4gIH07XG4gIGNvbnN0IHBsYWNlaG9sZGVyV2l0aFJlcXVpcmVkID0gKHBsYWNlaG9sZGVyIHx8IFwiaHR0cHM6Ly9cIikgKyAocmVxdWlyZWQgJiYgIWlzU3RhbmRhbG9uZSA/IFwiKlwiIDogXCJcIik7XG4gIGNvbnN0IHZhbGlkYXRpb25Qcm9wcyA9IHVzZU1lbW8xMShcbiAgICAoKSA9PiAoe1xuICAgICAgbWluTGVuZ3RoLFxuICAgICAgbWF4TGVuZ3RoLFxuICAgICAgcGF0dGVybixcbiAgICAgIHRpdGxlOiBkZXNjcmlwdGlvblxuICAgIH0pLFxuICAgIFttaW5MZW5ndGgsIG1heExlbmd0aCwgcGF0dGVybiwgZGVzY3JpcHRpb25dXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MjkoXG4gICAgQmFzZUlucHV0Q29udGFpbmVyLFxuICAgIHtcbiAgICAgIGNsYXNzTmFtZTogXCJibGluay1pbnB1dC11cmxcIixcbiAgICAgIHN0YW5kYWxvbmU6IGlzU3RhbmRhbG9uZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiA/PyBidWlsZERlZmF1bHRUZXh0RGVzY3JpcHRpb24oeyBtaW46IG1pbkxlbmd0aCwgbWF4OiBtYXhMZW5ndGggfSksXG4gICAgICBsZWZ0QWRvcm5tZW50OiAvKiBAX19QVVJFX18gKi8ganN4MjkoXCJsYWJlbFwiLCB7IGh0bWxGb3I6IGlkLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDI5KExpbmtJY29uLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LWljb24tcHJpbWFyeVwiIH0pIH0pLFxuICAgICAgcmlnaHRBZG9ybm1lbnQ6IGJ1dHRvbiA/IC8qIEBfX1BVUkVfXyAqLyBqc3gyOShcbiAgICAgICAgQWN0aW9uQnV0dG9uLFxuICAgICAgICB7XG4gICAgICAgICAgLi4uYnV0dG9uLFxuICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IGJ1dHRvbi5vbkNsaWNrKHsgW25hbWVdOiB2YWx1ZSB9KSxcbiAgICAgICAgICBkaXNhYmxlZDogYnV0dG9uLmRpc2FibGVkIHx8IHZhbHVlID09PSBcIlwiIHx8ICFpc1ZhbGlkXG4gICAgICAgIH1cbiAgICAgICkgOiBudWxsLFxuICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyOShcbiAgICAgICAgXCJpbnB1dFwiLFxuICAgICAgICB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgdHlwZTogcGF0dGVybiA/IFwidGV4dFwiIDogXCJ1cmxcIixcbiAgICAgICAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXJXaXRoUmVxdWlyZWQsXG4gICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgb25DaGFuZ2U6IGV4dGVuZGVkQ2hhbmdlLFxuICAgICAgICAgIC4uLnZhbGlkYXRpb25Qcm9wcyxcbiAgICAgICAgICByZXF1aXJlZDogYnV0dG9uID8gdHJ1ZSA6IHJlcXVpcmVkLFxuICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59O1xuXG4vLyBzcmMvdWkvbGF5b3V0cy9wcmVzZXRzLnRzXG52YXIgdGhlbWVDbGFzc01hcCA9IHtcbiAgZGVmYXVsdDogXCJkaWFsLWxpZ2h0XCIsXG4gIFwieC1kYXJrXCI6IFwieC1kYXJrXCIsXG4gIFwieC1saWdodFwiOiBcIngtbGlnaHRcIixcbiAgY3VzdG9tOiBcImN1c3RvbVwiXG59O1xuXG4vLyBzcmMvdWkvbGF5b3V0cy9CYXNlQmxpbmtMYXlvdXQudHN4XG5pbXBvcnQgeyBGcmFnbWVudCBhcyBGcmFnbWVudDIsIGpzeCBhcyBqc3gzMCwganN4cyBhcyBqc3hzMTYgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBMaW5rYWJsZSA9ICh7XG4gIHVybCxcbiAgY2xhc3NOYW1lLFxuICBjaGlsZHJlblxufSkgPT4gdXJsID8gLyogQF9fUFVSRV9fICovIGpzeDMwKFxuICBcImFcIixcbiAge1xuICAgIGhyZWY6IHVybCxcbiAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIixcbiAgICBjbGFzc05hbWUsXG4gICAgY2hpbGRyZW5cbiAgfVxuKSA6IC8qIEBfX1BVUkVfXyAqLyBqc3gzMChcImRpdlwiLCB7IGNsYXNzTmFtZSwgY2hpbGRyZW4gfSk7XG52YXIgTm90U3VwcG9ydGVkQmxvY2sgPSAoe1xuICBtZXNzYWdlLFxuICBjbGFzc05hbWVcbn0pID0+IHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gzMChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeDkoXCJibGluay1ub3Qtc3VwcG9ydGVkLWJsb2NrXCIsIGNsYXNzTmFtZSksIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MzAoXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IGNsc3g5KFxuICAgICAgICBcImJnLWJnLXNlY29uZGFyeSB0ZXh0LXN1YnRleHQgdGV4dC10ZXh0LXNlY29uZGFyeSByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItbm9uZSBwLTNcIlxuICAgICAgKSxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4czE2KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggZmxleC1yb3cgZ2FwLTJcIiwgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDMwKFwiZGl2XCIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gzMChDb25maWdJY29uLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LWljb24tcHJpbWFyeVwiIH0pIH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4czE2KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggZmxleC1jb2wganVzdGlmeS1jZW50ZXIgZ2FwLVszcHhdXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDMwKFwiYVwiLCB7IGNsYXNzTmFtZTogXCJmb250LXNlbWlib2xkXCIsIGNoaWxkcmVuOiBcIlRoaXMgYWN0aW9uIGlzIG5vdCBzdXBwb3J0ZWRcIiB9KSxcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MzAoXCJwXCIsIHsgY2hpbGRyZW46IG1lc3NhZ2UgfSlcbiAgICAgICAgXSB9KVxuICAgICAgXSB9KVxuICAgIH1cbiAgKSB9KTtcbn07XG52YXIgRGlzY2xhaW1lckJsb2NrID0gKHtcbiAgdHlwZSxcbiAgaGlkZGVuLFxuICBpZ25vcmFibGUsXG4gIG9uU2tpcCxcbiAgY2xhc3NOYW1lXG59KSA9PiB7XG4gIGlmICh0eXBlID09PSBEaXNjbGFpbWVyVHlwZS5CTE9DS0VEICYmICFoaWRkZW4pIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDMwKFwiZGl2XCIsIHsgY2xhc3NOYW1lLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMxNihTbmFja2JhciwgeyB2YXJpYW50OiBcImVycm9yXCIsIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4czE2KFwicFwiLCB7IGNoaWxkcmVuOiBbXG4gICAgICAgIFwiVGhpcyBBY3Rpb24gb3IgaXQncyBvcmlnaW4gaGFzIGJlZW4gZmxhZ2dlZCBhcyBhbiB1bnNhZmUgYWN0aW9uLCAmIGhhcyBiZWVuIGJsb2NrZWQuIElmIHlvdSBiZWxpZXZlIHRoaXMgYWN0aW9uIGhhcyBiZWVuIGJsb2NrZWQgaW4gZXJyb3IsIHBsZWFzZVwiLFxuICAgICAgICBcIiBcIixcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDMwKFxuICAgICAgICAgIFwiYVwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGhyZWY6IFwiaHR0cHM6Ly9kaXNjb3JkLmdnL3NheWRpYWxlY3RcIixcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJjdXJzb3ItcG9pbnRlciB1bmRlcmxpbmVcIixcbiAgICAgICAgICAgIHRhcmdldDogXCJfYmxhbmtcIixcbiAgICAgICAgICAgIHJlbDogXCJub29wZW5lciBub3JlZmVycmVyXCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogXCJzdWJtaXQgYW4gaXNzdWVcIlxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgXCIuXCIsXG4gICAgICAgICFpZ25vcmFibGUgJiYgXCIgWW91ciBhY3Rpb24gcHJvdmlkZXIgYmxvY2tzIGV4ZWN1dGlvbiBvZiB0aGlzIGFjdGlvbi5cIlxuICAgICAgXSB9KSxcbiAgICAgIGlnbm9yYWJsZSAmJiBvblNraXAgJiYgLyogQF9fUFVSRV9fICovIGpzeDMwKFxuICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcImhvdmVyOnRleHQtdGV4dC1lcnJvci1ob3ZlciBtdC0zIGZvbnQtc2VtaWJvbGQgdHJhbnNpdGlvbi1jb2xvcnMgbW90aW9uLXJlZHVjZTp0cmFuc2l0aW9uLW5vbmVcIixcbiAgICAgICAgICBvbkNsaWNrOiBvblNraXAsXG4gICAgICAgICAgY2hpbGRyZW46IFwiSWdub3JlIHdhcm5pbmcgJiBwcm9jZWVkXCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIF0gfSkgfSk7XG4gIH1cbiAgaWYgKHR5cGUgPT09IERpc2NsYWltZXJUeXBlLlVOS05PV04pIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDMwKFwiZGl2XCIsIHsgY2xhc3NOYW1lLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMxNihTbmFja2JhciwgeyB2YXJpYW50OiBcIndhcm5pbmdcIiwgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzMTYoXCJwXCIsIHsgY2hpbGRyZW46IFtcbiAgICAgICAgXCJUaGlzIEFjdGlvbiBoYXMgbm90IHlldCBiZWVuIHJlZ2lzdGVyZWQuIE9ubHkgdXNlIGl0IGlmIHlvdSB0cnVzdCB0aGUgc291cmNlLiBUaGlzIEFjdGlvbiB3aWxsIG5vdCB1bmZ1cmwgb24gWCB1bnRpbCBpdCBpcyByZWdpc3RlcmVkLlwiLFxuICAgICAgICAhaWdub3JhYmxlICYmIFwiIFlvdXIgYWN0aW9uIHByb3ZpZGVyIGJsb2NrcyBleGVjdXRpb24gb2YgdGhpcyBhY3Rpb24uXCJcbiAgICAgIF0gfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4MzAoXG4gICAgICAgIFwiYVwiLFxuICAgICAgICB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcImhvdmVyOnRleHQtdGV4dC13YXJuaW5nLWhvdmVyIG10LTMgaW5saW5lLWJsb2NrIGZvbnQtc2VtaWJvbGQgdHJhbnNpdGlvbi1jb2xvcnMgbW90aW9uLXJlZHVjZTp0cmFuc2l0aW9uLW5vbmVcIixcbiAgICAgICAgICBocmVmOiBcImh0dHBzOi8vZGlzY29yZC5nZy9zYXlkaWFsZWN0XCIsXG4gICAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgICAgIHJlbDogXCJub29wZW5lciBub3JlZmVycmVyXCIsXG4gICAgICAgICAgY2hpbGRyZW46IFwiUmVwb3J0XCJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIF0gfSkgfSk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xudmFyIEJhc2VCbGlua0xheW91dCA9ICh7XG4gIHN0eWxlUHJlc2V0ID0gXCJkZWZhdWx0XCIsXG4gIHRpdGxlLFxuICBkZXNjcmlwdGlvbixcbiAgaW1hZ2UsXG4gIHdlYnNpdGVVcmwsXG4gIHdlYnNpdGVUZXh0LFxuICBzZWN1cml0eVN0YXRlLFxuICBkaXNjbGFpbWVyLFxuICBidXR0b25zLFxuICBpbnB1dHMsXG4gIGZvcm0sXG4gIGVycm9yLFxuICBzdWNjZXNzLFxuICBtZXNzYWdlLFxuICBzdXBwb3J0YWJpbGl0eSxcbiAgaWQsXG4gIHNob3VsZFNob3dXZWJzaXRlTGlua1xufSkgPT4ge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDMwKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHN4OShcImJsaW5rXCIsIHRoZW1lQ2xhc3NNYXBbc3R5bGVQcmVzZXRdKSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzMTYoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYm9yZGVyLXN0cm9rZS1wcmltYXJ5IGJnLWJnLXByaW1hcnkgc2hhZG93LWFjdGlvbiB3LWZ1bGwgY3Vyc29yLWRlZmF1bHQgb3ZlcmZsb3ctaGlkZGVuIHJvdW5kZWQtMnhsIGJvcmRlclwiLCBjaGlsZHJlbjogW1xuICAgIGltYWdlICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gzMChcbiAgICAgIExpbmthYmxlLFxuICAgICAge1xuICAgICAgICB1cmw6IHdlYnNpdGVVcmwsXG4gICAgICAgIGNsYXNzTmFtZTogXCJibGluay1pbWFnZSBweC1wYWRkaW5nIHB0LXBhZGRpbmcgYmxvY2sgbWF4LWgtWzEwMGNxd10gb3ZlcmZsb3cteS1oaWRkZW5cIixcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gzMChcbiAgICAgICAgICBcImltZ1wiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogY2xzeDkoXG4gICAgICAgICAgICAgIFwiYXNwZWN0LWF1dG8gdy1mdWxsIHJvdW5kZWQteGwgb2JqZWN0LWNvdmVyIG9iamVjdC1jZW50ZXJcIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHNyYzogaW1hZ2UsXG4gICAgICAgICAgICBhbHQ6IFwiYWN0aW9uLWltYWdlXCJcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH1cbiAgICApLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzMTYoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicHgtcGFkZGluZyBwYi1wYWRkaW5nIHB0LWdhcCBmbGV4IGZsZXgtY29sXCIsIGNoaWxkcmVuOiBbXG4gICAgICBzaG91bGRTaG93V2Vic2l0ZUxpbmsgPyAvKiBAX19QVVJFX18gKi8ganN4czE2KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgIHdlYnNpdGVVcmwgJiYgLyogQF9fUFVSRV9fICovIGpzeHMxNihcbiAgICAgICAgICBcImFcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBocmVmOiB3ZWJzaXRlVXJsLFxuICAgICAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJsaW5rLXByb3ZpZGVyLXVybCB0ZXh0LXN1YnRleHQgZ3JvdXAgZmxleCBtaW4tdy0wIGl0ZW1zLWNlbnRlciBnYXAtMiBob3ZlcjpjdXJzb3ItcG9pbnRlclwiLFxuICAgICAgICAgICAgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gzMChMaW5rSWNvbiwgeyBjbGFzc05hbWU6IFwidGV4dC1pY29uLXByaW1hcnkgZ3JvdXAtaG92ZXI6dGV4dC1pY29uLXByaW1hcnktaG92ZXIgaC00IG1pbi13LTQgdHJhbnNpdGlvbi1jb2xvcnMgbW90aW9uLXJlZHVjZTp0cmFuc2l0aW9uLW5vbmVcIiB9KSxcbiAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDMwKFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJ0ZXh0LXRleHQtbGluayBncm91cC1ob3Zlcjp0ZXh0LXRleHQtbGluay1ob3ZlciBtdC1bMXB4XSBibG9jayBtaW4tdy0wIHRydW5jYXRlIHRyYW5zaXRpb24tY29sb3JzIGdyb3VwLWhvdmVyOnVuZGVybGluZSBtb3Rpb24tcmVkdWNlOnRyYW5zaXRpb24tbm9uZVwiLCBjaGlsZHJlbjogd2Vic2l0ZVRleHQgPz8gd2Vic2l0ZVVybCB9KVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgd2Vic2l0ZVRleHQgJiYgIXdlYnNpdGVVcmwgJiYgLyogQF9fUFVSRV9fICovIGpzeDMwKFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJibGluay1wcm92aWRlci11cmwgdGV4dC1zdWJ0ZXh0IHRleHQtdGV4dC1saW5rIG1pbi13LTAgdHJ1bmNhdGVcIiwgY2hpbGRyZW46IHdlYnNpdGVUZXh0IH0pLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4czE2KFxuICAgICAgICAgIFwiYVwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGhyZWY6IFwiaHR0cHM6Ly9kb2NzLmRpYWxlY3QudG8vZG9jdW1lbnRhdGlvbi9hY3Rpb25zL3NlY3VyaXR5XCIsXG4gICAgICAgICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICAgICAgICByZWw6IFwibm9vcGVuZXIgbm9yZWZlcnJlclwiLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJsaW5rLXNlY3VyaXR5LWJhZGdlIG1iLTAuNSBmbGV4IGl0ZW1zLWNlbnRlclwiLFxuICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgc2VjdXJpdHlTdGF0ZSA9PT0gXCJtYWxpY2lvdXNcIiAmJiAvKiBAX19QVVJFX18gKi8ganN4MzAoXG4gICAgICAgICAgICAgICAgQmFkZ2UsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgdmFyaWFudDogXCJlcnJvclwiLFxuICAgICAgICAgICAgICAgICAgaWNvbjogLyogQF9fUFVSRV9fICovIGpzeDMwKEV4Y2xhbWF0aW9uU2hpZWxkSWNvbiwgeyB3aWR0aDogMTMsIGhlaWdodDogMTMgfSksXG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbjogXCJCbG9ja2VkXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIHNlY3VyaXR5U3RhdGUgPT09IFwidHJ1c3RlZFwiICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gzMChcbiAgICAgICAgICAgICAgICBCYWRnZSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICB2YXJpYW50OiBcImRlZmF1bHRcIixcbiAgICAgICAgICAgICAgICAgIGljb246IC8qIEBfX1BVUkVfXyAqLyBqc3gzMChJbmZvU2hpZWxkSWNvbiwgeyB3aWR0aDogMTMsIGhlaWdodDogMTMgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIHNlY3VyaXR5U3RhdGUgPT09IFwidW5rbm93blwiICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gzMChcbiAgICAgICAgICAgICAgICBCYWRnZSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICB2YXJpYW50OiBcIndhcm5pbmdcIixcbiAgICAgICAgICAgICAgICAgIGljb246IC8qIEBfX1BVUkVfXyAqLyBqc3gzMChJbmZvU2hpZWxkSWNvbiwgeyB3aWR0aDogMTMsIGhlaWdodDogMTMgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF0gfSkgOiBudWxsLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeDMwKFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJibGluay10aXRsZSB0ZXh0LXRleHQgdGV4dC10ZXh0LXByaW1hcnkgbWItMSBtdC0xLjUgYnJlYWstd29yZHMgZm9udC1zZW1pYm9sZFwiLCBjaGlsZHJlbjogdGl0bGUgfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4MzAoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImJsaW5rLWRlc2NyaXB0aW9uIHRleHQtc3VidGV4dCB0ZXh0LXRleHQtc2Vjb25kYXJ5IG1iLWdhcCBicmVhay13b3Jkc1wiLCBjaGlsZHJlbjogZGVzY3JpcHRpb24gJiYgLyogQF9fUFVSRV9fICovIGpzeDMwKFNpbXBsZU1hcmtkb3duLCB7IHRleHQ6IGRlc2NyaXB0aW9uIH0pIH0pLFxuICAgICAgIXN1cHBvcnRhYmlsaXR5LmlzU3VwcG9ydGVkID8gLyogQF9fUFVSRV9fICovIGpzeDMwKE5vdFN1cHBvcnRlZEJsb2NrLCB7IG1lc3NhZ2U6IHN1cHBvcnRhYmlsaXR5Lm1lc3NhZ2UgfSkgOiAvKiBAX19QVVJFX18gKi8ganN4czE2KEZyYWdtZW50MiwgeyBjaGlsZHJlbjogW1xuICAgICAgICBkaXNjbGFpbWVyICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gzMChcbiAgICAgICAgICBEaXNjbGFpbWVyQmxvY2ssXG4gICAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcImJsaW5rLWRpc2NsYWltZXItYmxvY2sgbWItZ2FwXCIsXG4gICAgICAgICAgICB0eXBlOiBkaXNjbGFpbWVyLnR5cGUsXG4gICAgICAgICAgICBpZ25vcmFibGU6IGRpc2NsYWltZXIuaWdub3JhYmxlLFxuICAgICAgICAgICAgaGlkZGVuOiBkaXNjbGFpbWVyLnR5cGUgPT09IERpc2NsYWltZXJUeXBlLkJMT0NLRUQgPyBkaXNjbGFpbWVyLmhpZGRlbiA6IGZhbHNlLFxuICAgICAgICAgICAgb25Ta2lwOiBkaXNjbGFpbWVyLnR5cGUgPT09IERpc2NsYWltZXJUeXBlLkJMT0NLRUQgPyBkaXNjbGFpbWVyLm9uU2tpcCA6IHZvaWQgMFxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDMwKFxuICAgICAgICAgIEFjdGlvbkNvbnRlbnQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgZm9ybSxcbiAgICAgICAgICAgIGlucHV0cyxcbiAgICAgICAgICAgIGJ1dHRvbnNcbiAgICAgICAgICB9LFxuICAgICAgICAgIGlkXG4gICAgICAgICksXG4gICAgICAgIHN1Y2Nlc3MgJiYgLyogQF9fUFVSRV9fICovIGpzeDMwKFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJibGluay1tZXNzYWdlLXN1Y2Nlc3MgdGV4dC1zdWJ0ZXh0IHRleHQtdGV4dC1zdWNjZXNzIG10LWJldHdlZW4taW5wdXRzIGJyZWFrLXdvcmRzIHRleHQtY2VudGVyXCIsIGNoaWxkcmVuOiBzdWNjZXNzIH0pLFxuICAgICAgICBlcnJvciAmJiAhc3VjY2VzcyAmJiAvKiBAX19QVVJFX18gKi8ganN4MzAoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImJsaW5rLW1lc3NhZ2UtZXJyb3IgdGV4dC1zdWJ0ZXh0IHRleHQtdGV4dC1lcnJvciBtdC1iZXR3ZWVuLWlucHV0cyBicmVhay13b3JkcyB0ZXh0LWNlbnRlclwiLCBjaGlsZHJlbjogZXJyb3IgfSksXG4gICAgICAgIG1lc3NhZ2UgJiYgIXN1Y2Nlc3MgJiYgIWVycm9yICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gzMChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiYmxpbmstbWVzc2FnZS1kZWZhdWx0IHRleHQtc3VidGV4dCB0ZXh0LXRleHQtc2Vjb25kYXJ5IG10LWJldHdlZW4taW5wdXRzIGJyZWFrLXdvcmRzIHRleHQtY2VudGVyXCIsIGNoaWxkcmVuOiBtZXNzYWdlIH0pXG4gICAgICBdIH0pLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeDMwKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImJsaW5rLXBvd2VyZWQtYnkgbXQtNCBmbGV4IGp1c3RpZnktY2VudGVyXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4czE2KFxuICAgICAgICBcImFcIixcbiAgICAgICAge1xuICAgICAgICAgIGhyZWY6IFwiaHR0cHM6Ly9kaWFsZWN0LnRvXCIsXG4gICAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgICAgIGNsYXNzTmFtZTogXCJ0ZXh0LXN1YnRleHQgdGV4dC10ZXh0LWxpbmsgaG92ZXI6dGV4dC10ZXh0LWxpbmstaG92ZXIgZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgdHJhbnNpdGlvbi1jb2xvcnMgaG92ZXI6Y3Vyc29yLXBvaW50ZXIgbW90aW9uLXJlZHVjZTp0cmFuc2l0aW9uLW5vbmVcIixcbiAgICAgICAgICByZWw6IFwibm9yZWZlcnJlclwiLFxuICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4MzAoXCJzcGFuXCIsIHsgY2hpbGRyZW46IFwicG93ZXJlZCBieVwiIH0pLFxuICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeDMwKERpYWxlY3RMb2dvLCB7fSlcbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgICkgfSlcbiAgICBdIH0pXG4gIF0gfSkgfSk7XG59O1xudmFyIEFjdGlvbkNvbnRlbnQgPSAoe1xuICBmb3JtLFxuICBpbnB1dHMsXG4gIGJ1dHRvbnNcbn0pID0+IHtcbiAgaWYgKGZvcm0pIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDMwKEFjdGlvbkZvcm0sIHsgZm9ybSB9KTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMxNihcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJnYXAtYmV0d2Vlbi1pbnB1dHMgZmxleCBmbGV4LWNvbFwiLCBjaGlsZHJlbjogW1xuICAgIGJ1dHRvbnMgJiYgYnV0dG9ucy5sZW5ndGggPiAwICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gzMChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJnYXAtYmV0d2Vlbi1idXR0b25zIGZsZXggZmxleC13cmFwIGl0ZW1zLWNlbnRlclwiLCBjaGlsZHJlbjogYnV0dG9ucz8ubWFwKChpdCwgaW5kZXgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3gzMChcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJmbGV4IGZsZXgtZ3JvdyBiYXNpcy1bY2FsYygzMy4zMzMlLTIqNHB4KV1cIixcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gzMChBY3Rpb25CdXR0b24sIHsgLi4uaXQgfSlcbiAgICAgIH0sXG4gICAgICBpbmRleFxuICAgICkpIH0pLFxuICAgIGlucHV0cz8ubWFwKChpbnB1dCkgPT4gLyogQF9fUFVSRV9fICovIGpzeDMwKEFjdGlvbklucHV0RmFjdG9yeSwgeyAuLi5pbnB1dCB9LCBpbnB1dC5uYW1lKSlcbiAgXSB9KTtcbn07XG52YXIgYnVpbGREZWZhdWx0Rm9ybVZhbHVlcyA9IChpbnB1dHMpID0+IHtcbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBpbnB1dHMubWFwKChpKSA9PiB7XG4gICAgICBpZiAoaS50eXBlID09PSBcImNoZWNrYm94XCIpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBpLm5hbWUsXG4gICAgICAgICAgaS5vcHRpb25zPy5maWx0ZXIoKG8pID0+IG8uc2VsZWN0ZWQpLm1hcCgobykgPT4gby52YWx1ZSlcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpLnR5cGUgPT09IFwicmFkaW9cIiB8fCBpLnR5cGUgPT09IFwic2VsZWN0XCIgPyBbaS5uYW1lLCBpLm9wdGlvbnM/LmZpbmQoKG8pID0+IG8uc2VsZWN0ZWQpPy52YWx1ZV0gOiBudWxsO1xuICAgIH0pLmZpbHRlcigoaSkgPT4gISFpKVxuICApO1xufTtcbnZhciBBY3Rpb25Gb3JtID0gKHsgZm9ybSB9KSA9PiB7XG4gIGNvbnN0IFt2YWx1ZXMsIHNldFZhbHVlc10gPSB1c2VTdGF0ZTEwKFxuICAgIGJ1aWxkRGVmYXVsdEZvcm1WYWx1ZXMoZm9ybS5pbnB1dHMpXG4gICk7XG4gIGNvbnN0IFt2YWxpZGl0eSwgc2V0VmFsaWRpdHldID0gdXNlU3RhdGUxMChcbiAgICBPYmplY3QuZnJvbUVudHJpZXMoZm9ybS5pbnB1dHMubWFwKChpKSA9PiBbaS5uYW1lLCBmYWxzZV0pKVxuICApO1xuICBjb25zdCBvbkNoYW5nZSA9IChuYW1lLCB2YWx1ZSkgPT4ge1xuICAgIHNldFZhbHVlcygocHJldikgPT4gKHsgLi4ucHJldiwgW25hbWVdOiB2YWx1ZSB9KSk7XG4gIH07XG4gIGNvbnN0IG9uVmFsaWRpdHlDaGFuZ2UgPSAobmFtZSwgc3RhdGUpID0+IHtcbiAgICBzZXRWYWxpZGl0eSgocHJldikgPT4gKHsgLi4ucHJldiwgW25hbWVdOiBzdGF0ZSB9KSk7XG4gIH07XG4gIGNvbnN0IGRpc2FibGVkID0gT2JqZWN0LnZhbHVlcyh2YWxpZGl0eSkuc29tZSgodikgPT4gIXYpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMxNihcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJnYXAtYmV0d2Vlbi1pbnB1dHMgZmxleCBmbGV4LWNvbFwiLCBjaGlsZHJlbjogW1xuICAgIGZvcm0uaW5wdXRzLm1hcCgoaW5wdXQpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3gzMChcbiAgICAgIEFjdGlvbklucHV0RmFjdG9yeSxcbiAgICAgIHtcbiAgICAgICAgLi4uaW5wdXQsXG4gICAgICAgIG9uQ2hhbmdlOiAodikgPT4gb25DaGFuZ2UoaW5wdXQubmFtZSwgdiksXG4gICAgICAgIG9uVmFsaWRpdHlDaGFuZ2U6ICh2KSA9PiBvblZhbGlkaXR5Q2hhbmdlKGlucHV0Lm5hbWUsIHYpXG4gICAgICB9LFxuICAgICAgaW5wdXQubmFtZVxuICAgICkpLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3gzMChcbiAgICAgIEFjdGlvbkJ1dHRvbixcbiAgICAgIHtcbiAgICAgICAgLi4uZm9ybS5idXR0b24sXG4gICAgICAgIG9uQ2xpY2s6ICgpID0+IGZvcm0uYnV0dG9uLm9uQ2xpY2sodmFsdWVzKSxcbiAgICAgICAgZGlzYWJsZWQ6IGZvcm0uYnV0dG9uLmRpc2FibGVkIHx8IGRpc2FibGVkXG4gICAgICB9XG4gICAgKVxuICBdIH0pO1xufTtcbnZhciBBY3Rpb25JbnB1dEZhY3RvcnkgPSAoaW5wdXQpID0+IHtcbiAgc3dpdGNoIChpbnB1dC50eXBlKSB7XG4gICAgY2FzZSBcImNoZWNrYm94XCI6XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDMwKEFjdGlvbkNoZWNrYm94R3JvdXAsIHsgLi4uaW5wdXQgfSk7XG4gICAgY2FzZSBcInJhZGlvXCI6XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeDMwKEFjdGlvblJhZGlvR3JvdXAsIHsgLi4uaW5wdXQgfSk7XG4gICAgY2FzZSBcImRhdGVcIjpcbiAgICBjYXNlIFwiZGF0ZXRpbWUtbG9jYWxcIjpcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MzAoQWN0aW9uRGF0ZUlucHV0LCB7IC4uLmlucHV0LCB0eXBlOiBpbnB1dC50eXBlIH0pO1xuICAgIGNhc2UgXCJzZWxlY3RcIjpcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MzAoQWN0aW9uU2VsZWN0LCB7IC4uLmlucHV0IH0pO1xuICAgIGNhc2UgXCJlbWFpbFwiOlxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gzMChBY3Rpb25FbWFpbElucHV0LCB7IC4uLmlucHV0IH0pO1xuICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MzAoQWN0aW9uTnVtYmVySW5wdXQsIHsgLi4uaW5wdXQgfSk7XG4gICAgY2FzZSBcInVybFwiOlxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gzMChBY3Rpb25VcmxJbnB1dCwgeyAuLi5pbnB1dCB9KTtcbiAgICBjYXNlIFwidGV4dGFyZWFcIjpcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MzAoQWN0aW9uVGV4dEFyZWEsIHsgLi4uaW5wdXQgfSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MzAoQWN0aW9uVGV4dElucHV0LCB7IC4uLmlucHV0IH0pO1xuICB9XG59O1xuXG4vLyBzcmMvdWkvQWN0aW9uc09ubHlCbGluay50c3hcbmltcG9ydCB7XG4gIEJsaW5rQ29udGFpbmVyXG59IGZyb20gXCJAZGlhbGVjdGxhYnMvYmxpbmtzLWNvcmVcIjtcbmltcG9ydCB7IHVzZUNhbGxiYWNrIGFzIHVzZUNhbGxiYWNrMyB9IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvdWkvbGF5b3V0cy9BY3Rpb25zT25seUJsaW5rTGF5b3V0LnRzeFxuaW1wb3J0IGNsc3gxMCBmcm9tIFwiY2xzeFwiO1xuaW1wb3J0IHsganN4IGFzIGpzeDMxLCBqc3hzIGFzIGpzeHMxNyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIEFjdGlvbnNPbmx5QmxpbmtMYXlvdXQgPSAoe1xuICBzdHlsZVByZXNldCA9IFwiZGVmYXVsdFwiLFxuICBpZCxcbiAgc3VjY2VzcyxcbiAgZXJyb3IsXG4gIG1lc3NhZ2UsXG4gIGlucHV0cyxcbiAgYnV0dG9ucyxcbiAgZm9ybVxufSkgPT4ge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMxNyhcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeDEwKFwiYmxpbmsgdy1mdWxsXCIsIHRoZW1lQ2xhc3NNYXBbc3R5bGVQcmVzZXRdKSwgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8ganN4MzEoQWN0aW9uQ29udGVudCwgeyBmb3JtLCBpbnB1dHMsIGJ1dHRvbnMgfSwgaWQpLFxuICAgIHN1Y2Nlc3MgJiYgLyogQF9fUFVSRV9fICovIGpzeDMxKFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJibGluay1tZXNzYWdlLXN1Y2Nlc3MgdGV4dC1zdWJ0ZXh0IHRleHQtdGV4dC1zdWNjZXNzIG10LWJldHdlZW4taW5wdXRzIGJyZWFrLXdvcmRzIHRleHQtY2VudGVyXCIsIGNoaWxkcmVuOiBzdWNjZXNzIH0pLFxuICAgIGVycm9yICYmICFzdWNjZXNzICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gzMShcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiYmxpbmstbWVzc2FnZS1lcnJvciB0ZXh0LXN1YnRleHQgdGV4dC10ZXh0LWVycm9yIG10LWJldHdlZW4taW5wdXRzIGJyZWFrLXdvcmRzIHRleHQtY2VudGVyXCIsIGNoaWxkcmVuOiBlcnJvciB9KSxcbiAgICBtZXNzYWdlICYmICFzdWNjZXNzICYmICFlcnJvciAmJiAvKiBAX19QVVJFX18gKi8ganN4MzEoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImJsaW5rLW1lc3NhZ2UtZGVmYXVsdCB0ZXh0LXN1YnRleHQgdGV4dC10ZXh0LXNlY29uZGFyeSBtdC1iZXR3ZWVuLWlucHV0cyBicmVhay13b3JkcyB0ZXh0LWNlbnRlclwiLCBjaGlsZHJlbjogbWVzc2FnZSB9KVxuICBdIH0pO1xufTtcblxuLy8gc3JjL3VpL0FjdGlvbnNPbmx5QmxpbmsudHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MzIgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBBY3Rpb25zT25seUJsaW5rID0gKHtcbiAgX0xheW91dDogTGF5b3V0ID0gTm9ybWFsaXplZEFjdGlvbnNPbmx5QmxpbmtMYXlvdXQsXG4gIHN0eWxlUHJlc2V0LFxuICAuLi5wcm9wc1xufSkgPT4ge1xuICBjb25zdCBMYXlvdXRXaXRoUHJlc2V0ID0gdXNlQ2FsbGJhY2szKFxuICAgIChwcm9wczIpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3gzMihMYXlvdXQsIHsgLi4ucHJvcHMyLCBzdHlsZVByZXNldCB9KSxcbiAgICBbTGF5b3V0LCBzdHlsZVByZXNldF1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gzMihcbiAgICBCbGlua0NvbnRhaW5lcixcbiAgICB7XG4gICAgICAuLi5wcm9wcyxcbiAgICAgIHNlbGVjdG9yOiB2b2lkIDAsXG4gICAgICBMYXlvdXQ6IExheW91dFdpdGhQcmVzZXRcbiAgICB9XG4gICk7XG59O1xudmFyIE5vcm1hbGl6ZWRBY3Rpb25zT25seUJsaW5rTGF5b3V0ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IG5vcm1hbGl6ZWRQcm9wcyA9IHVzZUJhc2VMYXlvdXRQcm9wTm9ybWFsaXplcihwcm9wcyk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MzIoQWN0aW9uc09ubHlCbGlua0xheW91dCwgeyAuLi5ub3JtYWxpemVkUHJvcHMgfSk7XG59O1xuXG4vLyBzcmMvdWkvQmxpbmtDb21wb25lbnQudHN4XG5pbXBvcnQge1xuICBCbGlua0NvbnRhaW5lciBhcyBCbGlua0NvbnRhaW5lcjJcbn0gZnJvbSBcIkBkaWFsZWN0bGFicy9ibGlua3MtY29yZVwiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgYXMgdXNlQ2FsbGJhY2s0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3ggYXMganN4MzMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBCbGlua0NvbXBvbmVudCA9ICh7XG4gIF9MYXlvdXQ6IExheW91dCA9IE5vcm1hbGl6ZWRCYXNlQmxpbmtMYXlvdXQsXG4gIHN0eWxlUHJlc2V0LFxuICAuLi5wcm9wc1xufSkgPT4ge1xuICBjb25zdCBMYXlvdXRXaXRoUHJlc2V0ID0gdXNlQ2FsbGJhY2s0KFxuICAgIChwcm9wczIpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3gzMyhMYXlvdXQsIHsgLi4ucHJvcHMyLCBzdHlsZVByZXNldCB9KSxcbiAgICBbTGF5b3V0LCBzdHlsZVByZXNldF1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gzMyhcbiAgICBCbGlua0NvbnRhaW5lcjIsXG4gICAge1xuICAgICAgLi4ucHJvcHMsXG4gICAgICBzZWxlY3Rvcjogdm9pZCAwLFxuICAgICAgTGF5b3V0OiBMYXlvdXRXaXRoUHJlc2V0XG4gICAgfVxuICApO1xufTtcbnZhciBOb3JtYWxpemVkQmFzZUJsaW5rTGF5b3V0ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IG5vcm1hbGl6ZWRQcm9wcyA9IHVzZUJhc2VMYXlvdXRQcm9wTm9ybWFsaXplcihwcm9wcyk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4MzMoQmFzZUJsaW5rTGF5b3V0LCB7IC4uLm5vcm1hbGl6ZWRQcm9wcyB9KTtcbn07XG5cbi8vIHNyYy91aS9NaW5pYmxpbmsudHN4XG5pbXBvcnQge1xuICBCbGlua0NvbnRhaW5lciBhcyBCbGlua0NvbnRhaW5lcjNcbn0gZnJvbSBcIkBkaWFsZWN0bGFicy9ibGlua3MtY29yZVwiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgYXMgdXNlQ2FsbGJhY2s2IH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy91aS9ob29rcy91c2VJc29sYXRlZExheW91dFByb3BOb3JtYWxpemVyLnRzXG5pbXBvcnQge1xuICBCdXR0b25BY3Rpb25Db21wb25lbnQgYXMgQnV0dG9uQWN0aW9uQ29tcG9uZW50MixcbiAgRm9ybUFjdGlvbkNvbXBvbmVudCBhcyBGb3JtQWN0aW9uQ29tcG9uZW50MixcbiAgaXNQYXJhbWV0ZXJTZWxlY3RhYmxlIGFzIGlzUGFyYW1ldGVyU2VsZWN0YWJsZTIsXG4gIGlzUGF0dGVybkFsbG93ZWQgYXMgaXNQYXR0ZXJuQWxsb3dlZDIsXG4gIE11bHRpVmFsdWVBY3Rpb25Db21wb25lbnQgYXMgTXVsdGlWYWx1ZUFjdGlvbkNvbXBvbmVudDIsXG4gIFNpbmdsZVZhbHVlQWN0aW9uQ29tcG9uZW50IGFzIFNpbmdsZVZhbHVlQWN0aW9uQ29tcG9uZW50MlxufSBmcm9tIFwiQGRpYWxlY3RsYWJzL2JsaW5rcy1jb3JlXCI7XG5pbXBvcnQgeyB1c2VDYWxsYmFjayBhcyB1c2VDYWxsYmFjazUsIHVzZU1lbW8gYXMgdXNlTWVtbzEyIH0gZnJvbSBcInJlYWN0XCI7XG52YXIgU09GVF9MSU1JVF9GT1JNX0lOUFVUUzIgPSAxMDtcbnZhciB1c2VJc29sYXRlZExheW91dFByb3BOb3JtYWxpemVyID0gKHtcbiAgZXhlY3V0ZUZuLFxuICBleGVjdXRpb25TdGF0dXMsXG4gIGV4ZWN1dGluZ0FjdGlvbixcbiAgYmxpbmssXG4gIGNvbXBvbmVudCxcbiAgY2FwdGlvbixcbiAgLi4ucHJvcHNcbn0pID0+IHtcbiAgY29uc3QgYXNCdXR0b25Qcm9wcyA9IHVzZUNhbGxiYWNrNShcbiAgICAoaXQpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRleHQ6IGJ1dHRvbkxhYmVsTWFwW2V4ZWN1dGlvblN0YXR1c10gPz8gaXQubGFiZWwsXG4gICAgICAgIGxvYWRpbmc6IGV4ZWN1dGlvblN0YXR1cyA9PT0gXCJleGVjdXRpbmdcIiAmJiAoaXQgPT09IGV4ZWN1dGluZ0FjdGlvbiB8fCBpdC5wYXJlbnRDb21wb25lbnQgPT09IGV4ZWN1dGluZ0FjdGlvbiksXG4gICAgICAgIGRpc2FibGVkOiBibGluay5kaXNhYmxlZCB8fCBibGluay50eXBlID09PSBcImNvbXBsZXRlZFwiIHx8IGV4ZWN1dGlvblN0YXR1cyAhPT0gXCJpZGxlXCIsXG4gICAgICAgIHZhcmlhbnQ6IGJ1dHRvblZhcmlhbnRNYXBbYmxpbmsudHlwZSA9PT0gXCJjb21wbGV0ZWRcIiA/IFwic3VjY2Vzc1wiIDogZXhlY3V0aW9uU3RhdHVzXSxcbiAgICAgICAgY3RhVHlwZTogKGl0LnR5cGUgPT09IFwiZXh0ZXJuYWwtbGlua1wiIHx8IGl0LnR5cGUgPT09IFwiaW5saW5lLWxpbmtcIikgJiYgKGV4ZWN1dGlvblN0YXR1cyA9PT0gXCJpZGxlXCIgfHwgZXhlY3V0aW9uU3RhdHVzID09PSBcImJsb2NrZWRcIikgPyBcImxpbmtcIiA6IFwiYnV0dG9uXCIsXG4gICAgICAgIG9uQ2xpY2s6IGFzeW5jIChwYXJhbXMpID0+IHtcbiAgICAgICAgICBjb25zdCBleHRyYSA9IGF3YWl0IGV4ZWN1dGVGbihpdC5wYXJlbnRDb21wb25lbnQgPz8gaXQsIHBhcmFtcyk7XG4gICAgICAgICAgaWYgKCFleHRyYSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXh0cmEudHlwZSA9PT0gXCJleHRlcm5hbC1saW5rXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHdpbmRvdy5jb25maXJtKFxuICAgICAgICAgICAgICBgVGhpcyBhY3Rpb24gcmVkaXJlY3RzIHRvIGFub3RoZXIgd2Vic2l0ZTogJHtleHRyYS5kYXRhLmV4dGVybmFsTGlua30sIHRoZSBsaW5rIHdpbGwgb3BlbiBpbiBhIG5ldyB0YWIgb2YgeW91ciBicm93c2VyYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgd2luZG93Lm9wZW4oXG4gICAgICAgICAgICAgICAgZXh0cmEuZGF0YS5leHRlcm5hbExpbmssXG4gICAgICAgICAgICAgICAgXCJfYmxhbmtcIixcbiAgICAgICAgICAgICAgICBcIm5vcmVmZmVyZXIsbm9vcGVuZXJcIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICByZXR1cm4gZXh0cmEub25OZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZXh0cmEub25DYW5jZWw/LigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9LFxuICAgIFtibGluay5kaXNhYmxlZCwgYmxpbmsudHlwZSwgZXhlY3V0ZUZuLCBleGVjdXRpbmdBY3Rpb24sIGV4ZWN1dGlvblN0YXR1c11cbiAgKTtcbiAgY29uc3QgYXNJbnB1dFByb3BzID0gdXNlQ2FsbGJhY2s1KFxuICAgIChpdCwgeyBwbGFjZW1lbnQgfSA9IHtcbiAgICAgIHBsYWNlbWVudDogXCJzdGFuZGFsb25lXCJcbiAgICB9KSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBpdC5wYXJhbWV0ZXIudHlwZSA/PyBcInRleHRcIixcbiAgICAgICAgcGxhY2Vob2xkZXI6IGl0LnBhcmFtZXRlci5sYWJlbCxcbiAgICAgICAgZGlzYWJsZWQ6IGJsaW5rLmRpc2FibGVkIHx8IGJsaW5rLnR5cGUgPT09IFwiY29tcGxldGVkXCIgfHwgZXhlY3V0aW9uU3RhdHVzICE9PSBcImlkbGVcIixcbiAgICAgICAgbmFtZTogaXQucGFyYW1ldGVyLm5hbWUsXG4gICAgICAgIHJlcXVpcmVkOiBpdC5wYXJhbWV0ZXIucmVxdWlyZWQsXG4gICAgICAgIG1pbjogaXQucGFyYW1ldGVyLm1pbixcbiAgICAgICAgbWF4OiBpdC5wYXJhbWV0ZXIubWF4LFxuICAgICAgICBwYXR0ZXJuOiBpdCBpbnN0YW5jZW9mIFNpbmdsZVZhbHVlQWN0aW9uQ29tcG9uZW50MiAmJiBpc1BhdHRlcm5BbGxvd2VkMihpdC5wYXJhbWV0ZXIpID8gaXQucGFyYW1ldGVyLnBhdHRlcm4gOiB2b2lkIDAsXG4gICAgICAgIG9wdGlvbnM6IGlzUGFyYW1ldGVyU2VsZWN0YWJsZTIoaXQucGFyYW1ldGVyKSA/IGl0LnBhcmFtZXRlci5vcHRpb25zIDogdm9pZCAwLFxuICAgICAgICBkZXNjcmlwdGlvbjogaXQucGFyYW1ldGVyLnBhdHRlcm5EZXNjcmlwdGlvbixcbiAgICAgICAgYnV0dG9uOiBwbGFjZW1lbnQgPT09IFwic3RhbmRhbG9uZVwiID8gYXNCdXR0b25Qcm9wcyhpdC50b0J1dHRvbkFjdGlvbkNvbXBvbmVudCgpKSA6IHZvaWQgMFxuICAgICAgfTtcbiAgICB9LFxuICAgIFtibGluay5kaXNhYmxlZCwgYmxpbmsudHlwZSwgYXNCdXR0b25Qcm9wcywgZXhlY3V0aW9uU3RhdHVzXVxuICApO1xuICBjb25zdCBhc0Zvcm1Qcm9wcyA9IHVzZUNhbGxiYWNrNShcbiAgICAoaXQpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJ1dHRvbjogYXNCdXR0b25Qcm9wcyhpdC50b0J1dHRvbkFjdGlvbkNvbXBvbmVudCgpKSxcbiAgICAgICAgaW5wdXRzOiBpdC5wYXJhbWV0ZXJzLnRvU3BsaWNlZChTT0ZUX0xJTUlUX0ZPUk1fSU5QVVRTMikubWFwKFxuICAgICAgICAgIChwYXJhbWV0ZXIpID0+IGFzSW5wdXRQcm9wcyhpdC50b0lucHV0QWN0aW9uQ29tcG9uZW50KHBhcmFtZXRlci5uYW1lKSwge1xuICAgICAgICAgICAgcGxhY2VtZW50OiBcImZvcm1cIlxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIH07XG4gICAgfSxcbiAgICBbYXNCdXR0b25Qcm9wcywgYXNJbnB1dFByb3BzXVxuICApO1xuICBjb25zdCBlbGVtZW50UHJvcHMgPSB1c2VNZW1vMTIoKCkgPT4ge1xuICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIFNpbmdsZVZhbHVlQWN0aW9uQ29tcG9uZW50MiB8fCBjb21wb25lbnQgaW5zdGFuY2VvZiBNdWx0aVZhbHVlQWN0aW9uQ29tcG9uZW50Mikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZWxlbWVudFR5cGU6IFwiaW5wdXRcIixcbiAgICAgICAgZWxlbWVudDogYXNJbnB1dFByb3BzKGNvbXBvbmVudClcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBGb3JtQWN0aW9uQ29tcG9uZW50Mikge1xuICAgICAgcmV0dXJuIHsgZWxlbWVudFR5cGU6IFwiZm9ybVwiLCBlbGVtZW50OiBhc0Zvcm1Qcm9wcyhjb21wb25lbnQpIH07XG4gICAgfVxuICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBCdXR0b25BY3Rpb25Db21wb25lbnQyKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBlbGVtZW50VHlwZTogXCJidXR0b25cIixcbiAgICAgICAgZWxlbWVudDogYXNCdXR0b25Qcm9wcyhjb21wb25lbnQpXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSwgW2FzQnV0dG9uUHJvcHMsIGFzRm9ybVByb3BzLCBhc0lucHV0UHJvcHMsIGNvbXBvbmVudF0pO1xuICBjb25zdCBub3JtYWxpemVkQ2FwdGlvbiA9IHVzZU1lbW8xMigoKSA9PiB7XG4gICAgaWYgKCFjYXB0aW9uKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGlmIChjYXB0aW9uLnR5cGUgPT09IFwic3VjY2Vzc1wiKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBjYXB0aW9uLnRleHRcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChjYXB0aW9uLnR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZXJyb3I6IGNhcHRpb24udGV4dFxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHt9O1xuICB9LCBbY2FwdGlvbl0pO1xuICBpZiAoIWVsZW1lbnRQcm9wcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiB7XG4gICAgLi4ucHJvcHMsXG4gICAgd2Vic2l0ZVRleHQ6IChwcm9wcy53ZWJzaXRlVGV4dCA9PT0gZmFsc2UgPyBcIlwiIDogcHJvcHMud2Vic2l0ZVRleHQpID8/IHByb3BzLndlYnNpdGVVcmwgPz8gYmxpbmsudXJsLFxuICAgIC4uLmVsZW1lbnRQcm9wcyxcbiAgICAuLi5ub3JtYWxpemVkQ2FwdGlvblxuICB9O1xufTtcblxuLy8gc3JjL3VpL2xheW91dHMvSXNvbGF0ZWRCbGlua0xheW91dC50c3hcbmltcG9ydCBjbHN4MTEgZnJvbSBcImNsc3hcIjtcbmltcG9ydCB7IHVzZU1lbW8gYXMgdXNlTWVtbzEzIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3ggYXMganN4MzQsIGpzeHMgYXMganN4czE4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgSXNvbGF0ZWRCbGlua0xheW91dCA9ICh7XG4gIHN0eWxlUHJlc2V0ID0gXCJkZWZhdWx0XCIsXG4gIGlkLFxuICBzdWNjZXNzLFxuICBlcnJvcixcbiAgbWVzc2FnZSxcbiAgLi4ucHJvcHNcbn0pID0+IHtcbiAgY29uc3QgZWxlbWVudCA9IHVzZU1lbW8xMygoKSA9PiB7XG4gICAgaWYgKHByb3BzLmVsZW1lbnRUeXBlID09PSBcImZvcm1cIikge1xuICAgICAgcmV0dXJuIHsgZm9ybTogcHJvcHMuZWxlbWVudCB9O1xuICAgIH1cbiAgICBpZiAocHJvcHMuZWxlbWVudFR5cGUgPT09IFwiYnV0dG9uXCIpIHtcbiAgICAgIHJldHVybiB7IGJ1dHRvbnM6IFtwcm9wcy5lbGVtZW50XSB9O1xuICAgIH1cbiAgICBpZiAocHJvcHMuZWxlbWVudFR5cGUgPT09IFwiaW5wdXRcIikge1xuICAgICAgcmV0dXJuIHsgaW5wdXRzOiBbcHJvcHMuZWxlbWVudF0gfTtcbiAgICB9XG4gICAgcmV0dXJuIHt9O1xuICB9LCBbcHJvcHMuZWxlbWVudCwgcHJvcHMuZWxlbWVudFR5cGVdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzMTgoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3gxMShcImJsaW5rIHctZnVsbFwiLCB0aGVtZUNsYXNzTWFwW3N0eWxlUHJlc2V0XSksIGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeDM0KEFjdGlvbkNvbnRlbnQsIHsgLi4uZWxlbWVudCB9LCBpZCksXG4gICAgc3VjY2VzcyAmJiAvKiBAX19QVVJFX18gKi8ganN4MzQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImJsaW5rLW1lc3NhZ2Utc3VjY2VzcyB0ZXh0LXN1YnRleHQgdGV4dC10ZXh0LXN1Y2Nlc3MgbXQtMS41IGJyZWFrLXdvcmRzIHRleHQtY2VudGVyXCIsIGNoaWxkcmVuOiBzdWNjZXNzIH0pLFxuICAgIGVycm9yICYmICFzdWNjZXNzICYmIC8qIEBfX1BVUkVfXyAqLyBqc3gzNChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwiYmxpbmstbWVzc2FnZS1lcnJvciB0ZXh0LXN1YnRleHQgdGV4dC10ZXh0LWVycm9yIG10LTEuNSBicmVhay13b3JkcyB0ZXh0LWNlbnRlclwiLCBjaGlsZHJlbjogZXJyb3IgfSksXG4gICAgbWVzc2FnZSAmJiAhc3VjY2VzcyAmJiAhZXJyb3IgJiYgLyogQF9fUFVSRV9fICovIGpzeDM0KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJibGluay1tZXNzYWdlLWRlZmF1bHQgdGV4dC1zdWJ0ZXh0IHRleHQtdGV4dC1zZWNvbmRhcnkgbXQtMS41IGJyZWFrLXdvcmRzIHRleHQtY2VudGVyXCIsIGNoaWxkcmVuOiBtZXNzYWdlIH0pXG4gIF0gfSk7XG59O1xuXG4vLyBzcmMvdWkvTWluaWJsaW5rLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDM1IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgTWluaWJsaW5rID0gKHtcbiAgX0xheW91dDogTGF5b3V0ID0gTm9ybWFsaXplZElzb2xhdGVkQmxpbmtMYXlvdXQsXG4gIHN0eWxlUHJlc2V0LFxuICAuLi5wcm9wc1xufSkgPT4ge1xuICBjb25zdCBMYXlvdXRXaXRoUHJlc2V0ID0gdXNlQ2FsbGJhY2s2KFxuICAgIChwcm9wczIpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3gzNShMYXlvdXQsIHsgLi4ucHJvcHMyLCBzdHlsZVByZXNldCB9KSxcbiAgICBbTGF5b3V0LCBzdHlsZVByZXNldF1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gzNShCbGlua0NvbnRhaW5lcjMsIHsgLi4ucHJvcHMsIHNlY3VyaXR5TGV2ZWw6IFwiYWxsXCIsIExheW91dDogTGF5b3V0V2l0aFByZXNldCB9KTtcbn07XG52YXIgTm9ybWFsaXplZElzb2xhdGVkQmxpbmtMYXlvdXQgPSAocHJvcHMpID0+IHtcbiAgY29uc3Qgbm9ybWFsaXplZFByb3BzID0gdXNlSXNvbGF0ZWRMYXlvdXRQcm9wTm9ybWFsaXplcihwcm9wcyk7XG4gIGlmICghbm9ybWFsaXplZFByb3BzKSB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgXCJbQGRpYWxlY3RsYWJzL2JsaW5rc10gTm8gYHNlbGVjdG9yYCBwcm9wIHByb3ZpZGVkIGZvciBNaW5pYmxpbmtcIlxuICAgICk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gzNShJc29sYXRlZEJsaW5rTGF5b3V0LCB7IC4uLm5vcm1hbGl6ZWRQcm9wcyB9KTtcbn07XG5cbmV4cG9ydCB7XG4gIHVzZUJhc2VMYXlvdXRQcm9wTm9ybWFsaXplcixcbiAgQmFzZUJsaW5rTGF5b3V0LFxuICBBY3Rpb25Db250ZW50LFxuICBBY3Rpb25zT25seUJsaW5rLFxuICBOb3JtYWxpemVkQWN0aW9uc09ubHlCbGlua0xheW91dCxcbiAgQmxpbmtDb21wb25lbnQsXG4gIE5vcm1hbGl6ZWRCYXNlQmxpbmtMYXlvdXQsXG4gIE1pbmlibGluayxcbiAgTm9ybWFsaXplZElzb2xhdGVkQmxpbmtMYXlvdXRcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@dialectlabs/blinks/dist/chunk-VCTADBOU.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@dialectlabs/blinks/dist/hooks/evm/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/@dialectlabs/blinks/dist/hooks/evm/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useEvmWagmiAdapter: () => (/* binding */ useEvmWagmiAdapter)\n/* harmony export */ });\n/* harmony import */ var _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @dialectlabs/blinks-core */ \"(ssr)/./node_modules/@dialectlabs/blinks-core/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var wagmi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! wagmi */ \"(ssr)/./node_modules/wagmi/dist/esm/hooks/useChains.js\");\n/* harmony import */ var wagmi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! wagmi */ \"(ssr)/./node_modules/wagmi/dist/esm/hooks/useAccount.js\");\n/* harmony import */ var wagmi__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! wagmi */ \"(ssr)/./node_modules/wagmi/dist/esm/hooks/useConnectorClient.js\");\n/* harmony import */ var wagmi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! wagmi */ \"(ssr)/./node_modules/@wagmi/core/dist/esm/utils/deserialize.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! viem */ \"(ssr)/./node_modules/viem/_esm/errors/transaction.js\");\n/* harmony import */ var viem_actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! viem/actions */ \"(ssr)/./node_modules/viem/_esm/actions/wallet/sendTransaction.js\");\n/* harmony import */ var viem_actions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! viem/actions */ \"(ssr)/./node_modules/viem/_esm/actions/wallet/signMessage.js\");\n/* harmony import */ var viem_actions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! viem/actions */ \"(ssr)/./node_modules/viem/_esm/actions/public/waitForTransactionReceipt.js\");\n// src/hooks/evm/useEvmWagmiAdapter.ts\n\n\n\n\n\nfunction useEvmWagmiAdapter({\n  onConnectWalletRequest\n}) {\n  const chains = (0,wagmi__WEBPACK_IMPORTED_MODULE_2__.useChains)();\n  const { address } = (0,wagmi__WEBPACK_IMPORTED_MODULE_3__.useAccount)();\n  const { data: client } = (0,wagmi__WEBPACK_IMPORTED_MODULE_4__.useConnectorClient)();\n  const adapter = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => ({\n      metadata: {\n        supportedBlockchainIds: chains.map((chain) => `eip155:${chain.id}`)\n      },\n      connect: async () => {\n        if (!address) {\n          try {\n            const potentialAddress = await onConnectWalletRequest();\n            return potentialAddress || null;\n          } catch (error) {\n            console.error(\"Blink wagmi adapter connection failed:\", error);\n            return null;\n          }\n        }\n        return address;\n      },\n      signTransaction: async (tx) => {\n        if (!address || !client) {\n          return { error: \"No wallet connected\" };\n        }\n        try {\n          const deserializedTx = (0,wagmi__WEBPACK_IMPORTED_MODULE_5__.deserialize)(tx);\n          const hash = await (0,viem_actions__WEBPACK_IMPORTED_MODULE_6__.sendTransaction)(client, {\n            ...deserializedTx,\n            account: address\n          });\n          return { signature: hash };\n        } catch (e) {\n          console.error(\"Blink wagmi adapter sign transaction failed:\", e);\n          if (e instanceof viem__WEBPACK_IMPORTED_MODULE_7__.TransactionExecutionError) {\n            return { error: `Unable to sign: ${e.shortMessage}` };\n          }\n          return { error: \"Signing failed\" };\n        }\n      },\n      signMessage: async (data) => {\n        if (!address || !client) {\n          return { error: \"No wallet connected\" };\n        }\n        let message;\n        if (typeof data === \"string\") {\n          message = data;\n        } else if (typeof data === \"object\" && \"raw\" in data) {\n          message = data;\n        } else {\n          message = JSON.stringify(data);\n        }\n        try {\n          const signature = await (0,viem_actions__WEBPACK_IMPORTED_MODULE_8__.signMessage)(client, {\n            account: address,\n            message\n          });\n          return { signature };\n        } catch (e) {\n          console.error(\"Blink wagmi adapter message signing failed:\", e);\n          return { error: \"Message signing failed\" };\n        }\n      },\n      confirmTransaction: async (signature) => {\n        if (!client) {\n          throw new Error(\"No wallet connected\");\n        }\n        const res = await (0,viem_actions__WEBPACK_IMPORTED_MODULE_9__.waitForTransactionReceipt)(client, {\n          hash: signature\n        });\n        if (res.status !== \"success\") {\n          throw new Error(\"Transaction confirmation failed\");\n        }\n      }\n    }),\n    [address, chains, client]\n  );\n  return { adapter };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGRpYWxlY3RsYWJzL2JsaW5rcy9kaXN0L2hvb2tzL2V2bS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ2tDO0FBQ0Y7QUFDK0M7QUFHakU7QUFLUTtBQUN0QjtBQUNBO0FBQ0EsQ0FBQztBQUNELGlCQUFpQixnREFBUztBQUMxQixVQUFVLFVBQVUsRUFBRSxpREFBVTtBQUNoQyxVQUFVLGVBQWUsRUFBRSx5REFBa0I7QUFDN0Msa0JBQWtCLDhDQUFPO0FBQ3pCO0FBQ0E7QUFDQSxnRUFBZ0UsU0FBUztBQUN6RSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBLGlDQUFpQyxrREFBVztBQUM1Qyw2QkFBNkIsNkRBQWU7QUFDNUM7QUFDQTtBQUNBLFdBQVc7QUFDWCxtQkFBbUI7QUFDbkIsVUFBVTtBQUNWO0FBQ0EsMkJBQTJCLDJEQUF5QjtBQUNwRCxxQkFBcUIsMEJBQTBCLGVBQWU7QUFDOUQ7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MseURBQVc7QUFDN0M7QUFDQTtBQUNBLFdBQVc7QUFDWCxtQkFBbUI7QUFDbkIsVUFBVTtBQUNWO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHVFQUF5QjtBQUNuRDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBR0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ibGluay1zdGFydGVyLW1vbmFkLy4vbm9kZV9tb2R1bGVzL0BkaWFsZWN0bGFicy9ibGlua3MvZGlzdC9ob29rcy9ldm0vaW5kZXguanM/ODZmMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvaG9va3MvZXZtL3VzZUV2bVdhZ21pQWRhcHRlci50c1xuaW1wb3J0IFwiQGRpYWxlY3RsYWJzL2JsaW5rcy1jb3JlXCI7XG5pbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBkZXNlcmlhbGl6ZSwgdXNlQWNjb3VudCwgdXNlQ2hhaW5zLCB1c2VDb25uZWN0b3JDbGllbnQgfSBmcm9tIFwid2FnbWlcIjtcbmltcG9ydCB7XG4gIFRyYW5zYWN0aW9uRXhlY3V0aW9uRXJyb3Jcbn0gZnJvbSBcInZpZW1cIjtcbmltcG9ydCB7XG4gIHNlbmRUcmFuc2FjdGlvbixcbiAgc2lnbk1lc3NhZ2UsXG4gIHdhaXRGb3JUcmFuc2FjdGlvblJlY2VpcHRcbn0gZnJvbSBcInZpZW0vYWN0aW9uc1wiO1xuZnVuY3Rpb24gdXNlRXZtV2FnbWlBZGFwdGVyKHtcbiAgb25Db25uZWN0V2FsbGV0UmVxdWVzdFxufSkge1xuICBjb25zdCBjaGFpbnMgPSB1c2VDaGFpbnMoKTtcbiAgY29uc3QgeyBhZGRyZXNzIH0gPSB1c2VBY2NvdW50KCk7XG4gIGNvbnN0IHsgZGF0YTogY2xpZW50IH0gPSB1c2VDb25uZWN0b3JDbGllbnQoKTtcbiAgY29uc3QgYWRhcHRlciA9IHVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgIHN1cHBvcnRlZEJsb2NrY2hhaW5JZHM6IGNoYWlucy5tYXAoKGNoYWluKSA9PiBgZWlwMTU1OiR7Y2hhaW4uaWR9YClcbiAgICAgIH0sXG4gICAgICBjb25uZWN0OiBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghYWRkcmVzcykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwb3RlbnRpYWxBZGRyZXNzID0gYXdhaXQgb25Db25uZWN0V2FsbGV0UmVxdWVzdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHBvdGVudGlhbEFkZHJlc3MgfHwgbnVsbDtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkJsaW5rIHdhZ21pIGFkYXB0ZXIgY29ubmVjdGlvbiBmYWlsZWQ6XCIsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWRkcmVzcztcbiAgICAgIH0sXG4gICAgICBzaWduVHJhbnNhY3Rpb246IGFzeW5jICh0eCkgPT4ge1xuICAgICAgICBpZiAoIWFkZHJlc3MgfHwgIWNsaWVudCkge1xuICAgICAgICAgIHJldHVybiB7IGVycm9yOiBcIk5vIHdhbGxldCBjb25uZWN0ZWRcIiB9O1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZGVzZXJpYWxpemVkVHggPSBkZXNlcmlhbGl6ZSh0eCk7XG4gICAgICAgICAgY29uc3QgaGFzaCA9IGF3YWl0IHNlbmRUcmFuc2FjdGlvbihjbGllbnQsIHtcbiAgICAgICAgICAgIC4uLmRlc2VyaWFsaXplZFR4LFxuICAgICAgICAgICAgYWNjb3VudDogYWRkcmVzc1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiB7IHNpZ25hdHVyZTogaGFzaCB9O1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkJsaW5rIHdhZ21pIGFkYXB0ZXIgc2lnbiB0cmFuc2FjdGlvbiBmYWlsZWQ6XCIsIGUpO1xuICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgVHJhbnNhY3Rpb25FeGVjdXRpb25FcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3I6IGBVbmFibGUgdG8gc2lnbjogJHtlLnNob3J0TWVzc2FnZX1gIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB7IGVycm9yOiBcIlNpZ25pbmcgZmFpbGVkXCIgfTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHNpZ25NZXNzYWdlOiBhc3luYyAoZGF0YSkgPT4ge1xuICAgICAgICBpZiAoIWFkZHJlc3MgfHwgIWNsaWVudCkge1xuICAgICAgICAgIHJldHVybiB7IGVycm9yOiBcIk5vIHdhbGxldCBjb25uZWN0ZWRcIiB9O1xuICAgICAgICB9XG4gICAgICAgIGxldCBtZXNzYWdlO1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICBtZXNzYWdlID0gZGF0YTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gXCJvYmplY3RcIiAmJiBcInJhd1wiIGluIGRhdGEpIHtcbiAgICAgICAgICBtZXNzYWdlID0gZGF0YTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBzaWduYXR1cmUgPSBhd2FpdCBzaWduTWVzc2FnZShjbGllbnQsIHtcbiAgICAgICAgICAgIGFjY291bnQ6IGFkZHJlc3MsXG4gICAgICAgICAgICBtZXNzYWdlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHsgc2lnbmF0dXJlIH07XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQmxpbmsgd2FnbWkgYWRhcHRlciBtZXNzYWdlIHNpZ25pbmcgZmFpbGVkOlwiLCBlKTtcbiAgICAgICAgICByZXR1cm4geyBlcnJvcjogXCJNZXNzYWdlIHNpZ25pbmcgZmFpbGVkXCIgfTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNvbmZpcm1UcmFuc2FjdGlvbjogYXN5bmMgKHNpZ25hdHVyZSkgPT4ge1xuICAgICAgICBpZiAoIWNsaWVudCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHdhbGxldCBjb25uZWN0ZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgd2FpdEZvclRyYW5zYWN0aW9uUmVjZWlwdChjbGllbnQsIHtcbiAgICAgICAgICBoYXNoOiBzaWduYXR1cmVcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXMuc3RhdHVzICE9PSBcInN1Y2Nlc3NcIikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyYW5zYWN0aW9uIGNvbmZpcm1hdGlvbiBmYWlsZWRcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSxcbiAgICBbYWRkcmVzcywgY2hhaW5zLCBjbGllbnRdXG4gICk7XG4gIHJldHVybiB7IGFkYXB0ZXIgfTtcbn1cbmV4cG9ydCB7XG4gIHVzZUV2bVdhZ21pQWRhcHRlclxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@dialectlabs/blinks/dist/hooks/evm/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@dialectlabs/blinks/dist/index.js":
/*!********************************************************!*\
  !*** ./node_modules/@dialectlabs/blinks/dist/index.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractActionComponent: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.AbstractActionComponent),\n/* harmony export */   Action: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.Action),\n/* harmony export */   ActionContent: () => (/* reexport safe */ _chunk_VCTADBOU_js__WEBPACK_IMPORTED_MODULE_0__.ActionContent),\n/* harmony export */   ActionsOnlyBlink: () => (/* reexport safe */ _chunk_VCTADBOU_js__WEBPACK_IMPORTED_MODULE_0__.ActionsOnlyBlink),\n/* harmony export */   ActionsRegistry: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.ActionsRegistry),\n/* harmony export */   ActionsURLMapper: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.ActionsURLMapper),\n/* harmony export */   BASELINE_ACTION_BLOCKCHAIN_IDS: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.BASELINE_ACTION_BLOCKCHAIN_IDS),\n/* harmony export */   BASELINE_ACTION_VERSION: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.BASELINE_ACTION_VERSION),\n/* harmony export */   BASELINE_BLINK_BLOCKCHAIN_IDS: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.BASELINE_BLINK_BLOCKCHAIN_IDS),\n/* harmony export */   BLINK_CLIENT_KEY_HEADER: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.BLINK_CLIENT_KEY_HEADER),\n/* harmony export */   BaseBlinkLayout: () => (/* reexport safe */ _chunk_VCTADBOU_js__WEBPACK_IMPORTED_MODULE_0__.BaseBlinkLayout),\n/* harmony export */   Blink: () => (/* reexport safe */ _chunk_VCTADBOU_js__WEBPACK_IMPORTED_MODULE_0__.BlinkComponent),\n/* harmony export */   BlinkComponent: () => (/* reexport safe */ _chunk_VCTADBOU_js__WEBPACK_IMPORTED_MODULE_0__.BlinkComponent),\n/* harmony export */   BlinkContainer: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.BlinkContainer),\n/* harmony export */   BlinkInstance: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.BlinkInstance),\n/* harmony export */   BlinksRegistry: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.BlinksRegistry),\n/* harmony export */   BlinksURLMapper: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.BlinksURLMapper),\n/* harmony export */   BlockchainIds: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.BlockchainIds),\n/* harmony export */   ButtonActionComponent: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.ButtonActionComponent),\n/* harmony export */   DEFAULT_SUPPORTED_BLOCKCHAIN_IDS: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_SUPPORTED_BLOCKCHAIN_IDS),\n/* harmony export */   DisclaimerType: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.DisclaimerType),\n/* harmony export */   ExecutionType: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.ExecutionType),\n/* harmony export */   FormActionComponent: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.FormActionComponent),\n/* harmony export */   MAX_SUPPORTED_ACTION_VERSION: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.MAX_SUPPORTED_ACTION_VERSION),\n/* harmony export */   Miniblink: () => (/* reexport safe */ _chunk_VCTADBOU_js__WEBPACK_IMPORTED_MODULE_0__.Miniblink),\n/* harmony export */   MultiValueActionComponent: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.MultiValueActionComponent),\n/* harmony export */   NormalizedActionsOnlyBlinkLayout: () => (/* reexport safe */ _chunk_VCTADBOU_js__WEBPACK_IMPORTED_MODULE_0__.NormalizedActionsOnlyBlinkLayout),\n/* harmony export */   NormalizedBaseBlinkLayout: () => (/* reexport safe */ _chunk_VCTADBOU_js__WEBPACK_IMPORTED_MODULE_0__.NormalizedBaseBlinkLayout),\n/* harmony export */   NormalizedIsolatedBlinkLayout: () => (/* reexport safe */ _chunk_VCTADBOU_js__WEBPACK_IMPORTED_MODULE_0__.NormalizedIsolatedBlinkLayout),\n/* harmony export */   SOLANA_ACTION_PREFIX: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.SOLANA_ACTION_PREFIX),\n/* harmony export */   SignMessageVerificationErrorType: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.SignMessageVerificationErrorType),\n/* harmony export */   SingleValueActionComponent: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.SingleValueActionComponent),\n/* harmony export */   checkSecurity: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.checkSecurity),\n/* harmony export */   createSignMessageText: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.createSignMessageText),\n/* harmony export */   defaultActionSupportStrategy: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.defaultActionSupportStrategy),\n/* harmony export */   defaultBlinkSupportStrategy: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.defaultBlinkSupportStrategy),\n/* harmony export */   fetchActionsRegistryConfig: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.fetchActionsRegistryConfig),\n/* harmony export */   fetchBlinkList: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.fetchBlinkList),\n/* harmony export */   fetchMetadata: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.fetchMetadata),\n/* harmony export */   getBlinkSupportabilityMetadata: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.getBlinkSupportabilityMetadata),\n/* harmony export */   getExtendedActionState: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.getExtendedActionState),\n/* harmony export */   getExtendedBlinkState: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.getExtendedBlinkState),\n/* harmony export */   getExtendedInterstitialState: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.getExtendedInterstitialState),\n/* harmony export */   getExtendedWebsiteState: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.getExtendedWebsiteState),\n/* harmony export */   isBlockchainSupported: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.isBlockchainSupported),\n/* harmony export */   isInterstitial: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.isInterstitial),\n/* harmony export */   isParameterSelectable: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.isParameterSelectable),\n/* harmony export */   isPatternAllowed: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.isPatternAllowed),\n/* harmony export */   isProxified: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.isProxified),\n/* harmony export */   isVersionSupported: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.isVersionSupported),\n/* harmony export */   mergeActionStates: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.mergeActionStates),\n/* harmony export */   mergeBlinkStates: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.mergeBlinkStates),\n/* harmony export */   parseSignMessageText: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.parseSignMessageText),\n/* harmony export */   proxify: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.proxify),\n/* harmony export */   proxifyImage: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.proxifyImage),\n/* harmony export */   setClientKey: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.setClientKey),\n/* harmony export */   setProxyUrl: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.setProxyUrl),\n/* harmony export */   unfurlUrlToActionApiUrl: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.unfurlUrlToActionApiUrl),\n/* harmony export */   unfurlUrlToBlinkApiUrl: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.unfurlUrlToBlinkApiUrl),\n/* harmony export */   useAction: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.useAction),\n/* harmony export */   useActionApiUrl: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.useActionApiUrl),\n/* harmony export */   useActionsRegistryInterval: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.useActionsRegistryInterval),\n/* harmony export */   useBaseLayoutPropNormalizer: () => (/* reexport safe */ _chunk_VCTADBOU_js__WEBPACK_IMPORTED_MODULE_0__.useBaseLayoutPropNormalizer),\n/* harmony export */   useBlink: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.useBlink),\n/* harmony export */   useBlinkApiUrl: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.useBlinkApiUrl),\n/* harmony export */   useBlinkList: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.useBlinkList),\n/* harmony export */   useBlinksRegistryInterval: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.useBlinksRegistryInterval),\n/* harmony export */   useMetadata: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.useMetadata),\n/* harmony export */   verifySignMessageData: () => (/* reexport safe */ _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__.verifySignMessageData)\n/* harmony export */ });\n/* harmony import */ var _chunk_VCTADBOU_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-VCTADBOU.js */ \"(ssr)/./node_modules/@dialectlabs/blinks/dist/chunk-VCTADBOU.js\");\n/* harmony import */ var _dialectlabs_blinks_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @dialectlabs/blinks-core */ \"(ssr)/./node_modules/@dialectlabs/blinks-core/dist/index.js\");\n\n\n// src/index.ts\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGRpYWxlY3RsYWJzL2JsaW5rcy9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBVTZCOztBQUU3QjtBQUN5QztBQVl2QyIsInNvdXJjZXMiOlsid2VicGFjazovL2JsaW5rLXN0YXJ0ZXItbW9uYWQvLi9ub2RlX21vZHVsZXMvQGRpYWxlY3RsYWJzL2JsaW5rcy9kaXN0L2luZGV4LmpzP2MzMzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWN0aW9uQ29udGVudCxcbiAgQWN0aW9uc09ubHlCbGluayxcbiAgQmFzZUJsaW5rTGF5b3V0LFxuICBCbGlua0NvbXBvbmVudCxcbiAgTWluaWJsaW5rLFxuICBOb3JtYWxpemVkQWN0aW9uc09ubHlCbGlua0xheW91dCxcbiAgTm9ybWFsaXplZEJhc2VCbGlua0xheW91dCxcbiAgTm9ybWFsaXplZElzb2xhdGVkQmxpbmtMYXlvdXQsXG4gIHVzZUJhc2VMYXlvdXRQcm9wTm9ybWFsaXplclxufSBmcm9tIFwiLi9jaHVuay1WQ1RBREJPVS5qc1wiO1xuXG4vLyBzcmMvaW5kZXgudHNcbmV4cG9ydCAqIGZyb20gXCJAZGlhbGVjdGxhYnMvYmxpbmtzLWNvcmVcIjtcbmV4cG9ydCB7XG4gIEFjdGlvbkNvbnRlbnQsXG4gIEFjdGlvbnNPbmx5QmxpbmssXG4gIEJhc2VCbGlua0xheW91dCxcbiAgQmxpbmtDb21wb25lbnQgYXMgQmxpbmssXG4gIEJsaW5rQ29tcG9uZW50LFxuICBNaW5pYmxpbmssXG4gIE5vcm1hbGl6ZWRBY3Rpb25zT25seUJsaW5rTGF5b3V0LFxuICBOb3JtYWxpemVkQmFzZUJsaW5rTGF5b3V0LFxuICBOb3JtYWxpemVkSXNvbGF0ZWRCbGlua0xheW91dCxcbiAgdXNlQmFzZUxheW91dFByb3BOb3JtYWxpemVyXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@dialectlabs/blinks/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@dialectlabs/blinks/node_modules/clsx/dist/clsx.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@dialectlabs/blinks/node_modules/clsx/dist/clsx.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clsx: () => (/* binding */ clsx),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (clsx);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGRpYWxlY3RsYWJzL2JsaW5rcy9ub2RlX21vZHVsZXMvY2xzeC9kaXN0L2Nsc3gubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsY0FBYyxhQUFhLCtDQUErQyxnREFBZ0QsZUFBZSxRQUFRLElBQUksMENBQTBDLHlDQUF5QyxTQUFnQixnQkFBZ0Isd0NBQXdDLElBQUksbURBQW1ELFNBQVMsaUVBQWUsSUFBSSIsInNvdXJjZXMiOlsid2VicGFjazovL2JsaW5rLXN0YXJ0ZXItbW9uYWQvLi9ub2RlX21vZHVsZXMvQGRpYWxlY3RsYWJzL2JsaW5rcy9ub2RlX21vZHVsZXMvY2xzeC9kaXN0L2Nsc3gubWpzPzM5ZjEiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gcihlKXt2YXIgdCxmLG49XCJcIjtpZihcInN0cmluZ1wiPT10eXBlb2YgZXx8XCJudW1iZXJcIj09dHlwZW9mIGUpbis9ZTtlbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiBlKWlmKEFycmF5LmlzQXJyYXkoZSkpe3ZhciBvPWUubGVuZ3RoO2Zvcih0PTA7dDxvO3QrKyllW3RdJiYoZj1yKGVbdF0pKSYmKG4mJihuKz1cIiBcIiksbis9Zil9ZWxzZSBmb3IoZiBpbiBlKWVbZl0mJihuJiYobis9XCIgXCIpLG4rPWYpO3JldHVybiBufWV4cG9ydCBmdW5jdGlvbiBjbHN4KCl7Zm9yKHZhciBlLHQsZj0wLG49XCJcIixvPWFyZ3VtZW50cy5sZW5ndGg7ZjxvO2YrKykoZT1hcmd1bWVudHNbZl0pJiYodD1yKGUpKSYmKG4mJihuKz1cIiBcIiksbis9dCk7cmV0dXJuIG59ZXhwb3J0IGRlZmF1bHQgY2xzeDsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@dialectlabs/blinks/node_modules/clsx/dist/clsx.mjs\n");

/***/ })

};
;